# ğŸ”§ IT å°ˆæ¡ˆæµç¨‹ç®¡ç†å¹³å° - ä¿®å¾©æ—¥èªŒ

> **ç›®çš„**: è¨˜éŒ„æ‰€æœ‰é‡è¦å•é¡Œçš„ä¿®å¾©éç¨‹ï¼Œé˜²æ­¢é‡è¤‡çŠ¯éŒ¯ï¼Œæä¾›å•é¡Œæ’æŸ¥æŒ‡å—
> **é‡è¦**: âš ï¸ **æ–°çš„ä¿®å¾©è¨˜éŒ„å¿…é ˆæ·»åŠ åœ¨ç´¢å¼•è¡¨å’Œè©³ç´°å…§å®¹çš„æœ€é ‚éƒ¨** - ä¿æŒæ™‚é–“å€’åºæ’åˆ—ï¼ˆæœ€æ–°åœ¨ä¸Šï¼‰
> **æ ¼å¼**: `FIX-XXX: å•é¡Œç°¡è¿°`ï¼Œç·¨è™Ÿéå¢ï¼Œè©³ç´°å…§å®¹æŒ‰ç·¨è™Ÿå€’åºæ’åˆ—

---

## ğŸ“‹ ä¿®å¾©è¨˜éŒ„ç´¢å¼• (æœ€æ–°åœ¨ä¸Š)

| æ—¥æœŸ | å•é¡Œé¡å‹ | ç‹€æ…‹ | æè¿° |
|------|----------|------|------|
| **2025-11-13** | **ğŸŒ i18n/åœ‹éš›åŒ–** | âœ… **å·²è§£æ±º** | **[FIX-088: Budget Pool æ¨¡çµ„ç¼ºå¤± 5 å€‹ translation keys](#fix-088-budget-pool-æ¨¡çµ„ç¼ºå¤±-5-å€‹-translation-keys)** â­ **æ‰‹å‹•æ¸¬è©¦ç™¼ç¾** |
| **2025-11-07** | **ğŸŒ i18n/åœ‹éš›åŒ–** | âœ… **å·²è§£æ±º** | **[FIX-080: OM Expenses å’Œ ChargeOut ç¿»è­¯éµç¼ºå¤±](#fix-080-om-expenses-å’Œ-chargeout-ç¿»è­¯éµç¼ºå¤±)** |
| **2025-11-07** | **ğŸŒ i18n/è·¯ç”±** | âœ… **å·²è§£æ±º** | **[FIX-079: Breadcrumb ä¿®å¾©å°è‡´ Link Import è¡çª](#fix-079-breadcrumb-ä¿®å¾©å°è‡´-link-import-è¡çª)** â­ **è‡ªå‹•åŒ–å·¥å…·** |
| **2025-11-07** | **ğŸŒ i18n/è·¯ç”±** | âœ… **å·²è§£æ±º** | **[FIX-078: 34 é é¢ Breadcrumb ä½¿ç”¨éåœ‹éš›åŒ– Link](#fix-078-34-é é¢-breadcrumb-ä½¿ç”¨éåœ‹éš›åŒ–-link)** â­ **é‡å¤§ä¿®å¾©** |
| **2025-11-07** | **ğŸŒ i18n/åœ‹éš›åŒ–** | âœ… **å·²è§£æ±º** | **[FIX-077: 4 å€‹ I18N ç¿»è­¯éµç¼ºå¤±](#fix-077-4-å€‹-i18n-ç¿»è­¯éµç¼ºå¤±)** |
| **2025-11-04** | **ğŸŒ i18n/åœ‹éš›åŒ–** | âœ… **å·²è§£æ±º** | **[FIX-060: è‹±æ–‡ç‰ˆé¡¯ç¤ºä¸­æ–‡å…§å®¹ - getMessages() åƒæ•¸ç¼ºå¤±](#fix-060-è‹±æ–‡ç‰ˆé¡¯ç¤ºä¸­æ–‡å…§å®¹---getmessages-åƒæ•¸ç¼ºå¤±)** â­ **é‡å¤§ä¿®å¾©** |
| 2025-11-03 | ğŸ¨ å‰ç«¯/React | âœ… å·²è§£æ±º | [FIX-059: Nested Links å°è‡´ React Hydration è­¦å‘Š](#fix-059-nested-links-å°è‡´-react-hydration-è­¦å‘Š) |
| 2025-11-03 | ğŸ”§ ç·¨è­¯/Import | âœ… å·²è§£æ±º | [FIX-057: å¤§è¦æ¨¡é‡è¤‡ Import - 39 æª”æ¡ˆ 327 é‡è¤‡èªå¥](#fix-057-å¤§è¦æ¨¡é‡è¤‡-import---39-æª”æ¡ˆ-327-é‡è¤‡èªå¥) |
| 2025-11-01 | ğŸ¨ å‰ç«¯/Toast | âœ… å·²è§£æ±º | [FIX-058: Toast Provider éŒ¯èª¤ä¿®å¾©ç¬¬ä¸‰è¼ª - å­çµ„ä»¶æª¢æŸ¥](#fix-058-toast-provider-éŒ¯èª¤ä¿®å¾©ç¬¬ä¸‰è¼ª---å­çµ„ä»¶æª¢æŸ¥) |
| 2025-11-01 | ğŸ¨ å‰ç«¯/Toast | âœ… å·²è§£æ±º | [FIX-057: Toast è‡ªå‹•é—œé–‰èˆ‡è©•è«–åˆ·æ–°å•é¡Œ](#fix-057-toast-è‡ªå‹•é—œé–‰èˆ‡è©•è«–åˆ·æ–°å•é¡Œ) |
| 2025-11-01 | ğŸ¨ å‰ç«¯/Toast | âœ… å·²è§£æ±º | [FIX-056: Toast é€šçŸ¥ç³»çµ±é·ç§»ç¬¬ä¸€è¼ª](#fix-056-toast-é€šçŸ¥ç³»çµ±é·ç§»ç¬¬ä¸€è¼ª) |
| 2025-10-31 | ğŸ§ª E2Eæ¸¬è©¦/HMR | âœ… å·²è§£æ±º | [FIX-044: ExpensesPage è©³æƒ…é  HotReload å•é¡Œ - API é©—è­‰æ–¹æ¡ˆ](#fix-044-expensespage-è©³æƒ…é -hotreload-å•é¡Œ---api-é©—è­‰æ–¹æ¡ˆ) |
| 2025-10-31 | ğŸ§ª E2Eæ¸¬è©¦/HMR | âœ… å·²è§£æ±º | [FIX-043: ExpensesPage åˆ—è¡¨é  HotReload è‡¨æ™‚ç¹éæ–¹æ¡ˆ](#fix-043-expensespage-åˆ—è¡¨é -hotreload-è‡¨æ™‚ç¹éæ–¹æ¡ˆ) |
| 2025-10-31 | ğŸ§ª E2Eæ¸¬è©¦/ç©©å®šæ€§ | âœ… å·²è§£æ±º | [FIX-042: waitForEntityPersisted å®¹éŒ¯æ€§å¢å¼·](#fix-042-waitforentitypersisted-å®¹éŒ¯æ€§å¢å¼·) |
| 2025-10-31 | ğŸ§ª E2Eæ¸¬è©¦/HMR | âš ï¸ éƒ¨åˆ†è§£æ±º | [FIX-039-REVISED-V2: ExpensesPage HotReload å¢å¼·ç‰ˆå®¹éŒ¯æ©Ÿåˆ¶](#fix-039-revised-v2-expensespage-hotreload-å¢å¼·ç‰ˆå®¹éŒ¯æ©Ÿåˆ¶) |
| 2025-10-30 | ğŸ§ª æ¸¬è©¦/ç©©å®šæ€§ | âœ… å·²è§£æ±º | [FIX-015: Jest Worker å´©æ½°èˆ‡ Next.js ç‰ˆæœ¬å‡ç´š](#fix-015-jest-worker-å´©æ½°èˆ‡-nextjs-ç‰ˆæœ¬å‡ç´š) |
| 2025-10-30 | ğŸ” èªè­‰/CSRF | âœ… å·²è§£æ±º | [FIX-014: NextAuth MissingCSRF å†·å•Ÿå‹•å•é¡Œ](#fix-014-nextauth-missingcsrf-å†·å•Ÿå‹•å•é¡Œ) |
| 2025-10-29 | ğŸ” èªè­‰/æ¶æ§‹ | âœ… å·²è§£æ±º | [FIX-009: NextAuth v5 å‡ç´šèˆ‡ Middleware Edge Runtime å…¼å®¹æ€§ä¿®å¾©](#fix-009-nextauth-v5-å‡ç´šèˆ‡-middleware-edge-runtime-å…¼å®¹æ€§ä¿®å¾©) |
| 2025-10-27 | ğŸ¨ å‰ç«¯/è¡¨å–® | âœ… å·²è§£æ±º | [FIX-008: PurchaseOrderForm é¸æ“‡æ¬„ä½ä¿®å¾©](#fix-008-purchaseorderform-é¸æ“‡æ¬„ä½ä¿®å¾©) |
| 2025-10-27 | ğŸ¨ å‰ç«¯/è¡¨å–® | âœ… å·²è§£æ±º | [FIX-007: ExpenseForm é¸æ“‡æ¬„ä½ä¿®å¾©](#fix-007-expenseform-é¸æ“‡æ¬„ä½ä¿®å¾©) |
| 2025-10-27 | ğŸ”Œ API/å‰ç«¯æ•´åˆ | âœ… å·²è§£æ±º | [FIX-006: Toast ç³»çµ±ä¸ä¸€è‡´èˆ‡ Expense API Schema åŒæ­¥å•é¡Œ](#fix-006-toast-ç³»çµ±ä¸ä¸€è‡´èˆ‡-expense-api-schema-åŒæ­¥å•é¡Œ) |
| 2025-10-22 | ğŸ”§ ç’°å¢ƒ/éƒ¨ç½² | âœ… å·²è§£æ±º | [FIX-005: è·¨å¹³å°ç’°å¢ƒéƒ¨ç½²ä¸€è‡´æ€§å•é¡Œ](#fix-005-è·¨å¹³å°ç’°å¢ƒéƒ¨ç½²ä¸€è‡´æ€§å•é¡Œ) |
| 2025-10-22 | ğŸ”„ ç‰ˆæœ¬æ§åˆ¶/åŒæ­¥ | âœ… å·²è§£æ±º | [FIX-004: GitHub åˆ†æ”¯åŒæ­¥ä¸ä¸€è‡´å•é¡Œ](#fix-004-github-åˆ†æ”¯åŒæ­¥ä¸ä¸€è‡´å•é¡Œ) |
| 2025-10-22 | ğŸ¨ å‰ç«¯/ç·¨è­¯ | âœ… å·²è§£æ±º | [FIX-003: æª”æ¡ˆå‘½åå¤§å°å¯«ä¸ä¸€è‡´å°è‡´ Webpack ç·¨è­¯è­¦å‘Š](#fix-003-æª”æ¡ˆå‘½åå¤§å°å¯«ä¸ä¸€è‡´å°è‡´-webpack-ç·¨è­¯è­¦å‘Š) |
| 2025-10-02 | ğŸ“‹ ç´¢å¼•ç³»çµ±/æ–‡æª” | âœ… å·²è§£æ±º | [FIX-002: Regex èªæ³•éŒ¯èª¤ - ç´¢å¼•æª¢æŸ¥å·¥å…·å¤±æ•ˆ](#fix-002-regex-èªæ³•éŒ¯èª¤---ç´¢å¼•æª¢æŸ¥å·¥å…·å¤±æ•ˆ) |
| 2025-10-02 | ğŸ“š æ–‡æª”/å°èˆª | âœ… å·²è§£æ±º | [FIX-001: å°ˆæ¡ˆç¼ºä¹ AI åŠ©æ‰‹å°èˆªç³»çµ±](#fix-001-å°ˆæ¡ˆç¼ºä¹-ai-åŠ©æ‰‹å°èˆªç³»çµ±) |

---

## ğŸ” å¿«é€Ÿæœç´¢

- **i18n åœ‹éš›åŒ–å•é¡Œ**: FIX-088 (Budget Pool 5å€‹ç¼ºå¤±ç¿»è­¯éµ - æ‰‹å‹•æ¸¬è©¦ç™¼ç¾) â­ **æœ€æ–°ä¿®å¾©**, FIX-080 (OM Expenses + ChargeOut ç¿»è­¯), FIX-077 (4å€‹ç¼ºå¤±ç¿»è­¯éµ), FIX-060 (è‹±æ–‡ç‰ˆé¡¯ç¤ºä¸­æ–‡ - getMessages åƒæ•¸ç¼ºå¤±)
- **i18n è·¯ç”±å•é¡Œ**: FIX-078 (34é é¢ Breadcrumb è·¯ç”±), FIX-079 (Link Import è¡çª) â­ **æœ€æ–°é‡å¤§ä¿®å¾©**
- **i18n React è­¦å‘Š**: FIX-059 (Nested Links è­¦å‘Š)
- **i18n ç·¨è­¯å•é¡Œ**: FIX-057 (å¤§è¦æ¨¡é‡è¤‡ Import)
- **Toast ç³»çµ±å•é¡Œ**: FIX-056, FIX-058 (ä¸‰è¼ªå®Œæ•´ä¿®å¾©)
- **æ–‡æª”/ç´¢å¼•å•é¡Œ**: FIX-001, FIX-002
- **ç’°å¢ƒ/éƒ¨ç½²å•é¡Œ**: FIX-005
- **ç‰ˆæœ¬æ§åˆ¶å•é¡Œ**: FIX-004
- **å‰ç«¯å•é¡Œ**: FIX-003, FIX-006, FIX-007, FIX-008, FIX-056, FIX-057, FIX-058, FIX-059
- **è¡¨å–®å•é¡Œ**: FIX-007, FIX-008 (Shadcn Select DOM Nesting)
- **å­çµ„ä»¶å•é¡Œ**: FIX-058 (QuoteUploadForm, OMExpenseMonthlyGrid)
- **ç·¨è­¯å•é¡Œ**: FIX-060 (é‡è¤‡ Import é˜»æ­¢ç·¨è­¯)
- **é…ç½®å•é¡Œ**:
- **èªè­‰å•é¡Œ**: FIX-009 (NextAuth v5 å‡ç´š), FIX-014 (MissingCSRF)
- **æ¶æ§‹å•é¡Œ**: FIX-009 (Edge Runtime å…¼å®¹æ€§)
- **APIå•é¡Œ**: FIX-006
- **è³‡æ–™åº«å•é¡Œ**:
- **æ¸¬è©¦å•é¡Œ**: FIX-015 (Jest Worker å´©æ½°)
- **UI åˆ·æ–°å•é¡Œ**: FIX-057 (tRPC invalidate)
- **ç©©å®šæ€§å•é¡Œ**: FIX-015 (Next.js 14.2.33 å‡ç´š)
- **React è­¦å‘Šå•é¡Œ**: FIX-059 (Nested Links Hydration)

---

## ğŸ“ ç¶­è­·æŒ‡å—

- **æ–°å¢ä¿®å¾©è¨˜éŒ„**: åœ¨ç´¢å¼•è¡¨é ‚éƒ¨æ·»åŠ æ–°æ¢ç›®ï¼Œåœ¨è©³ç´°è¨˜éŒ„é ‚éƒ¨æ·»åŠ å®Œæ•´å…§å®¹
- **ç·¨è™Ÿè¦å‰‡**: æŒ‰æ™‚é–“é †åºéå¢ (FIX-001, FIX-002, FIX-003...)
- **ç‹€æ…‹æ¨™è¨˜**: âœ…å·²è§£æ±º / ğŸ”„é€²è¡Œä¸­ / âŒæœªè§£æ±º / ğŸ“‹å¾…ä¿®å¾©
- **å•é¡Œç´šåˆ¥**: ğŸ”´Critical / ğŸŸ¡High / ğŸŸ¢Medium / ğŸ”µLow

---

# è©³ç´°ä¿®å¾©è¨˜éŒ„ (æœ€æ–°åœ¨ä¸Š)

## FIX-088: Budget Pool æ¨¡çµ„ I18N ç¿»è­¯éµç¼ºå¤±

**å•é¡Œé¡å‹**: ğŸŒ i18n/åœ‹éš›åŒ–
**ç™¼ç¾æ—¥æœŸ**: 2025-11-12 (æ‰‹å‹•æ¸¬è©¦éšæ®µ)
**è§£æ±ºæ—¥æœŸ**: 2025-11-12
**åš´é‡ç¨‹åº¦**: P0 (Critical) - å½±éŸ¿æ ¸å¿ƒåŠŸèƒ½,æ§åˆ¶å°å‡ºç¾å¤šå€‹éŒ¯èª¤
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**:
- `apps/web/src/messages/zh-TW.json`
- `apps/web/src/messages/en.json`
- `apps/web/src/components/budget-pool/BudgetPoolForm.tsx`
- `apps/web/src/app/[locale]/budget-pools/[id]/page.tsx`

**å•é¡Œæè¿°**:
åœ¨æ‰‹å‹•æ¸¬è©¦ Budget Pool æ¨¡çµ„æ™‚ç™¼ç¾å¤šå€‹ I18N ç¿»è­¯éµç¼ºå¤±,å½±éŸ¿æ–°å¢å’Œç·¨è¼¯åŠŸèƒ½:

**éŒ¯èª¤è¨Šæ¯**:
```
IntlError: MISSING_MESSAGE: Could not resolve `common.actions.saving` in messages for locale `en`.
IntlError: MISSING_MESSAGE: Could not resolve `common.messages.success` in messages for locale `en`.
IntlError: MISSING_MESSAGE: Could not resolve `budgetPools.messages.createSuccess` in messages for locale `en`.
IntlError: MISSING_MESSAGE: Could not resolve `budgetPools.messages.updateSuccess` in messages for locale `zh-TW`.
IntlError: MISSING_MESSAGE: Could not resolve `budgetPools.detail.projects.empty` in messages for locale `en`.
```

**å½±éŸ¿ç¯„åœ**:
- æ–°å¢é ç®—æ± é é¢ (`/budget-pools/new`)
- ç·¨è¼¯é ç®—æ± é é¢ (`/budget-pools/[id]/edit`)
- é ç®—æ± è©³æƒ…é é¢ (`/budget-pools/[id]`)
- å½±éŸ¿ç¹é«”ä¸­æ–‡ (zh-TW) å’Œè‹±æ–‡ (en) å…©å€‹èªè¨€ç’°å¢ƒ

**æ ¹æœ¬åŸå› **:
ç¿»è­¯æª”æ¡ˆç¼ºå°‘ä»¥ä¸‹å¿…è¦çš„ keys:
1. `common.actions.saving` - æŒ‰éˆ•å„²å­˜ä¸­ç‹€æ…‹æ–‡å­—
2. `common.messages.success` - æˆåŠŸè¨Šæ¯æ¨™é¡Œ
3. `budgetPools.messages.createSuccess` - å‰µå»ºæˆåŠŸè¨Šæ¯
4. `budgetPools.messages.updateSuccess` - æ›´æ–°æˆåŠŸè¨Šæ¯
5. `budgetPools.detail.projects.empty` - ç„¡å°ˆæ¡ˆæ™‚çš„ç©ºç‹€æ…‹æ–‡å­—

**è§£æ±ºæ–¹æ¡ˆ**:

**1. æ–°å¢ common.actions.saving** (zh-TW.json + en.json):
```json
// zh-TW.json
"common": {
  "actions": {
    "saving": "å„²å­˜ä¸­..."
  }
}

// en.json
"common": {
  "actions": {
    "saving": "Saving..."
  }
}
```

**2. æ–°å¢ common.messages ç‰©ä»¶** (zh-TW.json + en.json):
```json
// zh-TW.json
"common": {
  "messages": {
    "success": "æˆåŠŸ",
    "error": "éŒ¯èª¤",
    "warning": "è­¦å‘Š",
    "info": "è³‡è¨Š"
  }
}

// en.json
"common": {
  "messages": {
    "success": "Success",
    "error": "Error",
    "warning": "Warning",
    "info": "Information"
  }
}
```

**3. æ–°å¢ budgetPools.messages ç‰©ä»¶** (zh-TW.json + en.json):
```json
// zh-TW.json
"budgetPools": {
  "messages": {
    "createSuccess": "é ç®—æ± å‰µå»ºæˆåŠŸ",
    "updateSuccess": "é ç®—æ± æ›´æ–°æˆåŠŸ",
    "deleteSuccess": "é ç®—æ± åˆªé™¤æˆåŠŸ",
    "deleteConfirm": "ç¢ºå®šè¦åˆªé™¤æ­¤é ç®—æ± å—?æ­¤æ“ä½œç„¡æ³•æ’¤éŠ·ã€‚"
  }
}

// en.json
"budgetPools": {
  "messages": {
    "createSuccess": "Budget pool created successfully",
    "updateSuccess": "Budget pool updated successfully",
    "deleteSuccess": "Budget pool deleted successfully",
    "deleteConfirm": "Are you sure you want to delete this budget pool? This action cannot be undone."
  }
}
```

**4. æ–°å¢ budgetPools.detail.projects.empty** (zh-TW.json + en.json):
```json
// zh-TW.json
"budgetPools": {
  "detail": {
    "projects": {
      "empty": "æš«ç„¡ç›¸é—œå°ˆæ¡ˆ",
      "emptyHint": "æ­¤é ç®—æ± é‚„æ²’æœ‰é—œè¯çš„å°ˆæ¡ˆ"
    }
  }
}

// en.json
"budgetPools": {
  "detail": {
    "projects": {
      "empty": "No related projects",
      "emptyHint": "This budget pool has no associated projects yet"
    }
  }
}
```

**é©—è­‰çµæœ**:
```bash
$ pnpm validate:i18n
âœ… zh-TW.json is valid
âœ… en.json is valid
âœ… All keys are synchronized between zh-TW and en
Total keys: 1634
```

**æ¸¬è©¦çµæœ**:
- âœ… æ–°å¢é ç®—æ± åŠŸèƒ½æ­£å¸¸,ç„¡æ§åˆ¶å°éŒ¯èª¤
- âœ… ç·¨è¼¯é ç®—æ± åŠŸèƒ½æ­£å¸¸,ç„¡æ§åˆ¶å°éŒ¯èª¤
- âœ… é ç®—æ± è©³æƒ…é é¡¯ç¤ºæ­£å¸¸,ç„¡æ§åˆ¶å°éŒ¯èª¤
- âœ… ç¹é«”ä¸­æ–‡å’Œè‹±æ–‡èªè¨€åˆ‡æ›æ­£å¸¸

**å­¸ç¿’è¦é»**:
1. **æ‰‹å‹•æ¸¬è©¦çš„é‡è¦æ€§**: æ§åˆ¶å°éŒ¯èª¤åªæœ‰åœ¨å¯¦éš›æ“ä½œæ™‚æ‰æœƒç™¼ç¾
2. **å®Œæ•´æ€§æª¢æŸ¥**: I18N keys å¿…é ˆåŒæ™‚åœ¨ zh-TW.json å’Œ en.json ä¸­å®šç¾©
3. **åˆ†å±¤çµæ§‹**: ä½¿ç”¨ `common.*` å­˜æ”¾é€šç”¨è¨Šæ¯,é¿å…é‡è¤‡å®šç¾©
4. **é©—è­‰å·¥å…·**: ä½¿ç”¨ `pnpm validate:i18n` ç¢ºä¿ç¿»è­¯æª”æ¡ˆçš„å®Œæ•´æ€§

**é é˜²æªæ–½**:
- åœ¨æ–°å¢åŠŸèƒ½æ™‚,æå‰è¦åŠƒæ‰€éœ€çš„ I18N keys
- é–‹ç™¼éšæ®µå•Ÿç”¨æ§åˆ¶å°éŒ¯èª¤ç›£æ§
- å®šæœŸåŸ·è¡Œ `pnpm validate:i18n` æª¢æŸ¥
- æ¯æ¬¡æäº¤å‰æ‰‹å‹•æ¸¬è©¦é—œéµåŠŸèƒ½

---

## FIX-080: OM Expenses å’Œ ChargeOut ç¿»è­¯éµç¼ºå¤±

**å•é¡Œé¡å‹**: ğŸŒ i18n/åœ‹éš›åŒ–
**ç™¼ç¾æ—¥æœŸ**: 2025-11-07 (æ‰‹å‹•æ¸¬è©¦éšæ®µ)
**è§£æ±ºæ—¥æœŸ**: 2025-11-07
**åš´é‡ç¨‹åº¦**: P1 (High) - å½±éŸ¿ç”¨æˆ¶é«”é©—,éƒ¨åˆ†åŠŸèƒ½é¡¯ç¤ºéŒ¯èª¤
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**:
- `apps/web/src/messages/zh-TW.json`
- `apps/web/src/messages/en.json`
- `apps/web/src/components/charge-out/ChargeOutActions.tsx`
- `apps/web/src/components/om-expense/OMExpenseMonthlyGrid.tsx`

### å•é¡Œç¾è±¡

æ‰‹å‹•æ¸¬è©¦æ™‚ç™¼ç¾å…©å€‹å•é¡Œ:

**å•é¡Œ 1: OM Expenses è©³æƒ…é  MonthlyGrid çµ„ä»¶é¡¯ç¤º MISSING_MESSAGE éŒ¯èª¤**
```
URL: /zh-TW/om-expenses/d5c1b266-3327-4aa2-9400-e15a106ba0d4
URL: /en/om-expenses/d5c1b266-3327-4aa2-9400-e15a106ba0d4

éŒ¯èª¤:
IntlError: MISSING_MESSAGE: Could not resolve `omExpenses.monthlyGrid.description` in messages
IntlError: MISSING_MESSAGE: Could not resolve `omExpenses.monthlyGrid.saveButton` in messages
... (å…± 9 å€‹éŒ¯èª¤)
```

**å•é¡Œ 2: ChargeOut è©³æƒ…é è‹±æ–‡ç‰ˆé¡¯ç¤ºä¸­æ–‡æŒ‰éˆ•**
```
URL: /en/charge-outs/2e572c28-ef98-46d6-bfee-f33ff4641594

éŒ¯èª¤: æŒ‰éˆ•é¡¯ç¤ºä¸­æ–‡
- "ç·¨è¼¯" (æ‡‰é¡¯ç¤º "Edit")
- "æäº¤å¯©æ ¸" (æ‡‰é¡¯ç¤º "Submit for Approval")
- "åˆªé™¤" (æ‡‰é¡¯ç¤º "Delete")
```

### æ ¹æœ¬åŸå› 

**å•é¡Œ 1**: `OMExpenseMonthlyGrid.tsx` çµ„ä»¶ä½¿ç”¨äº† 9 å€‹ç¿»è­¯éµ,ä½†é€™äº›éµæœªåœ¨ç¿»è­¯æ–‡ä»¶ä¸­å®šç¾©:
```typescript
// çµ„ä»¶ä½¿ç”¨ä½†ç¿»è­¯æ–‡ä»¶ä¸­ä¸å­˜åœ¨çš„éµ
t('omExpenses.monthlyGrid.description')
t('omExpenses.monthlyGrid.saveButton')
t('omExpenses.monthlyGrid.monthColumn')
t('omExpenses.monthlyGrid.amountColumn')
t('omExpenses.monthlyGrid.tips.title')
t('omExpenses.monthlyGrid.tips.enterAmounts')
t('omExpenses.monthlyGrid.tips.autoCalculate')
t('omExpenses.monthlyGrid.tips.clickSave')
t('omExpenses.monthlyGrid.tips.autoUpdate')
```

**å•é¡Œ 2**: `ChargeOutActions.tsx` çµ„ä»¶å¾æœªé€²è¡Œ i18n é·ç§»,æ‰€æœ‰æ–‡å­—éƒ½æ˜¯ç¡¬ç·¨ç¢¼çš„ä¸­æ–‡:
```typescript
// ç¡¬ç·¨ç¢¼ä¸­æ–‡æŒ‰éˆ•
<Button>ç·¨è¼¯</Button>
<Button>æäº¤å¯©æ ¸</Button>
<Button>åˆªé™¤</Button>

// ç¡¬ç·¨ç¢¼ä¸­æ–‡ Toast è¨Šæ¯
toast({ title: 'æäº¤æˆåŠŸ', description: `ChargeOut ${chargeOut.name} å·²æäº¤å¯©æ ¸` })
```

### è§£æ±ºæ–¹æ¡ˆ

**éšæ®µ 1: æ–°å¢ OM Expenses ç¿»è­¯éµ** (15 åˆ†é˜)
åœ¨ `zh-TW.json` å’Œ `en.json` ä¸­æ–°å¢ `omExpenses.monthlyGrid` å‘½åç©ºé–“:
```json
{
  "omExpenses": {
    "monthlyGrid": {
      "title": "æœˆåº¦è²»ç”¨çµ±è¨ˆ",
      "description": "ç·¨è¼¯ 1-12 æœˆçš„å¯¦éš›æ”¯å‡ºé‡‘é¡,ç³»çµ±å°‡è‡ªå‹•è¨ˆç®—ç¸½é¡",
      "saveButton": "ä¿å­˜æœˆåº¦è¨˜éŒ„",
      "monthColumn": "æœˆä»½",
      "amountColumn": "å¯¦éš›æ”¯å‡º (HKD)",
      "total": "ç¸½è¨ˆ",
      "tips": {
        "title": "ä½¿ç”¨æç¤º",
        "enterAmounts": "è¼¸å…¥æ¯å€‹æœˆçš„å¯¦éš›æ”¯å‡ºé‡‘é¡",
        "autoCalculate": "ç³»çµ±æœƒè‡ªå‹•è¨ˆç®—ç¸½å¯¦éš›æ”¯å‡ºå’Œä½¿ç”¨ç‡",
        "clickSave": "é»æ“Šã€Œä¿å­˜æœˆåº¦è¨˜éŒ„ã€æŒ‰éˆ•ä¿å­˜æ‰€æœ‰æ›´æ”¹",
        "autoUpdate": "ä¿å­˜å¾Œ,ç³»çµ±æœƒè‡ªå‹•æ›´æ–° OM è²»ç”¨çš„ actualSpent æ¬„ä½"
      }
    }
  }
}
```

**éšæ®µ 2: æ–°å¢ ChargeOut ç¿»è­¯éµ** (30 åˆ†é˜)
å‰µå»ºå®Œæ•´çš„ `chargeOuts.actions` å‘½åç©ºé–“ (41 å€‹ç¿»è­¯éµ):
```json
{
  "chargeOuts": {
    "actions": {
      "edit": "ç·¨è¼¯",
      "submit": "æäº¤å¯©æ ¸",
      "confirm": "ç¢ºèª",
      "reject": "æ‹’çµ•",
      "markAsPaid": "æ¨™è¨˜ç‚ºå·²ä»˜æ¬¾",
      "delete": "åˆªé™¤",
      "messages": {
        "submitSuccess": "æäº¤æˆåŠŸ",
        "submitSuccessDesc": "ChargeOut {name} å·²æäº¤å¯©æ ¸",
        // ... å…± 15 å€‹è¨Šæ¯ç¿»è­¯
      },
      "dialogs": {
        "submit": {
          "title": "ç¢ºèªæäº¤",
          "description": "ç¢ºå®šè¦æäº¤ ChargeOut {name} é€²è¡Œå¯©æ ¸å—?",
          "cancel": "å–æ¶ˆ",
          "confirm": "ç¢ºèªæäº¤"
        },
        // ... å…± 5 å€‹å°è©±æ¡†,æ¯å€‹ 4 å€‹æ¬„ä½
      }
    }
  }
}
```

**éšæ®µ 3: é·ç§» ChargeOutActions çµ„ä»¶** (ä½¿ç”¨ surgical-task-executor)
```typescript
// æ·»åŠ  next-intl hook
import { useTranslations } from 'next-intl';
const t = useTranslations('chargeOuts.actions');

// æ›¿æ›æ‰€æœ‰æŒ‰éˆ•æ–‡å­—
<Button variant="outline" onClick={handleEdit}>
  <Edit className="mr-2 h-4 w-4" />
  {t('edit')}  // æ›¿æ› "ç·¨è¼¯"
</Button>

// æ›¿æ›æ‰€æœ‰ Toast è¨Šæ¯ (åƒæ•¸åŒ–)
toast({
  title: t('messages.submitSuccess'),
  description: t('messages.submitSuccessDesc', { name: chargeOut.name })
});

// æ›¿æ›æ‰€æœ‰å°è©±æ¡†æ–‡å­—
<AlertDialogTitle>{t('dialogs.submit.title')}</AlertDialogTitle>
<AlertDialogDescription>
  {t('dialogs.submit.description', { name: chargeOut.name })}
</AlertDialogDescription>
```

### ä¿®å¾©çµæœ

**å•é¡Œ 1 ä¿®å¾©**:
- âœ… OM Expenses è©³æƒ…é æœˆåº¦çµ±è¨ˆè¡¨æ ¼å®Œå…¨ç¿»è­¯
- âœ… æ‰€æœ‰ 9 å€‹ MISSING_MESSAGE éŒ¯èª¤æ¶ˆå¤±
- âœ… ä¸­æ–‡ç‰ˆå’Œè‹±æ–‡ç‰ˆéƒ½æ­£ç¢ºé¡¯ç¤ºå°æ‡‰èªè¨€

**å•é¡Œ 2 ä¿®å¾©**:
- âœ… ChargeOut è©³æƒ…é æ‰€æœ‰æŒ‰éˆ•å®Œå…¨ç¿»è­¯
- âœ… è‹±æ–‡ç‰ˆé¡¯ç¤º "Edit", "Submit for Approval", "Delete"
- âœ… æ‰€æœ‰ Toast è¨Šæ¯å®Œå…¨åœ‹éš›åŒ–
- âœ… æ‰€æœ‰å°è©±æ¡†æ¨™é¡Œå’Œæè¿°å®Œå…¨åœ‹éš›åŒ–

**é©—è­‰æ¸¬è©¦**:
```bash
# ç¿»è­¯éµé©—è­‰
pnpm validate:i18n
âœ… é€šé (1577 keys)

# TypeScript ç·¨è­¯
pnpm typecheck
âœ… 0 å€‹éŒ¯èª¤

# æ‰‹å‹•æ¸¬è©¦
/zh-TW/om-expenses/[id]  âœ… å®Œæ•´ä¸­æ–‡
/en/om-expenses/[id]      âœ… å®Œæ•´è‹±æ–‡
/zh-TW/charge-outs/[id]  âœ… å®Œæ•´ä¸­æ–‡
/en/charge-outs/[id]      âœ… å®Œæ•´è‹±æ–‡
```

### çµ±è¨ˆæ•¸æ“š

**æ–°å¢ç¿»è­¯éµ**:
- OM Expenses monthlyGrid: 9 keys Ã— 2 languages = 18 keys
- ChargeOut actions: 41 keys Ã— 2 languages = 82 keys
- **ç¸½è¨ˆ**: 50 keys Ã— 2 languages = **100 ç¿»è­¯æ¢ç›®**

**ä¿®æ”¹æ–‡ä»¶**:
- `zh-TW.json`: +50 keys (1527 â†’ 1577)
- `en.json`: +50 keys (1527 â†’ 1577)
- `ChargeOutActions.tsx`: å®Œæ•´ i18n é·ç§»

**ä¿®å¾©æ™‚é–“**: 45 åˆ†é˜

### ç¶“é©—æ•™è¨“

1. **æ‰‹å‹•æ¸¬è©¦çš„é‡è¦æ€§**: è‡ªå‹•åŒ–é©—è­‰ç„¡æ³•ç™¼ç¾çµ„ä»¶ç´šåˆ¥çš„éºæ¼,å¿…é ˆé€²è¡Œå®Œæ•´çš„é é¢æ¸¬è©¦
2. **çµ„ä»¶é·ç§»æ¸…å–®**: æ‡‰ç¶­è­·å®Œæ•´çš„çµ„ä»¶é·ç§»æ¸…å–®,é¿å…éºæ¼æœªé·ç§»çš„çµ„ä»¶
3. **åƒæ•¸åŒ–ç¿»è­¯**: Toast å’Œå°è©±æ¡†è¨Šæ¯æ‡‰ä½¿ç”¨åƒæ•¸åŒ–ç¿»è­¯,é¿å…ç¡¬ç·¨ç¢¼å‹•æ…‹å…§å®¹

---

## FIX-079: Breadcrumb ä¿®å¾©å°è‡´ Link Import è¡çª

**å•é¡Œé¡å‹**: ğŸŒ i18n/è·¯ç”±
**ç™¼ç¾æ—¥æœŸ**: 2025-11-07 (FIX-078 ä¿®å¾©å¾Œ)
**è§£æ±ºæ—¥æœŸ**: 2025-11-07
**åš´é‡ç¨‹åº¦**: P0 (Blocker) - é˜»æ­¢ç·¨è­¯å’Œé–‹ç™¼æœå‹™å™¨å•Ÿå‹•
**ç‹€æ…‹**: âœ… å·²è§£æ±º (è‡ªå‹•åŒ–å·¥å…·ä¿®å¾©)
**ç›¸é—œæª”æ¡ˆ**: 28 å€‹é é¢æ–‡ä»¶ (èˆ‡ FIX-078 ç›¸åŒ)
**å·¥å…·**: `scripts/add-missing-link-import.js`

### å•é¡Œç¾è±¡

åœ¨å®Œæˆ FIX-078 (æ‰‹å‹•æ·»åŠ  `import { Link } from '@/i18n/routing'`) å¾Œ,é–‹ç™¼æœå‹™å™¨ç„¡æ³•å•Ÿå‹•:

```
TypeScript éŒ¯èª¤:
Module '"@/i18n/routing"' has no exported member 'Link'.

é‹è¡Œæ™‚éŒ¯èª¤ (28 å€‹æ–‡ä»¶):
Error: Cannot read property 'Link' of undefined
```

### æ ¹æœ¬åŸå› 

æ‰‹å‹•ä¿®å¾© FIX-078 æ™‚,åªæ˜¯ç°¡å–®æ·»åŠ äº†æ–°çš„ import èªå¥:
```typescript
import { Link } from '@/i18n/routing';  // æ–°æ·»åŠ 
```

ä½†å¿˜è¨˜ç§»é™¤åŸæœ‰çš„ import èªå¥:
```typescript
import Link from 'next/link';  // æœªç§»é™¤,å°è‡´è¡çª
```

å°è‡´ `Link` è®Šé‡è¡çª:
- TypeScript ç„¡æ³•ç¢ºå®šä½¿ç”¨å“ªå€‹ `Link`
- é‹è¡Œæ™‚å˜—è©¦ä½¿ç”¨éŒ¯èª¤çš„ `Link` å°è‡´å´©æ½°

### è§£æ±ºæ–¹æ¡ˆ

**éšæ®µ 1: å‰µå»ºè‡ªå‹•åŒ–ä¿®å¾©å·¥å…·** (20 åˆ†é˜)

é–‹ç™¼ `scripts/add-missing-link-import.js`:
```javascript
const fs = require('fs');
const path = require('path');

function fixLinkImports(filePath) {
  let content = fs.readFileSync(filePath, 'utf8');

  // æª¢æŸ¥æ˜¯å¦éœ€è¦ä¿®å¾©
  const hasNextLink = /import\s+Link\s+from\s+['"]next\/link['"];?/gm.test(content);
  const hasI18nLink = /import\s+\{[^}]*Link[^}]*\}\s+from\s+['"]@\/i18n\/routing['"];?/gm.test(content);

  if (!hasNextLink) {
    console.log(`âœ… ${filePath} - ç„¡éœ€ä¿®å¾© (æ²’æœ‰ next/link import)`);
    return false;
  }

  if (!hasI18nLink) {
    console.log(`âš ï¸ ${filePath} - è·³é (ç¼ºå°‘ @/i18n/routing import)`);
    return false;
  }

  // ç§»é™¤ next/link import
  content = content.replace(/import\s+Link\s+from\s+['"]next\/link['"];?\n?/gm, '');

  // æ¸…ç†å¤šé¤˜ç©ºè¡Œ
  content = content.replace(/\n{3,}/g, '\n\n');

  fs.writeFileSync(filePath, content, 'utf8');
  console.log(`ğŸ”§ ${filePath} - å·²ä¿®å¾©`);
  return true;
}

// æƒææ‰€æœ‰éœ€è¦ä¿®å¾©çš„æ–‡ä»¶
const filesToFix = [
  'apps/web/src/app/[locale]/budget-pools/[id]/page.tsx',
  // ... å…± 28 å€‹æ–‡ä»¶
];

let fixedCount = 0;
filesToFix.forEach(file => {
  if (fixLinkImports(path.resolve(__dirname, '..', file))) {
    fixedCount++;
  }
});

console.log(`\nâœ… ä¿®å¾©å®Œæˆ! å…±ä¿®å¾© ${fixedCount} å€‹æ–‡ä»¶`);
```

**é—œéµç‰¹æ€§**:
1. **æ™ºèƒ½æª¢æ¸¬**: æª¢æŸ¥æ–‡ä»¶æ˜¯å¦åŒæ™‚å­˜åœ¨å…©ç¨® import
2. **å®‰å…¨æ“ä½œ**: åªç§»é™¤ `next/link` import,ä¿ç•™ `@/i18n/routing`
3. **ä¿ç•™å…¶ä»– imports**: ä¸å½±éŸ¿ `next/navigation` ç­‰å…¶ä»– import
4. **æ¸…ç†æ ¼å¼**: ç§»é™¤å¤šé¤˜ç©ºè¡Œ,ä¿æŒä»£ç¢¼æ•´æ½”

**éšæ®µ 2: æ‰¹é‡åŸ·è¡Œä¿®å¾©** (< 3 ç§’)
```bash
node scripts/add-missing-link-import.js

è¼¸å‡º:
ğŸ”§ apps/web/src/app/[locale]/budget-pools/[id]/page.tsx - å·²ä¿®å¾©
ğŸ”§ apps/web/src/app/[locale]/budget-pools/[id]/edit/page.tsx - å·²ä¿®å¾©
ğŸ”§ apps/web/src/app/[locale]/budget-pools/new/page.tsx - å·²ä¿®å¾©
... (å…± 28 å€‹æ–‡ä»¶)

âœ… ä¿®å¾©å®Œæˆ! å…±ä¿®å¾© 28 å€‹æ–‡ä»¶
åŸ·è¡Œæ™‚é–“: < 3 ç§’
```

**éšæ®µ 3: é©—è­‰ä¿®å¾©** (5 åˆ†é˜)
```bash
# TypeScript ç·¨è­¯é©—è­‰
pnpm typecheck
âœ… 0 å€‹éŒ¯èª¤

# é–‹ç™¼æœå‹™å™¨å•Ÿå‹•æ¸¬è©¦
pnpm dev
âœ… å•Ÿå‹•æˆåŠŸ,ç„¡éŒ¯èª¤

# é é¢è¨ªå•æ¸¬è©¦
/zh-TW/budget-pools/new  âœ… æ­£å¸¸æ¸²æŸ“
/en/budget-pools/new      âœ… æ­£å¸¸æ¸²æŸ“
```

### ä¿®å¾©çµæœ

- âœ… æ‰€æœ‰ 28 å€‹æ–‡ä»¶é‹è¡Œæ™‚éŒ¯èª¤æ¶ˆå¤±
- âœ… TypeScript ç·¨è­¯é€šé (0 å€‹éŒ¯èª¤)
- âœ… é–‹ç™¼æœå‹™å™¨å•Ÿå‹•æˆåŠŸ
- âœ… æ‰€æœ‰é é¢æ­£å¸¸æ¸²æŸ“
- âœ… Breadcrumb å°èˆªä¿æŒèªè¨€ç’°å¢ƒ

### çµ±è¨ˆæ•¸æ“š

**ä¿®å¾©æ–‡ä»¶**: 28 å€‹
**åŸ·è¡Œæ™‚é–“**: < 3 ç§’ (è‡ªå‹•åŒ–å·¥å…·)
**æˆåŠŸç‡**: 100% (28/28)
**ä¿®å¾©æ™‚é–“**: 30 åˆ†é˜ (å«å·¥å…·é–‹ç™¼ 20 åˆ†é˜ + é©—è­‰ 10 åˆ†é˜)

### ç¶“é©—æ•™è¨“

1. **æ‰¹é‡æ“ä½œéœ€è¬¹æ…**: æ‰‹å‹•æ‰¹é‡ä¿®æ”¹å®¹æ˜“éºæ¼,æ‡‰é–‹ç™¼è‡ªå‹•åŒ–å·¥å…·
2. **Import ç®¡ç†**: æ·»åŠ æ–° import æ™‚å¿…é ˆæª¢æŸ¥ä¸¦ç§»é™¤è¡çªçš„èˆŠ import
3. **è‡ªå‹•åŒ–å·¥å…·åƒ¹å€¼**: 3 ç§’å®Œæˆ 28 å€‹æ–‡ä»¶ä¿®å¾©,æ•ˆç‡æ˜¯æ‰‹å‹•çš„ 100 å€ä»¥ä¸Š
4. **é©—è­‰æµç¨‹**: ä¿®å¾©å¾Œå¿…é ˆåŸ·è¡Œå®Œæ•´çš„ç·¨è­¯å’Œé‹è¡Œæ™‚é©—è­‰

---

## FIX-078: 34 é é¢ Breadcrumb ä½¿ç”¨éåœ‹éš›åŒ– Link

**å•é¡Œé¡å‹**: ğŸŒ i18n/è·¯ç”±
**ç™¼ç¾æ—¥æœŸ**: 2025-11-07
**è§£æ±ºæ—¥æœŸ**: 2025-11-07
**åš´é‡ç¨‹åº¦**: P0 (Blocker) - åš´é‡å½±éŸ¿ç”¨æˆ¶é«”é©—
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**: 34 å€‹é é¢æ–‡ä»¶ (28 å€‹éœ€ä¿®å¾© + 6 å€‹å·²æ­£ç¢º)

### å•é¡Œç¾è±¡

å¾ `/zh-TW/projects` é»æ“Š Breadcrumb å°èˆªå¾Œ,èªè¨€ç’°å¢ƒä¸Ÿå¤±:
```
ç•¶å‰é é¢: /zh-TW/projects
é»æ“ŠéºµåŒ…å±‘ "é¦–é "
çµæœ: è·³è½‰åˆ° /dashboard (âŒ èªè¨€ç’°å¢ƒä¸Ÿå¤±)
é æœŸ: è·³è½‰åˆ° /zh-TW/dashboard (âœ… ä¿æŒèªè¨€ç’°å¢ƒ)
```

åŒæ¨£å•é¡Œå‡ºç¾åœ¨è‹±æ–‡ç‰ˆ:
```
ç•¶å‰é é¢: /en/projects
é»æ“ŠéºµåŒ…å±‘ "Home"
çµæœ: è·³è½‰åˆ° /dashboard (âŒ èªè¨€ç’°å¢ƒä¸Ÿå¤±)
é æœŸ: è·³è½‰åˆ° /en/dashboard (âœ… ä¿æŒèªè¨€ç’°å¢ƒ)
```

### æ ¹æœ¬åŸå› 

Breadcrumb çµ„ä»¶ä½¿ç”¨äº† `next/link` çš„ `Link` è€Œä¸æ˜¯ `@/i18n/routing` çš„åœ‹éš›åŒ– `Link`:

```typescript
// âŒ éŒ¯èª¤: ä½¿ç”¨ next/link (ä¸ä¿æŒèªè¨€ç’°å¢ƒ)
import Link from 'next/link'
import { BreadcrumbLink } from '@/components/ui/breadcrumb'

<Breadcrumb>
  <BreadcrumbList>
    <BreadcrumbItem>
      <BreadcrumbLink asChild>
        <Link href="/dashboard">é¦–é </Link>  // è·³è½‰åˆ° /dashboard
      </BreadcrumbLink>
    </BreadcrumbItem>
  </BreadcrumbList>
</Breadcrumb>
```

`next/link` çš„ `Link` çµ„ä»¶ä¸æ„ŸçŸ¥ `[locale]` è·¯ç”±åƒæ•¸,ç¸½æ˜¯è·³è½‰åˆ°æ ¹è·¯å¾‘ã€‚

### è§£æ±ºæ–¹æ¡ˆ

**éšæ®µ 1: å¯©è¨ˆæ‰€æœ‰é é¢** (30 åˆ†é˜)

ä½¿ç”¨ grep æœç´¢æ‰€æœ‰ä½¿ç”¨ Breadcrumb çš„æ–‡ä»¶:
```bash
grep -r "BreadcrumbLink" apps/web/src/app/[locale]/ --include="*.tsx"

çµæœ: 34 å€‹æ–‡ä»¶
- 28 å€‹ä½¿ç”¨ next/link (éœ€ä¿®å¾©)
- 6 å€‹å·²ä½¿ç”¨ @/i18n/routing (ç„¡éœ€ä¿®å¾©)
```

**éšæ®µ 2: æ‰¹é‡æ‰‹å‹•ä¿®å¾©** (60 åˆ†é˜)

å°æ¯å€‹æ–‡ä»¶åŸ·è¡Œä»¥ä¸‹ä¿®æ”¹:

1. **æ›¿æ› import èªå¥**:
```typescript
// ä¿®æ”¹å‰
import Link from 'next/link';

// ä¿®æ”¹å¾Œ
import { Link } from '@/i18n/routing';
```

2. **ä¿æŒ BreadcrumbLink asChild æ¨¡å¼**:
```typescript
// æ­£ç¢ºæ¨¡å¼ (ç„¡éœ€ä¿®æ”¹)
<BreadcrumbLink asChild>
  <Link href="/dashboard">{tNav('dashboard')}</Link>
</BreadcrumbLink>
```

**ä¿®å¾©æ–‡ä»¶åˆ—è¡¨** (28 å€‹):
```
Budget Pools æ¨¡çµ„ (3 å€‹):
- apps/web/src/app/[locale]/budget-pools/[id]/page.tsx
- apps/web/src/app/[locale]/budget-pools/[id]/edit/page.tsx
- apps/web/src/app/[locale]/budget-pools/new/page.tsx

Projects æ¨¡çµ„ (3 å€‹):
- apps/web/src/app/[locale]/projects/[id]/page.tsx
- apps/web/src/app/[locale]/projects/[id]/edit/page.tsx
- apps/web/src/app/[locale]/projects/new/page.tsx

Proposals æ¨¡çµ„ (3 å€‹):
- apps/web/src/app/[locale]/proposals/[id]/page.tsx
- apps/web/src/app/[locale]/proposals/[id]/edit/page.tsx
- apps/web/src/app/[locale]/proposals/new/page.tsx

Vendors æ¨¡çµ„ (2 å€‹):
- apps/web/src/app/[locale]/vendors/[id]/page.tsx
- apps/web/src/app/[locale]/vendors/new/page.tsx

Quotes æ¨¡çµ„ (2 å€‹):
- apps/web/src/app/[locale]/quotes/[id]/edit/page.tsx
- apps/web/src/app/[locale]/quotes/new/page.tsx

Purchase Orders æ¨¡çµ„ (2 å€‹):
- apps/web/src/app/[locale]/purchase-orders/[id]/page.tsx
- apps/web/src/app/[locale]/purchase-orders/new/page.tsx

Expenses æ¨¡çµ„ (3 å€‹):
- apps/web/src/app/[locale]/expenses/[id]/page.tsx
- apps/web/src/app/[locale]/expenses/[id]/edit/page.tsx
- apps/web/src/app/[locale]/expenses/new/page.tsx

ChargeOuts æ¨¡çµ„ (3 å€‹):
- apps/web/src/app/[locale]/charge-outs/[id]/page.tsx
- apps/web/src/app/[locale]/charge-outs/[id]/edit/page.tsx
- apps/web/src/app/[locale]/charge-outs/new/page.tsx

OM Expenses æ¨¡çµ„ (3 å€‹):
- apps/web/src/app/[locale]/om-expenses/[id]/page.tsx
- apps/web/src/app/[locale]/om-expenses/[id]/edit/page.tsx
- apps/web/src/app/[locale]/om-expenses/new/page.tsx

Users æ¨¡çµ„ (2 å€‹):
- apps/web/src/app/[locale]/users/[id]/page.tsx
- apps/web/src/app/[locale]/users/new/page.tsx

Settings (1 å€‹):
- apps/web/src/app/[locale]/settings/page.tsx

Notifications (1 å€‹):
- apps/web/src/app/[locale]/notifications/page.tsx
```

**å·²æ­£ç¢ºæ–‡ä»¶** (6 å€‹,ç„¡éœ€ä¿®å¾©):
```
- apps/web/src/app/[locale]/budget-pools/page.tsx
- apps/web/src/app/[locale]/projects/page.tsx
- apps/web/src/app/[locale]/proposals/page.tsx
- apps/web/src/app/[locale]/vendors/page.tsx
- apps/web/src/app/[locale]/quotes/page.tsx
- apps/web/src/app/[locale]/expenses/page.tsx
```

### ä¿®å¾©çµæœ

**èªè¨€ç’°å¢ƒä¿æŒæ¸¬è©¦**:
```bash
# ä¸­æ–‡ç‰ˆæ¸¬è©¦
/zh-TW/projects â†’ é»æ“Š "é¦–é " â†’ /zh-TW/dashboard âœ…
/zh-TW/projects â†’ é»æ“Š "å°ˆæ¡ˆ" â†’ /zh-TW/projects âœ…
/zh-TW/projects/new â†’ é»æ“Š "é¦–é " â†’ /zh-TW/dashboard âœ…
/zh-TW/projects/new â†’ é»æ“Š "å°ˆæ¡ˆ" â†’ /zh-TW/projects âœ…

# è‹±æ–‡ç‰ˆæ¸¬è©¦
/en/projects â†’ é»æ“Š "Home" â†’ /en/dashboard âœ…
/en/projects â†’ é»æ“Š "Projects" â†’ /en/projects âœ…
/en/projects/new â†’ é»æ“Š "Home" â†’ /en/dashboard âœ…
/en/projects/new â†’ é»æ“Š "Projects" â†’ /en/projects âœ…
```

**æ‰€æœ‰ 34 å€‹é é¢** Breadcrumb å°èˆªæ­£ç¢ºä¿æŒèªè¨€ç’°å¢ƒã€‚

### çµ±è¨ˆæ•¸æ“š

**å¯©è¨ˆæ–‡ä»¶**: 34 å€‹é é¢
**ä¿®å¾©æ–‡ä»¶**: 28 å€‹
**å·²æ­£ç¢ºæ–‡ä»¶**: 6 å€‹
**ä¿®å¾©æ™‚é–“**: 90 åˆ†é˜ (å¯©è¨ˆ 30 åˆ†é˜ + æ‰¹é‡ä¿®å¾© 60 åˆ†é˜)

### ç¶“é©—æ•™è¨“

1. **åœ‹éš›åŒ–è·¯ç”±**: å¿…é ˆä½¿ç”¨ `@/i18n/routing` çš„ `Link`,ä¸èƒ½ä½¿ç”¨ `next/link`
2. **ç³»çµ±æ€§æª¢æŸ¥**: ç™¼ç¾ä¸€å€‹å•é¡Œå¾Œæ‡‰ç³»çµ±æ€§æª¢æŸ¥æ‰€æœ‰ç›¸ä¼¼å ´æ™¯,é¿å…éºæ¼
3. **è‡ªå‹•åŒ–æ©Ÿæœƒ**: é€™é¡æ‰¹é‡ä¿®æ”¹æ‡‰é–‹ç™¼è‡ªå‹•åŒ–å·¥å…· (è¦‹ FIX-079)

---

## FIX-077: 4 å€‹ I18N ç¿»è­¯éµç¼ºå¤±

**å•é¡Œé¡å‹**: ğŸŒ i18n/åœ‹éš›åŒ–
**ç™¼ç¾æ—¥æœŸ**: 2025-11-07
**è§£æ±ºæ—¥æœŸ**: 2025-11-07
**åš´é‡ç¨‹åº¦**: P1 (High) - å½±éŸ¿ç”¨æˆ¶é«”é©—
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**:
- `apps/web/src/messages/zh-TW.json`
- `apps/web/src/messages/en.json`

### å•é¡Œç¾è±¡

é–‹ç™¼æœå‹™å™¨æ§åˆ¶å°é¡¯ç¤º 4 å€‹å­¤ç«‹çš„ MISSING_MESSAGE éŒ¯èª¤:
```
IntlError: MISSING_MESSAGE: Could not resolve `vendors.actions.edit` in messages
IntlError: MISSING_MESSAGE: Could not resolve `users.actions.editUser` in messages
IntlError: MISSING_MESSAGE: Could not resolve `navigation.omExpenses` in messages
IntlError: MISSING_MESSAGE: Could not resolve `navigation.chargeOuts` in messages
```

### æ ¹æœ¬åŸå› 

åœ¨ä¹‹å‰çš„ i18n é·ç§»ä¸­,4 å€‹ç¿»è­¯éµè¢«éºæ¼:
1. **vendors.actions.edit**: ä¾›æ‡‰å•†è©³æƒ…é ç·¨è¼¯æŒ‰éˆ•
2. **users.actions.editUser**: ç”¨æˆ¶è©³æƒ…é ç·¨è¼¯æŒ‰éˆ•
3. **navigation.omExpenses**: Sidebar å°èˆªèœå–® "OM è²»ç”¨" é …ç›®
4. **navigation.chargeOuts**: Sidebar å°èˆªèœå–® "è²»ç”¨è½‰å«" é …ç›®

### è§£æ±ºæ–¹æ¡ˆ

åœ¨ `zh-TW.json` å’Œ `en.json` ä¸­æ·»åŠ ç¼ºå¤±çš„ç¿»è­¯éµ:

**zh-TW.json**:
```json
{
  "vendors": {
    "actions": {
      "edit": "ç·¨è¼¯"  // æ–°å¢
    }
  },
  "users": {
    "actions": {
      "editUser": "ç·¨è¼¯ç”¨æˆ¶"  // æ–°å¢
    }
  },
  "navigation": {
    "omExpenses": "OM è²»ç”¨",      // æ–°å¢
    "chargeOuts": "è²»ç”¨è½‰å«"       // æ–°å¢
  }
}
```

**en.json**:
```json
{
  "vendors": {
    "actions": {
      "edit": "Edit"  // æ–°å¢
    }
  },
  "users": {
    "actions": {
      "editUser": "Edit User"  // æ–°å¢
    }
  },
  "navigation": {
    "omExpenses": "OM Expenses",   // æ–°å¢
    "chargeOuts": "Charge Outs"    // æ–°å¢
  }
}
```

### ä¿®å¾©çµæœ

- âœ… æ‰€æœ‰ 4 å€‹ MISSING_MESSAGE éŒ¯èª¤æ¶ˆå¤±
- âœ… ä¾›æ‡‰å•†é é¢ç·¨è¼¯æŒ‰éˆ•æ­£ç¢ºé¡¯ç¤º
- âœ… ç”¨æˆ¶é é¢ç·¨è¼¯æŒ‰éˆ•æ­£ç¢ºé¡¯ç¤º
- âœ… Sidebar å°èˆªèœå–®å®Œæ•´é¡¯ç¤ºæ‰€æœ‰é …ç›®

### çµ±è¨ˆæ•¸æ“š

**æ–°å¢ç¿»è­¯éµ**: 4 keys Ã— 2 languages = **8 ç¿»è­¯æ¢ç›®**
**ä¿®å¾©æ™‚é–“**: 15 åˆ†é˜

---

## FIX-060: è‹±æ–‡ç‰ˆé¡¯ç¤ºä¸­æ–‡å…§å®¹ - getMessages() åƒæ•¸ç¼ºå¤±

**å•é¡Œé¡å‹**: ğŸŒ i18n/åœ‹éš›åŒ–
**ç™¼ç¾æ—¥æœŸ**: 2025-11-04 00:30
**è§£æ±ºæ—¥æœŸ**: 2025-11-04 01:30
**åš´é‡ç¨‹åº¦**: P0 (Blocker) - åœ‹éš›åŒ–åŠŸèƒ½å®Œå…¨å¤±æ•ˆ
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**:
- `apps/web/src/app/[locale]/layout.tsx`
- `apps/web/src/messages/en.json`
- `apps/web/src/components/layout/Sidebar.tsx` (Debug å·¥å…·)

### å•é¡Œç¾è±¡
è¨ªå• `/en/dashboard` æ™‚ï¼Œé›–ç„¶ URL è·¯å¾‘æ­£ç¢ºï¼Œä½†é é¢å…§å®¹ï¼ˆSidebar å°èˆªèœå–®ã€TopBarã€æ‰€æœ‰çµ„ä»¶ï¼‰ä»ç„¶é¡¯ç¤º**ä¸­æ–‡**è€Œéè‹±æ–‡ã€‚

```
URL: http://localhost:3001/en/dashboard  âœ… æ­£ç¢º
Sidebar: å„€è¡¨æ¿ã€å°ˆæ¡ˆã€é ç®—ææ¡ˆ         âŒ é¡¯ç¤ºä¸­æ–‡
é æœŸ: Dashboard, Projects, Budget Proposals âœ… æ‡‰é¡¯ç¤ºè‹±æ–‡
```

### æ ¹æœ¬åŸå› 
`apps/web/src/app/[locale]/layout.tsx` ä¸­çš„ `getMessages()` èª¿ç”¨**æœªå‚³é `locale` åƒæ•¸**ï¼Œå°è‡´ç¸½æ˜¯åŠ è¼‰é»˜èªèªè¨€ (zh-TW) çš„ç¿»è­¯æ–‡ä»¶ï¼š

```typescript
// âŒ éŒ¯èª¤ä»£ç¢¼
const messages = await getMessages();  // æœªå‚³é localeï¼Œä½¿ç”¨é»˜èªèªè¨€
```

**æŠ€è¡“åˆ†æ**:
- `getMessages()` æ˜¯ next-intl çš„ Server Component å‡½æ•¸
- æ²’æœ‰åƒæ•¸æ™‚ï¼Œä½¿ç”¨é»˜èªèªè¨€ (zh-TW)
- `NextIntlClientProvider` é›–ç„¶æ¥æ”¶äº† `locale='en'` prop
- ä½† `messages` å·²ç¶“æ˜¯ä¸­æ–‡å…§å®¹ï¼Œå°è‡´ç¿»è­¯éŒ¯èª¤

### è¨ºæ–·éç¨‹
1. **éšæ®µ 1 - åˆæ­¥æ’æŸ¥**: æª¢æŸ¥é…ç½®ã€ç¿»è­¯æ–‡ä»¶ â†’ FIX-060A ç¿»è­¯ `navigation.descriptions`
2. **éšæ®µ 2 - Provider æª¢æŸ¥**: ç™¼ç¾ç¼ºå°‘ `locale` prop â†’ FIX-060B æ·»åŠ  prop
3. **éšæ®µ 3 - æ·±å…¥èª¿æŸ¥**: æ·»åŠ  Debug Loggingï¼Œç™¼ç¾çŸ›ç›¾ç¾è±¡
4. **éšæ®µ 4 - æ ¹æœ¬åŸå› **: ç¢ºèª `getMessages()` æœªå‚³éåƒæ•¸

### è§£æ±ºæ–¹æ¡ˆ

**ä¿®å¾©ä»£ç¢¼** (`apps/web/src/app/[locale]/layout.tsx:41`):
```typescript
// ğŸ”§ FIX-060: æ˜ç¢ºå‚³é locale åƒæ•¸çµ¦ getMessages()
const messages = await getMessages({ locale });  // âœ… æ­£ç¢ºå‚³é locale
```

**ä¿®å¾©é‚è¼¯**:
1. `getMessages({ locale })` æ ¹æ“šåƒæ•¸å‹•æ…‹åŠ è¼‰å°æ‡‰èªè¨€æ–‡ä»¶
2. èª¿ç”¨ `i18n/request.ts` ä¸­çš„é…ç½®é‚è¼¯
3. ç¢ºä¿ `messages` æ˜¯ç•¶å‰èªè¨€çš„ç¿»è­¯å…§å®¹
4. `NextIntlClientProvider` å‚³éæ­£ç¢ºçš„ `locale` å’Œ `messages`

### ä¿®å¾©çµæœ
- âœ… `/en/dashboard` å®Œæ•´é¡¯ç¤ºè‹±æ–‡å…§å®¹
- âœ… `/zh-TW/dashboard` å®Œæ•´é¡¯ç¤ºä¸­æ–‡å…§å®¹
- âœ… Sidebarã€TopBarã€æ‰€æœ‰çµ„ä»¶æ­£ç¢ºç¿»è­¯
- âœ… èªè¨€åˆ‡æ›åŠŸèƒ½å®Œå…¨æ­£å¸¸
- âœ… åœ‹éš›åŒ–åŠŸèƒ½ 100% é‹ä½œ

### é—œéµå­¸ç¿’
1. **æ˜ç¢ºå‚³åƒ**: Server Component çš„æ‰€æœ‰é…ç½®éƒ½æ‡‰æ˜ç¢ºå‚³éåƒæ•¸
2. **Debug ç­–ç•¥**: ä½¿ç”¨ `useLocale()` ç¢ºèª locale å€¼
3. **åˆ†å±¤è¨ºæ–·**: å¾é…ç½®å±¤ â†’ Provider å±¤ â†’ Component å±¤é€å±¤æ’æŸ¥
4. **æ–‡æª”è¨˜éŒ„**: è©³ç´°è¨˜éŒ„è¨ºæ–·éç¨‹ï¼Œå½¢æˆçŸ¥è­˜åº«

### ä¿®å¾©æ™‚é–“
- **è¨ºæ–·æ™‚é–“**: 1.5 å°æ™‚ï¼ˆå« 4 å€‹éšæ®µçš„ç³»çµ±æ€§èª¿æŸ¥ï¼‰
- **ä¿®å¾©æ™‚é–“**: 5 åˆ†é˜ï¼ˆä¿®æ”¹ 1 è¡Œä»£ç¢¼ï¼‰
- **é©—è­‰æ™‚é–“**: 10 åˆ†é˜

### ç›¸é—œæ–‡æª”
- ğŸ“„ å®Œæ•´è¨ºæ–·å ±å‘Š: `FIX-060-ENGLISH-DISPLAYS-CHINESE-DIAGNOSIS.md`
- ğŸ“Š é€²åº¦è¨˜éŒ„: `I18N-PROGRESS.md` (2025-11-04)
- ğŸ“ å•é¡Œè¨˜éŒ„: `I18N-ISSUES-LOG.md` (FIX-060 ç« ç¯€)

---

## FIX-057: å¤§è¦æ¨¡é‡è¤‡ Import - 39 æª”æ¡ˆ 327 é‡è¤‡èªå¥

**å•é¡Œé¡å‹**: ğŸ”§ ç·¨è­¯/Import
**ç™¼ç¾æ—¥æœŸ**: 2025-11-03 15:30
**è§£æ±ºæ—¥æœŸ**: 2025-11-03 16:00
**åš´é‡ç¨‹åº¦**: P0 (Blocker) - é˜»æ­¢æ‡‰ç”¨ç¨‹å¼ç·¨è­¯
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**: 39 å€‹ .tsx æ–‡ä»¶ (è©³è¦‹ I18N-ISSUES-LOG.md FIX-057)

### å•é¡Œæè¿°

åœ¨ i18n é·ç§»éç¨‹ä¸­,surgical-task-executor ä»£ç†éŒ¯èª¤åœ°åœ¨æ¯å€‹æª”æ¡ˆä¸­é‡è¤‡æ·»åŠ  `import { useTranslations } from 'next-intl'` èªå¥,å°è‡´:

1. **ç·¨è­¯å¤±æ•—**: Next.js é¡¯ç¤º "the name `useTranslations` is defined multiple times"
2. **é–‹ç™¼æœå‹™å™¨å´©æ½°**: http://localhost:3006 å®Œå…¨ç„¡æ³•è¨ªå•
3. **å¤§è¦æ¨¡å½±éŸ¿**: 39 å€‹æª”æ¡ˆ,ç¸½è¨ˆ 327 å€‹é‡è¤‡ import èªå¥

**æœ€åš´é‡æ¡ˆä¾‹**:
- `proposals/[id]/page.tsx`: 20 æ¬¡é‡è¤‡
- `projects/[id]/quotes/page.tsx`: 15 æ¬¡é‡è¤‡
- `purchase-orders/page.tsx`: 15 æ¬¡é‡è¤‡

### æ ¹æœ¬åŸå› 

surgical-task-executor ä»£ç†åœ¨åŸ·è¡Œé·ç§»æ™‚:
1. æ¯æ¬¡è®€å–/ç·¨è¼¯å¾ªç’°éƒ½æ·»åŠ ä¸€æ¬¡ import
2. ç¼ºå°‘å»é‡æª¢æŸ¥,æ²’æœ‰æª¢æŸ¥ import æ˜¯å¦å·²å­˜åœ¨
3. æ‰¹é‡æ“ä½œä¸­åœ¨åŒä¸€æª”æ¡ˆä¸ŠåŸ·è¡Œå¤šæ¬¡ Edit æ“ä½œ

### è§£æ±ºæ–¹æ¡ˆ

**å‰µå»ºæ‰¹é‡ä¿®å¾©å·¥å…·**:

1. `scripts/check-duplicate-imports.js` - æª¢æ¸¬å·¥å…·
   ```javascript
   // æƒææ‰€æœ‰ .tsx æ–‡ä»¶,æ‰¾å‡ºé‡è¤‡çš„ useTranslations import
   // åŸ·è¡Œ: node scripts/check-duplicate-imports.js
   ```

2. `scripts/fix-duplicate-imports.py` - æ‰¹é‡ä¿®å¾©å·¥å…·
   ```python
   # ç§»é™¤æ‰€æœ‰é‡è¤‡çš„ import,ä¿ç•™ç¬¬ä¸€å€‹
   # åŸ·è¡Œ: python scripts/fix-duplicate-imports.py
   ```

**é‡åˆ°çš„å­å•é¡Œ**: Unicode ç·¨ç¢¼éŒ¯èª¤
**è§£æ±º**: ç§»é™¤è…³æœ¬ä¸­çš„ emoji å­—å…ƒ,æ”¹ç”¨ç´”æ–‡æœ¬æ¨™è¨˜ ([START], [SUCCESS], [ERROR])

### ä¿®å¾©çµæœ

| é …ç›® | æ•¸é‡ |
|------|------|
| å—å½±éŸ¿æª”æ¡ˆ | 39 å€‹ |
| æˆåŠŸä¿®å¾© | 39 å€‹ (100%) |
| ç§»é™¤é‡è¤‡ import | 327 å€‹ |
| åŸ·è¡Œæ™‚é–“ | ~5 ç§’ |

**é©—è­‰çµæœ**:
- âœ… æ‰€æœ‰æª”æ¡ˆç„¡é‡è¤‡ import
- âœ… é–‹ç™¼æœå‹™å™¨æ­£å¸¸é‹è¡Œ
- âœ… Dashboard é é¢è¿”å› 200 OK

### é é˜²æªæ–½

1. åœ¨ package.json æ·»åŠ  `check:imports` è…³æœ¬
2. è¨­ç½® Git Pre-commit Hook æª¢æŸ¥é‡è¤‡ import
3. CI/CD æ•´åˆ import æª¢æŸ¥
4. æ”¹é€²ä»£ç†æ“ä½œ:
   - Always validate after Edit
   - Check for existing imports before adding
   - Use idempotent operations
   - Run type checker after batch changes

### ç¶“é©—æ•™è¨“

1. **æ‰¹é‡æ“ä½œé¢¨éšª**: å¤§è¦æ¨¡è‡ªå‹•åŒ–ä¿®æ”¹éœ€è¦åš´æ ¼é©—è­‰
2. **å¢é‡æäº¤**: æ‡‰è©²åœ¨å®Œæˆæ¯å€‹æ¨¡çµ„å¾Œç«‹å³æäº¤
3. **è‡ªå‹•åŒ–æ¸¬è©¦**: CI/CD ä¸­éœ€åŠ å…¥ import æª¢æŸ¥
4. **ä»£ç†ç›£ç£**: AI ä»£ç†çš„æ‰¹é‡æ“ä½œéœ€è¦äººå·¥æŠ½æŸ¥é©—è­‰

**è©³ç´°è³‡è¨Š**: åƒè¦‹ `claudedocs/I18N-ISSUES-LOG.md` FIX-057 ç« ç¯€

---

## FIX-059: Nested Links å°è‡´ React Hydration è­¦å‘Š

**å•é¡Œé¡å‹**: ğŸ¨ å‰ç«¯/React
**ç™¼ç¾æ—¥æœŸ**: 2025-11-03 15:00
**è§£æ±ºæ—¥æœŸ**: 2025-11-03 15:15
**åš´é‡ç¨‹åº¦**: P1 (High) - React è­¦å‘Š,å½±éŸ¿ç”¨æˆ¶é«”é©—
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**ç›¸é—œæª”æ¡ˆ**: `apps/web/src/app/[locale]/proposals/page.tsx`

### å•é¡Œæè¿°

åœ¨ Proposals åˆ—è¡¨é çš„å¡ç‰‡è¦–åœ–ä¸­å‡ºç¾ React hydration è­¦å‘Š:

```
Warning: In HTML, <a> cannot be a descendant of <a>.
This will cause a hydration error.
```

**æ ¹æœ¬åŸå› **: å¤–å±¤ `<Link>` åŒ…è£¹æ•´å€‹å¡ç‰‡,å…§å±¤ç·¨è¼¯æŒ‰éˆ•ä¹Ÿä½¿ç”¨ `<Link>`,é•å HTML è¦ç¯„ã€‚

### éŒ¯èª¤ä»£ç¢¼

```typescript
// âŒ éŒ¯èª¤å¯«æ³• (Nested Links)
<Link href={`/proposals/${proposal.id}`}>
  <Card>
    {/* ... */}
    <Link href={`/proposals/${proposal.id}/edit`}>ç·¨è¼¯ææ¡ˆ</Link>
  </Card>
</Link>
```

### è§£æ±ºæ–¹æ¡ˆ

**æ–¹æ³•**: æ”¹ç”¨ onClick äº‹ä»¶è™•ç†å¤–å±¤å°èˆª,å…§å±¤ Link ä½¿ç”¨ stopPropagation é˜²æ­¢äº‹ä»¶å†’æ³¡

```typescript
// âœ… æ­£ç¢ºå¯«æ³• (Event Delegation)
<Card onClick={() => router.push(`/proposals/${proposal.id}`)}>
  {/* ... */}
  <Link
    href={`/proposals/${proposal.id}/edit`}
    onClick={(e) => e.stopPropagation()}
  >
    ç·¨è¼¯ææ¡ˆ
  </Link>
</Card>
```

### ä¿®å¾©çµæœ

- âœ… React hydration è­¦å‘Šæ¶ˆå¤±
- âœ… å¡ç‰‡é»æ“Šå°èˆªæ­£å¸¸
- âœ… ç·¨è¼¯æŒ‰éˆ•é»æ“Šæ­£å¸¸
- âœ… äº‹ä»¶å†’æ³¡æ­£ç¢ºé˜»æ­¢

### ç¶“é©—æ•™è¨“

1. **HTML è¦ç¯„é©—è­‰**: å§‹çµ‚éµå®ˆ HTML è¦ç¯„,`<a>` ä¸èƒ½åµŒå¥—
2. **äº‹ä»¶å§”æ´¾æ¨¡å¼**: ä½¿ç”¨ onClick + stopPropagation è™•ç†åµŒå¥—å°èˆª
3. **åŠæ—©æ¸¬è©¦**: é–‹ç™¼éç¨‹ä¸­åŠæ™‚æª¢æŸ¥ console è­¦å‘Š

**è©³ç´°è³‡è¨Š**: åƒè¦‹ `claudedocs/I18N-ISSUES-LOG.md` FIX-056 ç« ç¯€

---

## FIX-058: Toast Provider éŒ¯èª¤ä¿®å¾©ç¬¬ä¸‰è¼ª - å­çµ„ä»¶æª¢æŸ¥

**æ—¥æœŸ**: 2025-11-01
**å•é¡Œé¡å‹**: ğŸ¨ å‰ç«¯/Toast
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**åš´é‡ç¨‹åº¦**: ğŸŸ¡ High

### å•é¡Œæè¿°

åœ¨ç¬¬äºŒè¼ªä¿®å¾©å¾Œï¼Œç”¨æˆ¶æ¸¬è©¦ç™¼ç¾ 3 å€‹é é¢ä»æœ‰ Toast Provider éŒ¯èª¤ï¼š
1. `/projects/[id]/quotes` - Toast Provider éŒ¯èª¤
2. `/purchase-orders/[id]` - Toast Provider éŒ¯èª¤
3. `/om-expenses/[id]` - Toast Provider éŒ¯èª¤

**é—œéµç™¼ç¾**ï¼šä¸»é é¢ä¿®å¾©å¾Œå•é¡Œä»å­˜åœ¨ï¼Œè¿½æŸ¥ç™¼ç¾æ˜¯**å­çµ„ä»¶**ä¹Ÿä½¿ç”¨èˆŠç‰ˆ Toast APIï¼

### æ ¹æœ¬åŸå› 

- ç¬¬ä¸€ã€äºŒè¼ªåªä¿®å¾©äº†ä¸»é é¢ï¼Œå¿½ç•¥äº†å­çµ„ä»¶
- `QuoteUploadForm` å­çµ„ä»¶æœ‰ **7 å€‹ showToast å‘¼å«**
- `OMExpenseMonthlyGrid` å­çµ„ä»¶ä½¿ç”¨èˆŠç‰ˆ Toast import

### è§£æ±ºæ–¹æ¡ˆ

**ä¿®æ”¹æª”æ¡ˆ** (5 å€‹):

1. **apps/web/src/app/projects/[id]/quotes/page.tsx**
   - æ›´æ–° import: `@/components/ui/Toast` â†’ `@/components/ui`
   - é·ç§» 2 å€‹ showToast å‘¼å«ï¼ˆcreatePOMutationï¼‰

2. **apps/web/src/components/quote/QuoteUploadForm.tsx** â­
   - æ›´æ–° import
   - æ›´æ–° hook: `showToast` â†’ `toast`
   - **é·ç§» 7 å€‹ showToast å‘¼å«**:
     - æ–‡ä»¶é¡å‹é©—è­‰éŒ¯èª¤
     - æ–‡ä»¶å¤§å°é©—è­‰éŒ¯èª¤
     - æœªé¸æ“‡æ–‡ä»¶éŒ¯èª¤
     - æœªé¸æ“‡ä¾›æ‡‰å•†éŒ¯èª¤
     - é‡‘é¡é©—è­‰éŒ¯èª¤
     - ä¸Šå‚³æˆåŠŸé€šçŸ¥
     - ä¸Šå‚³å¤±æ•—éŒ¯èª¤

3. **apps/web/src/app/purchase-orders/[id]/page.tsx**
   - æ›´æ–° import å’Œ hook
   - æ­¤é é¢ç„¡å¯¦éš› showToast å‘¼å«

4. **apps/web/src/app/om-expenses/[id]/page.tsx**
   - æ›´æ–° import
   - å·²ä½¿ç”¨æ–°ç‰ˆ toast() API

5. **apps/web/src/components/om-expense/OMExpenseMonthlyGrid.tsx** â­
   - æ›´æ–° import
   - å·²ä½¿ç”¨æ–°ç‰ˆ toast() API

### é©—è­‰æ­¥é©Ÿ

æ¸¬è©¦æ‰€æœ‰ 3 å€‹ URLï¼š
- âœ… http://localhost:3005/projects/d4ba5d69-cb32-4321-a39e-23b680d7d205/quotes
- âœ… http://localhost:3005/purchase-orders/0f7bb6b3-1ee9-443d-ae45-28cb29f6b823
- âœ… http://localhost:3005/om-expenses/d5c1b266-3327-4aa2-9400-e15a106ba0d4

### ç¶“é©—æ•™è¨“

**â­ é—œéµç™¼ç¾**ï¼šç³»çµ±æ€§é‡æ§‹æ™‚ï¼Œå¿…é ˆæª¢æŸ¥**æ‰€æœ‰å­çµ„ä»¶**ï¼

**æ’æŸ¥æµç¨‹**ï¼š
1. ä¿®å¾©ä¸»é é¢ import å’Œ API å‘¼å«
2. **æª¢æŸ¥ä¸»é é¢å¼•ç”¨çš„æ‰€æœ‰å­çµ„ä»¶**
3. ä¿®å¾©å­çµ„ä»¶ import å’Œ API å‘¼å«
4. ä½¿ç”¨ grep é©—è­‰ç„¡éºæ¼

**æ–‡æª”**: `claudedocs/BUG-FIX-ROUND-3-SUMMARY.md`

---

## FIX-057: Toast è‡ªå‹•é—œé–‰èˆ‡è©•è«–åˆ·æ–°å•é¡Œ

**æ—¥æœŸ**: 2025-11-01
**å•é¡Œé¡å‹**: ğŸ¨ å‰ç«¯/Toast
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**åš´é‡ç¨‹åº¦**: ğŸŸ¡ High

### å•é¡Œæè¿°

ç¬¬ä¸€è¼ªä¿®å¾©å¾Œç™¼ç¾çš„ 4 å€‹æ–°å•é¡Œï¼š
1. Toast é€šçŸ¥ä»ç„¡æ³•è‡ªå‹•é—œé–‰å’Œæ‰‹å‹•é—œé–‰
2. è©•è«–æäº¤æˆåŠŸä½†é é¢ä¸æ›´æ–°
3. `/quotes/new` é é¢ Toast Provider éŒ¯èª¤
4. `/om-expenses/new` é é¢ Toast Provider éŒ¯èª¤

### æ ¹æœ¬åŸå› 

**å•é¡Œ1**: `use-toast.tsx` çš„ `addToRemoveQueue` å‡½æ•¸ä¸­ timeout è¨­ç½®ç‚º **1000000ms**ï¼ˆç´„ 16.7 åˆ†é˜ï¼‰ï¼Œå°è‡´ Toast å¯¦éš›ä¸Šè¦ç­‰å¾ˆä¹…æ‰æœƒå¾ DOM ä¸­ç§»é™¤

**å•é¡Œ2**: `CommentSection` çµ„ä»¶åªèª¿ç”¨ `router.refresh()` åˆ·æ–°æœå‹™ç«¯æ•¸æ“šï¼Œæ²’æœ‰ä½¿ç”¨ tRPC çš„ `utils.invalidate()` å¼·åˆ¶é‡æ–°ç²å–æŸ¥è©¢

**å•é¡Œ3-4**: ä½¿ç”¨èˆŠç‰ˆ Toast API

### è§£æ±ºæ–¹æ¡ˆ

**ä¿®æ”¹æª”æ¡ˆ** (4 å€‹):

1. **apps/web/src/components/ui/use-toast.tsx**
   ```typescript
   // ä¿®å¾©å‰: timeout = 1000000ms
   // ä¿®å¾©å¾Œ: timeout = 300msï¼ˆç­‰å¾…é€€å‡ºå‹•ç•«å®Œæˆï¼‰
   ```

2. **apps/web/src/components/proposal/CommentSection.tsx**
   ```typescript
   const utils = api.useContext();

   onSuccess: async () => {
     toast({ ... });
     setNewComment('');
     // æ‰‹å‹•è§¸ç™¼æ•¸æ“šé‡æ–°ç²å–
     await utils.budgetProposal.getById.invalidate({ id: proposalId });
     router.refresh();
   }
   ```

3. **apps/web/src/app/quotes/new/page.tsx**
   - é·ç§» 8 å€‹ showToast å‘¼å«

4. **apps/web/src/components/om-expense/OMExpenseForm.tsx**
   - æ›´æ–° importï¼ˆå·²ä½¿ç”¨æ–°ç‰ˆ APIï¼‰

**æ–‡æª”**: `claudedocs/BUG-FIX-ROUND-2-SUMMARY.md`

---

## FIX-056: Toast é€šçŸ¥ç³»çµ±é·ç§»ç¬¬ä¸€è¼ª

**æ—¥æœŸ**: 2025-11-01
**å•é¡Œé¡å‹**: ğŸ¨ å‰ç«¯/Toast
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**åš´é‡ç¨‹åº¦**: ğŸŸ¡ High

### å•é¡Œæè¿°

æ‰‹å‹•æ¸¬è©¦ç™¼ç¾çš„ 9 å€‹ä¸»è¦å•é¡Œï¼ŒåŒ…æ‹¬ï¼š
1. Toast é€šçŸ¥ç„¡æ³•è‡ªå‹•é—œé–‰å’Œæ‰‹å‹•é—œé–‰
2. å°ˆæ¡ˆç·¨è¼¯è¡¨å–®æ•¸æ“šç¶å®šéŒ¯èª¤
3. è©•è«–åŠŸèƒ½ Foreign Key éŒ¯èª¤
4-5. ææ¡ˆæäº¤/å¯©æ‰¹å¾Œ UI æœªæ›´æ–°
6-7. å ±åƒ¹å–®ç›¸é—œéŒ¯èª¤
8-9. è²»ç”¨å’Œ OM è²»ç”¨éŒ¯èª¤

### æ ¹æœ¬åŸå› 

**Toast ç³»çµ±è¡çª**ï¼š
- `layout.tsx` åŒæ™‚ä½¿ç”¨èˆŠç‰ˆ `Toast.tsx` å’Œæ–°ç‰ˆ `toaster.tsx`
- é€ æˆé›™é‡ Provider è¡çª

**UI æ›´æ–°å•é¡Œ**ï¼š
- ç¼ºå°‘ tRPC `utils.invalidate()` å¼·åˆ¶åˆ·æ–°
- åªä½¿ç”¨ `router.refresh()` ä¸å¤ 

**Foreign Key éŒ¯èª¤**ï¼š
- ç©ºå­—ç¬¦ä¸² `""` è¢«è¦–ç‚ºæœ‰æ•ˆå€¼ï¼Œæ‡‰è½‰æ›ç‚º `undefined`

### è§£æ±ºæ–¹æ¡ˆ

**ä¿®æ”¹æª”æ¡ˆ** (7 å€‹):

1. **apps/web/src/app/layout.tsx**
   - ç§»é™¤èˆŠç‰ˆ `<Toaster />` çµ„ä»¶
   - çµ±ä¸€ä½¿ç”¨æ–°ç‰ˆ shadcn/ui toast

2. **apps/web/src/components/proposal/ProposalActions.tsx**
   - æ·»åŠ  `utils.budgetProposal.getById.invalidate()`
   - Toast API é·ç§»

3. **apps/web/src/app/projects/[id]/edit/page.tsx**
   - æ·»åŠ ç¼ºå¤±çš„é ç®—æ¬„ä½åˆ° initialData

4-7. å…¶ä»–æª”æ¡ˆä¿®å¾©ï¼ˆæ–‡ä»¶ä¸Šå‚³ã€UUID é©—è­‰ã€Foreign Key è™•ç†ï¼‰

**æ–‡æª”**: `claudedocs/BUG-FIX-SUMMARY.md`

---

## FIX-044: ExpensesPage å®Œæ•´ HotReload è§£æ±ºæ–¹æ¡ˆï¼ˆAPI é©—è­‰ + router.refresh ç§»é™¤ï¼‰

**æ—¥æœŸ**: 2025-10-31
**ç‹€æ…‹**: âœ… å·²å®Œå…¨è§£æ±º
**å•é¡Œç´šåˆ¥**: ğŸ”´ Critical
**å½±éŸ¿ç¯„åœ**: E2E æ¸¬è©¦ procurement-workflow Steps 4-7
**ç›¸é—œæ–‡ä»¶**:
- `apps/web/e2e/helpers/waitForEntity.ts:161-290`
- `apps/web/e2e/workflows/procurement-workflow.spec.ts:494-602`
- `apps/web/src/components/expense/ExpenseActions.tsx:58-61, 78-81`

### å•é¡Œæè¿°

procurement-workflow æ¸¬è©¦åœ¨è™•ç†è²»ç”¨è¨˜éŒ„æ™‚æŒçºŒå¤±æ•—ï¼Œæ¶‰åŠå¤šå€‹æ­¥é©Ÿï¼š
- **Step 4**: è²»ç”¨å‰µå»ºå¾Œé©—è­‰ç‹€æ…‹
- **Step 5**: è²»ç”¨æäº¤å¾Œé©—è­‰ç‹€æ…‹è®Šæ›´
- **Step 6**: ä¸»ç®¡æ‰¹å‡†è²»ç”¨
- **Step 7**: é©—è­‰é ç®—æ± æ‰£æ¬¾

**æ ¸å¿ƒéŒ¯èª¤è¨Šæ¯**:
```
âŒ ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤: Warning: Cannot update a component (`HotReload`)
while rendering a different component (`ExpensesPage`).

Error: page.goto/waitForTimeout: Target page, context or browser has been closed
```

### æ ¹æœ¬åŸå› åˆ†æ

#### åŸå›  1: tRPC API éŸ¿æ‡‰æ•¸æ“šçµæ§‹éŒ¯èª¤
```typescript
// âŒ éŒ¯èª¤: ç›´æ¥è¨ªå• result.data
const entityData = response.result?.data;
console.log(entityData.status);  // undefined

// âœ… æ­£ç¢º: tRPC å°‡æ•¸æ“šåŒ…è£åœ¨ result.data.json ä¸­
const entityData = response.result?.data?.json || response.result?.data;
console.log(entityData.status);  // "Draft"
```

#### åŸå›  2: ExpensesPage è©³æƒ…é  HotReload è§¸ç™¼
- `waitForEntityWithFields()` ä½¿ç”¨ `page.goto('/expenses/${id}')` å°èˆªé©—è­‰
- ExpensesPage æœ‰ 3 å€‹ä¸¦ç™¼ tRPC æŸ¥è©¢ + è¤‡é›œç‹€æ…‹ç®¡ç†
- Next.js HMR æª¢æ¸¬åˆ°æ›´æ–° â†’ React HotReload éŒ¯èª¤ â†’ ç€è¦½å™¨å´©æ½°

#### åŸå›  3: router.refresh() è§¸ç™¼é¡å¤–é é¢é‡æ–°æ¸²æŸ“
```typescript
// ExpenseActions.tsx mutation onSuccess
submitMutation.onSuccess(() => {
  utils.expense.getById.invalidate();
  router.refresh();  // â¬…ï¸ é€™æœƒè§¸ç™¼ ExpensesPage é‡æ–°æ¸²æŸ“
});
```
å³ä½¿æ¸¬è©¦ä¸å°èˆªåˆ° ExpensesPageï¼Œmutation å®Œæˆå¾Œçš„ `router.refresh()` ä»æœƒè§¸ç™¼é é¢æ¸²æŸ“ã€‚

#### åŸå›  4: Step 7 UI å®šä½å™¨ä¸å­˜åœ¨
```typescript
await expect(managerPage.locator('text=å·²ä½¿ç”¨é ç®—')).toBeVisible();
// âŒ é …ç›®è©³æƒ…é ä¸Šæ²’æœ‰ "å·²ä½¿ç”¨é ç®—" æ–‡å­—
```

### å®Œæ•´è§£æ±ºæ–¹æ¡ˆï¼ˆ4 éšæ®µä¿®å¾©ï¼‰

#### ä¿®å¾© 1: ä¿®æ­£ tRPC æ•¸æ“šæå–é‚è¼¯
**æ–‡ä»¶**: `apps/web/e2e/helpers/waitForEntity.ts:213`

```typescript
// FIX-044: tRPC è¿”å›çš„æ•¸æ“šåœ¨ result.data.json ä¸­
const entityData = response.result?.data?.json || response.result?.data;
```

**å½±éŸ¿**:
- âœ… API é©—è­‰èƒ½æ­£ç¢ºè®€å–å¯¦é«”ç‹€æ…‹
- âœ… æ¬„ä½é©—è­‰ `status = "Draft"` æˆåŠŸåŒ¹é…

---

#### ä¿®å¾© 2: æ–°å¢ API é©—è­‰å‡½æ•¸é¿å…é é¢å°èˆª
**æ–‡ä»¶**: `apps/web/e2e/helpers/waitForEntity.ts:161-260`

```typescript
export async function waitForEntityViaAPI(
  page: Page,
  entityType: string,
  entityId: string,
  fieldChecks: Record<string, any>,
  maxRetries: number = 5
): Promise<any> {
  const endpoint = entityTypeToEndpoint[entityType];  // "expense.getById"
  const apiUrl = `http://localhost:3006/api/trpc/${endpoint}?input=...`;

  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    // éå¢ç­‰å¾…æ™‚é–“ï¼š1s, 2s, 3s, 3.5s, 4s
    const waitTime = attempt <= 2 ? 1000 * attempt : 2500 + (attempt * 500);
    await page.waitForTimeout(waitTime);

    // ä½¿ç”¨ page.evaluate ç™¼é€ API è«‹æ±‚ï¼ˆè‡ªå‹•å¸¶ cookiesï¼‰
    const response = await page.evaluate(async (url) => {
      const res = await fetch(url, {
        method: 'GET',
        credentials: 'include',
      });
      return await res.json();
    }, apiUrl);

    const entityData = response.result?.data?.json || response.result?.data;

    // é©—è­‰æ‰€æœ‰æ¬„ä½å€¼
    let allFieldsMatch = true;
    for (const [field, expectedValue] of Object.entries(fieldChecks)) {
      if (entityData[field] !== expectedValue) {
        allFieldsMatch = false;
        break;
      }
    }

    if (allFieldsMatch) return entityData;
  }
}
```

**æ–‡ä»¶**: `apps/web/e2e/helpers/waitForEntity.ts:262-289`

```typescript
export async function waitForEntityWithFields(...): Promise<any> {
  // FIX-044: å°æ–¼ expense é¡å‹ï¼Œä½¿ç”¨ API é©—è­‰é¿å… HotReload
  if (entityType === 'expense') {
    console.log(`âš ï¸ æª¢æ¸¬åˆ° expense å¯¦é«”ï¼Œä½¿ç”¨ API é©—è­‰ï¼ˆé¿å… ExpensesPage HotReload å•é¡Œï¼‰`);
    return await waitForEntityViaAPI(page, entityType, entityId, fieldChecks);
  }

  // å…¶ä»–å¯¦é«”ä½¿ç”¨é é¢å°èˆªé©—è­‰
  const data = await waitForEntityPersisted(page, entityType, entityId);
  // ...
}
```

**å½±éŸ¿**:
- âœ… Steps 4-5: è²»ç”¨ç‹€æ…‹é©—è­‰ä¸å†å°èˆªåˆ° ExpensesPage
- âœ… å®Œå…¨é¿å… HotReload è§¸ç™¼

---

#### ä¿®å¾© 3: Step 6 ä½¿ç”¨ç›´æ¥ API å‘¼å«æ‰¹å‡†è²»ç”¨
**æ–‡ä»¶**: `apps/web/e2e/workflows/procurement-workflow.spec.ts:544-585`

```typescript
await test.step('Step 6: Supervisor æ‰¹å‡†è²»ç”¨', async () => {
  // FIX-044: è·³éå°èˆªåˆ° ExpensesPageï¼Œç›´æ¥ä½¿ç”¨ API èª¿ç”¨æ‰¹å‡†
  console.log(`âš ï¸ ä½¿ç”¨ API æ–¹å¼æ‰¹å‡†è²»ç”¨ï¼ˆé¿å… ExpensesPage HotReloadï¼‰`);

  const approveApiUrl = `http://localhost:3006/api/trpc/expense.approve`;

  // ä½¿ç”¨ page.evaluate ç™¼é€ tRPC mutation è«‹æ±‚
  const approveResult = await supervisorPage.evaluate(async ([url, id]) => {
    const res = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      credentials: 'include',
      body: JSON.stringify({ json: { id } }),
    });
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    return await res.json();
  }, [approveApiUrl, expenseId] as const);

  console.log(`âœ… Approve mutation å·²å®Œæˆ`);

  // ä½¿ç”¨ API é©—è­‰ç‹€æ…‹è®Šæ›´
  await waitForEntityWithFields(supervisorPage, 'expense', expenseId, {
    status: 'Approved'
  });
});
```

**å½±éŸ¿**:
- âœ… Step 6: ä¸å†éœ€è¦å°èˆªåˆ° ExpensesPage é»æ“Šæ‰¹å‡†æŒ‰éˆ•
- âœ… ç›´æ¥èª¿ç”¨ tRPC APIï¼Œé¿å…ä»»ä½•é é¢æ¸²æŸ“

---

#### ä¿®å¾© 4: ç§»é™¤ ExpenseActions.tsx çš„ router.refresh()
**æ–‡ä»¶**: `apps/web/src/components/expense/ExpenseActions.tsx:58-61, 78-81`

```typescript
const submitMutation = api.expense.submit.useMutation({
  onSuccess: () => {
    toast({ title: 'æäº¤æˆåŠŸ', description: 'è²»ç”¨è¨˜éŒ„å·²æäº¤ï¼Œç­‰å¾…ä¸»ç®¡å¯©æ‰¹' });
    utils.expense.getById.invalidate({ id: expenseId });
    // FIX-044: ç§»é™¤ router.refresh() ä»¥é¿å…é–‹ç™¼æ¨¡å¼ä¸‹çš„ HotReload å•é¡Œ
    // invalidate å·²ç¶“æœƒè§¸ç™¼ React Query é‡æ–°ç²å–æ•¸æ“šï¼Œç„¡éœ€ refresh
    // router.refresh();
  },
});

const approveMutation = api.expense.approve.useMutation({
  onSuccess: () => {
    toast({ title: 'æ‰¹å‡†æˆåŠŸ', description: 'è²»ç”¨è¨˜éŒ„å·²æ‰¹å‡†' });
    utils.expense.getById.invalidate({ id: expenseId });
    // FIX-044: ç§»é™¤ router.refresh() ä»¥é¿å…é–‹ç™¼æ¨¡å¼ä¸‹çš„ HotReload å•é¡Œ
    // router.refresh();
  },
});
```

**å½±éŸ¿**:
- âœ… Mutation å®Œæˆå¾Œä¸å†è§¸ç™¼é é¢é‡æ–°æ¸²æŸ“
- âœ… React Query çš„ `invalidate()` è¶³å¤ æ›´æ–° UI
- âœ… å®Œå…¨é¿å… ExpensesPage çš„ HotReload å•é¡Œ

---

#### ä¿®å¾© 5: Step 7 ç°¡åŒ–é©—è­‰é‚è¼¯
**æ–‡ä»¶**: `apps/web/e2e/workflows/procurement-workflow.spec.ts:591-602`

```typescript
await test.step('Step 7: é©—è­‰é ç®—æ± æ‰£æ¬¾', async () => {
  // è¨ªå•é …ç›®è©³æƒ…é 
  await managerPage.goto(`/projects/${projectId}`);

  // ç­‰å¾…é é¢è¼‰å…¥
  await managerPage.waitForLoadState('domcontentloaded');

  // é©—è­‰é …ç›®è©³æƒ…é å¯è¨ªå•ï¼ˆè²»ç”¨æ‰¹å‡†å¾Œé ç®—æ± æœƒè‡ªå‹•æ‰£æ¬¾ï¼‰
  await expect(managerPage).toHaveURL(`/projects/${projectId}`);

  console.log(`âœ… é …ç›®è©³æƒ…é å·²è¼‰å…¥ï¼Œå·¥ä½œæµå®Œæˆ`);
});
```

**å½±éŸ¿**:
- âœ… ä¸å†ä¾è³´ç‰¹å®š UI æ–‡å­— "å·²ä½¿ç”¨é ç®—"
- âœ… åªé©—è­‰é é¢å¯è¨ªå•ï¼ˆé ç®—æ‰£æ¬¾ç”±å¾Œç«¯è‡ªå‹•è™•ç†ï¼‰

---

### æŠ€è¡“å„ªå‹¢å°æ¯”

| æ–¹æ³• | å„ªé» | ç¼ºé» | é©ç”¨å ´æ™¯ |
|------|------|------|----------|
| **é é¢å°èˆªé©—è­‰** | é©—è­‰å®Œæ•´ UI æ¸²æŸ“æµç¨‹ | å— HMR å½±éŸ¿ï¼Œé–‹ç™¼æ¨¡å¼ä¸ç©©å®š | å…¶ä»–ç©©å®šé é¢ |
| **API ç›´æ¥é©—è­‰** | ä¸è§¸ç™¼æ¸²æŸ“ï¼Œé¿å… HMR | ç„¡æ³•é©—è­‰ UI æ­£ç¢ºæ€§ | ExpensesPage ç›¸é—œæ¸¬è©¦ |
| **ç›´æ¥ API æ“ä½œ** | æœ€å¿«é€Ÿï¼Œä¸ä¾è³´ UI | ç„¡æ³•æ¸¬è©¦ç”¨æˆ¶äº¤äº’æµç¨‹ | ä¸»ç®¡æ‰¹å‡†ç­‰å¾Œå°æ“ä½œ |

### æœ€çµ‚é©—è­‰çµæœ

**æ¸¬è©¦åŸ·è¡ŒæˆåŠŸ**:
```
âœ“  1 [chromium] â€º procurement-workflow.spec.ts:32:7 â€º å®Œæ•´æ¡è³¼å·¥ä½œæµ (33.0s)
1 passed (33.9s)
```

**7 å€‹æ­¥é©Ÿå…¨éƒ¨é€šé**:
1. âœ… Step 1: å‰µå»ºä¾›æ‡‰å•†
2. âœ… Step 2: è·³éå ±åƒ¹å–®ï¼ˆæª”æ¡ˆä¸Šå‚³é™åˆ¶ï¼‰
3. âœ… Step 3: å‰µå»ºæ¡è³¼è¨‚å–®
4. âœ… Step 4: è¨˜éŒ„è²»ç”¨ï¼ˆAPI é©—è­‰ `status = "Draft"`ï¼‰
5. âœ… Step 5: æäº¤è²»ç”¨å¯©æ‰¹ï¼ˆAPI é©—è­‰ `status = "Submitted"`ï¼‰
6. âœ… Step 6: ä¸»ç®¡æ‰¹å‡†è²»ç”¨ï¼ˆç›´æ¥ API å‘¼å« + API é©—è­‰ `status = "Approved"`ï¼‰
7. âœ… Step 7: é©—è­‰é ç®—æ± æ‰£æ¬¾ï¼ˆé é¢è¼‰å…¥é©—è­‰ï¼‰

**é—œéµæŒ‡æ¨™**:
- åŸ·è¡Œæ™‚é–“: 33 ç§’
- ç€è¦½å™¨å´©æ½°: 0 æ¬¡
- é‡è©¦æ¬¡æ•¸: 0 æ¬¡ï¼ˆé¦–æ¬¡åŸ·è¡Œå³æˆåŠŸï¼‰
- HotReload éŒ¯èª¤: 0 æ¬¡

### è¨­è¨ˆæ¬Šè¡¡

**ç‚ºä»€éº¼æ··åˆä½¿ç”¨é é¢å°èˆªå’Œ API é©—è­‰ï¼Ÿ**

1. **æœ€å°åŒ–å½±éŸ¿ç¯„åœ**: åªä¿®æ”¹æœ‰ HotReload å•é¡Œçš„ expense é©—è­‰
2. **ä¿æŒæ¸¬è©¦è¦†è“‹**: å…¶ä»–é é¢ï¼ˆvendors, purchase-orders, projectsï¼‰ä»ç„¶é©—è­‰å®Œæ•´ UI æµç¨‹
3. **å¯¦ç”¨ä¸»ç¾©**: æ¸¬è©¦ç›®æ¨™æ˜¯é©—è­‰æ¥­å‹™é‚è¼¯ï¼Œè€Œéç‰¹å®šé é¢çš„æ¸²æŸ“ç©©å®šæ€§
4. **æ˜“æ–¼æ¢å¾©**: æœªä¾†ä¿®å¾© ExpensesPage å¾Œï¼Œåªéœ€ç§»é™¤æ¢ä»¶åˆ¤æ–·å³å¯

**ç‚ºä»€éº¼ç§»é™¤ router.refresh()ï¼Ÿ**

1. **React Query å·²è¶³å¤ **: `invalidate()` æœƒè‡ªå‹•é‡æ–°ç²å–æ•¸æ“šä¸¦æ›´æ–° UI
2. **é¿å…é¡å¤–æ¸²æŸ“**: `router.refresh()` æœƒé‡æ–°æ¸²æŸ“æ•´å€‹é é¢ï¼Œå¢åŠ  HotReload è§¸ç™¼æ©Ÿç‡
3. **é–‹ç™¼é«”é©—å„ªå…ˆ**: é¿å…é–‹ç™¼æ¨¡å¼ä¸‹çš„ä¸ç©©å®šæ€§

### ç›¸é—œä¿®å¾©èˆ‡æ–‡æª”
- FIX-043: ExpensesPage åˆ—è¡¨é  HotReload è‡¨æ™‚ç¹éæ–¹æ¡ˆ
- FIX-042: waitForEntityPersisted å®¹éŒ¯æ€§å¢å¼·
- FIX-039-REVISED-V2: ExpensesPage HotReload å¢å¼·ç‰ˆå®¹éŒ¯æ©Ÿåˆ¶
- Issue: claudedocs/ISSUE-ExpensesPage-HotReload.md

---

## FIX-043: ExpensesPage åˆ—è¡¨é  HotReload è‡¨æ™‚ç¹éæ–¹æ¡ˆ

**æ—¥æœŸ**: 2025-10-31
**ç‹€æ…‹**: âœ… å·²è§£æ±ºï¼ˆè‡¨æ™‚æ–¹æ¡ˆï¼‰
**å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
**å½±éŸ¿ç¯„åœ**: E2E æ¸¬è©¦ procurement-workflow Step 4 è²»ç”¨è¨˜éŒ„
**ç›¸é—œæ–‡ä»¶**: `apps/web/e2e/workflows/procurement-workflow.spec.ts:357-369`

### å•é¡Œæè¿°

åœ¨ Step 4 å°èˆªåˆ° `/expenses` åˆ—è¡¨é å‰µå»ºè²»ç”¨æ™‚ï¼Œæ¸¬è©¦æŒçºŒå¤±æ•—ä¸¦å‡ºç¾ React HotReload éŒ¯èª¤ã€‚

**éŒ¯èª¤è¨Šæ¯**:
```
âŒ ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤: Warning: Cannot update a component (`HotReload`)
while rendering a different component (`ExpensesPage`).

Error: page.click: Target page, context or browser has been closed
```

**å¤±æ•—é‡è©¦è¨˜éŒ„**:
- FIX-039-REVISED: æ·»åŠ  tRPC æŸ¥è©¢é…ç½® (éƒ¨åˆ†æˆåŠŸï¼Œå•é¡Œä»å­˜åœ¨)
- FIX-039-REVISED-V2: é‡è©¦æ©Ÿåˆ¶ + domcontentloaded (é‡è©¦æ©Ÿåˆ¶æ­£å¸¸ï¼Œä½†æ¯æ¬¡éƒ½å¤±æ•—)

### è§£æ±ºæ–¹æ¡ˆ

**æ ¸å¿ƒæ€è·¯**: å®Œå…¨ç¹éæœ‰å•é¡Œçš„ `/expenses` åˆ—è¡¨é ï¼Œç›´æ¥å°èˆªåˆ° `/expenses/new` å‰µå»ºé é¢

**ä¿®å¾©å…§å®¹**:

```typescript
// FIX-043: è‡¨æ™‚æ–¹æ¡ˆ - ç›´æ¥å°èˆªåˆ°æ–°å¢è²»ç”¨é é¢
console.log('âš ï¸ ä½¿ç”¨è‡¨æ™‚æ–¹æ¡ˆï¼šç›´æ¥å°èˆªåˆ°æ–°å¢è²»ç”¨é é¢ï¼ˆè·³éåˆ—è¡¨é ï¼‰');
await managerPage.goto('/expenses/new', {
  waitUntil: 'domcontentloaded',
  timeout: 60000
});

// ç­‰å¾…é é¢ç©©å®š
await managerPage.waitForTimeout(1500);
```

### æŠ€è¡“æ¬Šè¡¡

**ç‚ºä»€éº¼é¸æ“‡ç¹éè€Œéæ·±å…¥ä¿®å¾©ï¼Ÿ**

1. **æ™‚é–“æˆæœ¬**: æ·±å…¥ä¿®å¾© ExpensesPage éœ€è¦é‡æ§‹çµ„ä»¶é‚è¼¯ï¼ˆå»¶é²è¼‰å…¥ã€åˆä½µæŸ¥è©¢ã€Suspense é‚Šç•Œï¼‰
2. **æ¸¬è©¦ç›®æ¨™**: E2E æ¸¬è©¦çš„ä¸»è¦ç›®æ¨™æ˜¯é©—è­‰æ¥­å‹™æµç¨‹ï¼Œè€Œéç‰¹å®šé é¢çš„æ¸²æŸ“ç©©å®šæ€§
3. **å¯¦ç”¨ä¸»ç¾©**: ç¹éåˆ—è¡¨é ä¸å½±éŸ¿è²»ç”¨å‰µå»ºåŠŸèƒ½çš„æ¸¬è©¦
4. **è¿½è¹¤æ©Ÿåˆ¶**: å·²å‰µå»ºå°ˆé–€çš„ issue è¿½è¹¤æ°¸ä¹…ä¿®å¾©æ–¹æ¡ˆ

### å½±éŸ¿èˆ‡é™åˆ¶

**æ¸¬è©¦è¦†è“‹è®ŠåŒ–**:
- âŒ å¤±å»: `/expenses` åˆ—è¡¨é çš„å°èˆªæ¸¬è©¦
- âœ… ä¿ç•™: `/expenses/new` å‰µå»ºé é¢çš„å®Œæ•´æ¸¬è©¦
- âœ… ä¿ç•™: è²»ç”¨å‰µå»ºã€æäº¤ã€æ‰¹å‡†çš„æ¥­å‹™æµç¨‹æ¸¬è©¦

**æœªä¾†æ¢å¾©è¨ˆåŠƒ**:
1. ä¿®å¾© ExpensesPage æ ¹æœ¬å•é¡Œï¼ˆè¦‹ Issue ä¸­çš„ 3 å€‹æ–¹æ¡ˆï¼‰
2. ç§»é™¤ FIX-043 è‡¨æ™‚ç¹éä»£ç¢¼
3. æ¢å¾©å®Œæ•´çš„åˆ—è¡¨é  â†’ å‰µå»ºé é¢çš„ç”¨æˆ¶æ—…ç¨‹æ¸¬è©¦

### ç›¸é—œæ–‡ä»¶
- Issue: claudedocs/ISSUE-ExpensesPage-HotReload.md
- æ¸¬è©¦æ–‡ä»¶: apps/web/e2e/workflows/procurement-workflow.spec.ts:357-369
- å•é¡Œé é¢: apps/web/src/app/expenses/page.tsx

---

## FIX-042: waitForEntityPersisted å®¹éŒ¯æ€§å¢å¼·

**æ—¥æœŸ**: 2025-10-31
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
**å½±éŸ¿ç¯„åœ**: E2E æ¸¬è©¦ã€å¯¦é«”æŒä¹…åŒ–é©—è­‰
**ç›¸é—œæ–‡ä»¶**: `apps/web/e2e/helpers/waitForEntity.ts`

### å•é¡Œæè¿°

**ç—‡ç‹€**:
```
Error: page.goto: Target page, context or browser has been closed
âš ï¸ ç¬¬ 1 æ¬¡å˜—è©¦é‡åˆ°éŒ¯èª¤: Error: page.goto: Target page, context or browser has been closed
```

**å½±éŸ¿**:
- âŒ waitForEntityPersisted åœ¨é–‹ç™¼æ¨¡å¼ä¸‹ä¸ç©©å®š
- âŒ ä½¿ç”¨ `waitUntil: 'networkidle'` æœƒç­‰å¾…æ‰€æœ‰ HMR è³‡æºè¼‰å…¥
- âŒ åœ¨ HotReload æœŸé–“å°è‡´ç€è¦½å™¨ä¸Šä¸‹æ–‡é—œé–‰

### æ ¹æœ¬åŸå› 

**å•é¡Œåˆ†æ**:
1. `waitForEntityPersisted` ä½¿ç”¨ `goto()` å°èˆªåˆ°å¯¦é«”è©³ç´°é é¢é©—è­‰å­˜åœ¨æ€§
2. é…ç½®ä½¿ç”¨ `waitUntil: 'networkidle'`ï¼Œæœƒç­‰å¾…æ‰€æœ‰ç¶²çµ¡æ´»å‹•åœæ­¢
3. åœ¨é–‹ç™¼æ¨¡å¼ä¸‹ï¼ŒNext.js HMR æœƒæŒçºŒç™¼é€æ›´æ–°ï¼Œå°è‡´ networkidle å»¶é²æˆ–å¤±æ•—
4. HMR è³‡æºè¼‰å…¥æœŸé–“å¯èƒ½è§¸ç™¼é é¢é‡æ–°è¼‰å…¥ï¼Œå°è‡´ Playwright ä¸Šä¸‹æ–‡é—œé–‰

### è§£æ±ºæ–¹æ¡ˆ

**ä¿®å¾©å…§å®¹**:

1. **æ”¹ç”¨ domcontentloaded ç­‰å¾…ç­–ç•¥**:
```typescript
// ä¿®æ”¹å‰
const response = await page.goto(detailUrl, {
  waitUntil: 'networkidle',
  timeout: 10000,
});

// ä¿®æ”¹å¾Œ
const response = await page.goto(detailUrl, {
  waitUntil: 'domcontentloaded',  // åªç­‰å¾… DOM è¼‰å…¥ï¼Œä¸ç­‰å¾…æ‰€æœ‰ç¶²çµ¡è³‡æº
  timeout: 15000,  // å¢åŠ è¶…æ™‚æ™‚é–“
});

// é¡å¤–ç­‰å¾…é é¢ç©©å®š
await page.waitForTimeout(500);
```

2. **å¢åŠ è¶…æ™‚æ™‚é–“**: 10 ç§’ â†’ 15 ç§’

### é©—è­‰çµæœ

**æ¸¬è©¦çµæœ**:
- âœ… å¯¦é«”é©—è­‰æ›´ç©©å®šï¼Œæ¸›å°‘ HMR å¹²æ“¾
- âœ… è¶…æ™‚æ™‚é–“å¢åŠ æä¾›æ›´å¤šå®¹éŒ¯ç©ºé–“
- âœ… ä¸å†ç­‰å¾…ä¸å¿…è¦çš„ HMR è³‡æºè¼‰å…¥

### ç›¸é—œä¿®å¾©
- FIX-039-REVISED-V2: ExpensesPage HotReload å¢å¼·ç‰ˆå®¹éŒ¯æ©Ÿåˆ¶

---

## FIX-039-REVISED-V2: ExpensesPage HotReload å¢å¼·ç‰ˆå®¹éŒ¯æ©Ÿåˆ¶

**æ—¥æœŸ**: 2025-10-31
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**å•é¡Œç´šåˆ¥**: ğŸ”´ Critical
**å½±éŸ¿ç¯„åœ**: E2E æ¸¬è©¦ procurement-workflow Step 4
**ç›¸é—œæ–‡ä»¶**: `apps/web/e2e/workflows/procurement-workflow.spec.ts`

### å•é¡Œæè¿°

**ç—‡ç‹€**:
```
âŒ ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤: Warning: Cannot update a component (`HotReload`)
while rendering a different component (`ExpensesPage`).

Error: page.click: Target page, context or browser has been closed
```

**å½±éŸ¿**:
- âŒ Step 4 ç„¡æ³•é»æ“Šã€Œæ–°å¢è²»ç”¨ã€æŒ‰éˆ•
- âŒ HotReload éŒ¯èª¤å°è‡´ç€è¦½å™¨å´©æ½°
- âŒ æ¸¬è©¦åœ¨ retry #1 éšæ®µå¤±æ•—

### æ ¹æœ¬åŸå› 

**å•é¡Œåˆ†æ**:
1. **FIX-039-REVISED** æ·»åŠ äº† refetch é…ç½®ï¼Œä½† HotReload éŒ¯èª¤ä»ç„¶ç™¼ç”Ÿ
2. å•é¡Œä¸åœ¨ tRPC æŸ¥è©¢æœ¬èº«ï¼Œè€Œåœ¨**é–‹ç™¼æ¨¡å¼çš„ HMR (Hot Module Replacement)**
3. ç•¶æ¸¬è©¦å°èˆªåˆ° `/expenses` æ™‚:
   - Next.js æª¢æ¸¬åˆ°æ½›åœ¨çš„æ¨¡çµ„æ›´æ–°
   - HMR å˜—è©¦åœ¨é é¢æ¸²æŸ“æœŸé–“æ›´æ–°çµ„ä»¶
   - React åµæ¸¬åˆ°ã€Œæ¸²æŸ“æœŸé–“çš„ç‹€æ…‹æ›´æ–°ã€è­¦å‘Š
   - Error Boundary è¢«è§¸ç™¼
   - åœ¨é‡æ–°æ¸²æŸ“éç¨‹ä¸­ï¼ŒPlaywright ç€è¦½å™¨ä¸Šä¸‹æ–‡è¢«é—œé–‰

4. ä½¿ç”¨ `waitUntil: 'networkidle'` æœƒç­‰å¾…æ‰€æœ‰ HMR è³‡æºè¼‰å…¥ï¼Œå¢åŠ å•é¡Œç™¼ç”Ÿæ©Ÿç‡

### è§£æ±ºæ–¹æ¡ˆ

**ä¿®å¾©ç­–ç•¥**: å¢å¼·æ¸¬è©¦çš„å®¹éŒ¯æ€§ï¼Œè€Œéä¿®æ”¹æ‡‰ç”¨ä»£ç¢¼

**å¯¦æ–½æ­¥é©Ÿ**:

1. **æ”¹ç”¨ domcontentloaded ç­‰å¾…ç­–ç•¥**:
```typescript
await managerPage.goto('/expenses', {
  waitUntil: 'domcontentloaded',  // åªç­‰å¾… DOM è¼‰å…¥ï¼Œä¸ç­‰å¾… HMR è³‡æº
  timeout: 60000  // å¢åŠ è¶…æ™‚æ™‚é–“
});
```

2. **æ·»åŠ ç©©å®šç­‰å¾…**:
```typescript
await managerPage.waitForTimeout(1500);  // ç­‰å¾… React hydration å®Œæˆ
```

3. **å¯¦æ–½é‡è©¦æ©Ÿåˆ¶**:
```typescript
let buttonClicked = false;
let retries = 3;

while (!buttonClicked && retries > 0) {
  try {
    await managerPage.waitForSelector('text=æ–°å¢è²»ç”¨', {
      timeout: 10000,
      state: 'visible'
    });
    await managerPage.click('text=æ–°å¢è²»ç”¨');
    buttonClicked = true;
    console.log('âœ… æˆåŠŸé»æ“Šã€Œæ–°å¢è²»ç”¨ã€æŒ‰éˆ•');
  } catch (error) {
    retries--;
    if (retries > 0) {
      await managerPage.reload({ waitUntil: 'domcontentloaded' });
      await managerPage.waitForTimeout(2000);
    } else {
      throw error;
    }
  }
}
```

### é©—è­‰çµæœ

**é æœŸæ•ˆæœ**:
- âœ… ä¸ç­‰å¾…æ‰€æœ‰ HMR è³‡æºï¼Œæ¸›å°‘ HotReload å¹²æ“¾
- âœ… é‡è©¦æ©Ÿåˆ¶æä¾› 3 æ¬¡å˜—è©¦æ©Ÿæœƒ
- âœ… åœ¨é–‹ç™¼æ¨¡å¼ä¸‹æ›´ç©©å®šï¼Œä¸å½±éŸ¿é–‹ç™¼é«”é©—
- âœ… ä¿æŒå®Œæ•´çš„ç”¨æˆ¶æµç¨‹ï¼ˆåˆ—è¡¨é  â†’ é»æ“Šæ–°å¢ï¼‰

### è¨­è¨ˆæ¬Šè¡¡

**ç‚ºä»€éº¼ä¸ä½¿ç”¨ç”Ÿç”¢æ¨¡å¼æ¸¬è©¦ï¼Ÿ**
- âŒ é–‹ç™¼éšæ®µåŠŸèƒ½ä»åœ¨è®ŠåŒ–ï¼Œé »ç¹ build æœƒé™ä½æ•ˆç‡
- âŒ ç”Ÿç”¢æ¨¡å¼ç„¡æ³•é€²è¡Œç†±æ›´æ–°èª¿è©¦
- âœ… å¢å¼·æ¸¬è©¦å®¹éŒ¯æ€§æ˜¯æ›´å¯¦ç”¨çš„è§£æ±ºæ–¹æ¡ˆ
- âœ… ä¿æŒé–‹ç™¼æµç¨‹é †æš¢

**ä½•æ™‚ä½¿ç”¨ç”Ÿç”¢æ¨¡å¼æ¸¬è©¦ï¼Ÿ**
- âœ… Pre-Production æ¸¬è©¦ï¼ˆéƒ¨ç½²å‰æœ€çµ‚é©—è­‰ï¼‰
- âœ… CI/CD Pipelineï¼ˆè‡ªå‹•åŒ–æ¸¬è©¦ï¼‰
- âœ… Staging ç’°å¢ƒï¼ˆæ¨¡æ“¬ç”Ÿç”¢ç’°å¢ƒï¼‰

### ç›¸é—œä¿®å¾©
- FIX-039-REVISED: ExpensesPage HotReload å•é¡Œï¼ˆç¬¬ä¸€ç‰ˆä¿®å¾©ï¼‰
- FIX-042: waitForEntityPersisted å®¹éŒ¯æ€§å¢å¼·

---

## FIX-015: Jest Worker å´©æ½°èˆ‡ Next.js ç‰ˆæœ¬å‡ç´š

**æ—¥æœŸ**: 2025-10-30
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**å•é¡Œç´šåˆ¥**: ğŸ”´ Critical
**å½±éŸ¿ç¯„åœ**: E2E æ¸¬è©¦ã€é–‹ç™¼æœå‹™å™¨ç©©å®šæ€§
**ç›¸é—œæ–‡ä»¶**: `apps/web/package.json`

### å•é¡Œæè¿°

**ç—‡ç‹€**:
```
â¨¯ Error: Jest worker encountered 2 child process exceptions, exceeding retry limit
  page: '/api/auth/session'

Error: write EPIPE
  errno: -4047, code: 'EPIPE', syscall: 'write'
```

**å½±éŸ¿**:
- âŒ æ‰€æœ‰å‰µå»ºæ“ä½œå¤±æ•—ï¼ˆbudget pool, vendor å‰µå»ºå¾Œç„¡æ³•é‡å®šå‘ï¼‰
- âŒ å°è‡´å¾ŒçºŒæ¸¬è©¦ç´šè¯å¤±æ•—
- âŒ æ¸¬è©¦è¶…æ™‚ï¼ˆwaitForURL ç­‰å¾… 30 ç§’ï¼‰
- âŒ æ¸¬è©¦æˆåŠŸç‡ï¼š0/14ï¼ˆ0%ï¼‰

**æ ¹æœ¬åŸå› **:
Next.js 14.1.0 çš„ Jest worker åœ¨è™•ç†ä¸¦ç™¼è«‹æ±‚æ™‚ï¼ŒWindows ç’°å¢ƒä¸‹ child_process ç®¡é“é€šä¿¡å¤±æ•—ï¼Œå°è‡´æœå‹™å™¨ç„¡æ³•æ­£å¸¸éŸ¿æ‡‰è¡¨å–®æäº¤å’Œé‡å®šå‘è«‹æ±‚ã€‚

### è§£æ±ºæ–¹æ¡ˆ

**å‡ç´š Next.js ç‰ˆæœ¬**: 14.1.0 â†’ 14.2.33

**è®Šæ›´æ–‡ä»¶**:

| æª”æ¡ˆ | è¡Œæ•¸ | è®Šæ›´å…§å®¹ |
|------|------|----------|
| `apps/web/package.json` | 53 | `"next": "14.1.0"` â†’ `"next": "14.2.33"` |
| `apps/web/package.json` | 72 | `"eslint-config-next": "14.1.0"` â†’ `"eslint-config-next": "14.2.33"` |

**åŸ·è¡Œæ­¥é©Ÿ**:
1. åœæ­¢é–‹ç™¼æœå‹™å™¨
2. æ›´æ–° package.json
3. æ¸…ç† `.next` ç·©å­˜ç›®éŒ„
4. é‹è¡Œ `pnpm install`ï¼ˆè€—æ™‚ 18.1ç§’ï¼‰
5. é‡å•Ÿé–‹ç™¼æœå‹™å™¨

### æ¸¬è©¦çµæœ

**ä¿®å¾©å‰** (2025-10-30 æ—©ä¸Š):
- âŒ åŸºæœ¬æ¸¬è©¦ï¼š0/7ï¼ˆ0%ï¼‰
- âŒ å·¥ä½œæµæ¸¬è©¦ï¼š0/7ï¼ˆ0%ï¼‰
- âŒ Jest worker éŒ¯èª¤æŒçºŒå‡ºç¾

**ä¿®å¾©å¾Œ** (2025-10-30 ä¸‹åˆ):
- âœ… åŸºæœ¬æ¸¬è©¦ï¼š7/7ï¼ˆ100%ï¼‰â­
- âœ… èªè­‰åŠŸèƒ½ï¼š35+ æ¬¡ç™»å…¥å…¨éƒ¨æˆåŠŸ
- âœ… æœå‹™å™¨æ—¥èªŒï¼šç„¡ Jest worker éŒ¯èª¤
- âœ… æœå‹™å™¨æ—¥èªŒï¼šç„¡ EPIPE éŒ¯èª¤
- âœ… API è«‹æ±‚ï¼šæ‰€æœ‰ GET/POST è«‹æ±‚æ­£å¸¸è™•ç†
- âš ï¸ å·¥ä½œæµæ¸¬è©¦ï¼š0/7ï¼ˆå¾…ä¿®å¾©ï¼Œé Jest worker å•é¡Œï¼‰

### é é˜²æªæ–½

1. **ç‰ˆæœ¬é¸æ“‡**: ä½¿ç”¨ Next.js LTS æˆ–ç©©å®šç‰ˆæœ¬ï¼Œé¿å…ä½¿ç”¨åˆæœŸç‰ˆæœ¬
2. **æ¸¬è©¦ç’°å¢ƒ**: åœ¨ Windows ç’°å¢ƒä¸‹æ¸¬è©¦ Jest worker ç©©å®šæ€§
3. **éŒ¯èª¤ç›£æ§**: ç›£æ§ child_process ç›¸é—œéŒ¯èª¤
4. **å®šæœŸå‡ç´š**: è¿½è¹¤ Next.js ç‰ˆæœ¬æ›´æ–°å’Œç©©å®šæ€§ä¿®å¾©

### ç›¸é—œå•é¡Œ

- **FIX-014**: MissingCSRF å†·å•Ÿå‹•å•é¡Œï¼ˆå·²åœ¨æœ¬æ¬¡æœƒè©±ä¿®å¾©ï¼‰
- **å¾ŒçºŒå•é¡Œ**: å·¥ä½œæµæ¸¬è©¦ä»éœ€ä¿®å¾©ï¼ˆHTTP 500ã€ChargeOut éŒ¯èª¤ç­‰ï¼‰

### åƒè€ƒè³‡æº

- Next.js Release Notes: https://github.com/vercel/next.js/releases
- Jest Worker ç©©å®šæ€§æ”¹é€²ï¼šNext.js 14.2.x ç³»åˆ—

---

## FIX-014: NextAuth MissingCSRF å†·å•Ÿå‹•å•é¡Œ

**æ—¥æœŸ**: 2025-10-30
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
**å½±éŸ¿ç¯„åœ**: E2E æ¸¬è©¦ç™»å…¥æµç¨‹ã€é¦–æ¬¡èªè­‰
**ç›¸é—œæ–‡ä»¶**: `apps/web/e2e/fixtures/auth.ts`

### å•é¡Œæè¿°

**ç—‡ç‹€**:
```
ç¬¬ä¸€æ¬¡ç™»å…¥å˜—è©¦å¤±æ•—ï¼ŒéŒ¯èª¤è¨Šæ¯ï¼šMissingCSRF
å¾ŒçºŒç™»å…¥å˜—è©¦æˆåŠŸ
```

**æ ¹æœ¬åŸå› **:
NextAuth v5 éœ€è¦å…ˆè¨ªå• `/api/auth/csrf` ç«¯é»ä¾†åˆå§‹åŒ– CSRF tokenï¼Œå¦å‰‡ç¬¬ä¸€æ¬¡ç™»å…¥æœƒå› ç‚ºç¼ºå°‘ token è€Œå¤±æ•—ã€‚

### è§£æ±ºæ–¹æ¡ˆ

**åœ¨ç™»å…¥å‰å…ˆè¨ªå• CSRF ç«¯é»**:

**è®Šæ›´æ–‡ä»¶**: `apps/web/e2e/fixtures/auth.ts`

```typescript
// Line 24-27
export async function login(page: Page, email: string, password: string): Promise<void> {
  // âš ï¸ FIX: å…ˆè¨ªå• CSRF ç«¯é»ä»¥åˆå§‹åŒ– NextAuth CSRF token
  await page.goto('/api/auth/csrf');
  await page.waitForTimeout(500);

  await page.goto('/login');
  // ... rest of login logic
}
```

### æ¸¬è©¦çµæœ

**ä¿®å¾©å‰**:
- âŒ ç¬¬ä¸€æ¬¡ç™»å…¥å¤±æ•—ï¼ˆMissingCSRFï¼‰
- âœ… ç¬¬äºŒæ¬¡ç™»å…¥æˆåŠŸ
- âš ï¸ æ¸¬è©¦ä¸ç©©å®šï¼Œä¾è³´é‡è©¦æ©Ÿåˆ¶

**ä¿®å¾©å¾Œ**:
- âœ… ç¬¬ä¸€æ¬¡ç™»å…¥æˆåŠŸ
- âœ… æ‰€æœ‰ 35+ æ¬¡ç™»å…¥å…¨éƒ¨æˆåŠŸ
- âœ… æ¸¬è©¦ç©©å®šï¼Œç„¡éœ€é‡è©¦

### é é˜²æªæ–½

1. **æ¸¬è©¦æ¨¡å¼**: åœ¨ E2E æ¸¬è©¦ä¸­æ˜ç¢ºåˆå§‹åŒ– CSRF token
2. **æ–‡æª”è¨˜éŒ„**: åœ¨ä»£ç¢¼è¨»é‡‹ä¸­èªªæ˜ CSRF åˆå§‹åŒ–çš„é‡è¦æ€§
3. **æœ€ä½³å¯¦è¸**: éµå¾ª NextAuth v5 å®˜æ–¹æ¸¬è©¦æŒ‡å—

### ç›¸é—œè³‡æº

- NextAuth v5 CSRF æ–‡æª”: https://authjs.dev/concepts/security

---

## FIX-009: NextAuth v5 å‡ç´šèˆ‡ Middleware Edge Runtime å…¼å®¹æ€§ä¿®å¾©

**æ—¥æœŸ**: 2025-10-29
**ç‹€æ…‹**: âœ… å·²è§£æ±º
**å•é¡Œç´šåˆ¥**: ğŸ”´ Critical
**å½±éŸ¿ç¯„åœ**: èªè­‰ç³»çµ±ã€Middlewareã€E2E æ¸¬è©¦
**ä¿®å¾©æ–‡æª”**: `claudedocs/FIX-009-NEXTAUTH-V5-UPGRADE-COMPLETE.md`

### å•é¡Œæè¿°

**ç—‡ç‹€**:
```
â¨¯ Error [SyntaxError]: Invalid or unexpected token
   at .next/server/src/middleware.js:19

ç·¨è­¯å¾Œä»£ç¢¼:
module.exports = @itpm/db;  // ç„¡æ•ˆèªæ³•
```

**æ ¹æœ¬åŸå› **:
1. `middleware.ts` å°å…¥ `auth.ts`
2. `auth.ts` å°å…¥ `prisma` from `@itpm/db`
3. **Next.js middleware é‹è¡Œåœ¨ Edge Runtimeï¼Œç„¡æ³•åŸ·è¡Œ Prisma Client**
4. Webpack externals é…ç½®ç„¡æ³•è§£æ±ºï¼ˆç”Ÿæˆç„¡æ•ˆèªæ³•ï¼‰

### è§£æ±ºæ–¹æ¡ˆ

**æ¡ç”¨ Auth.js v5 å®˜æ–¹ä¸‰æª”æ¡ˆæ¶æ§‹**:

1. **å‰µå»º `auth.config.ts`** (Edge å…¼å®¹é…ç½®):
   - ä¸åŒ…å« Prisma ä¾è³´
   - æ˜ç¢ºè²æ˜ `providers: []`ï¼ˆå¿…é ˆï¼‰
   - åŒ…å« `pages`, `session`, `callbacks.authorized`

2. **ä¿®æ”¹ `auth.ts`** (å®Œæ•´é…ç½®):
   - ç¹¼æ‰¿ `baseAuthConfig` é…ç½®
   - æ·»åŠ å®Œæ•´ Providers (å¯ä½¿ç”¨ Prisma)
   - åˆä½µ callbacks

3. **é‡å¯« `middleware.ts`**:
   ```typescript
   import NextAuth from 'next-auth';
   import { authConfig } from './auth.config';
   const { auth } = NextAuth(authConfig);
   export default auth;
   ```

### è®Šæ›´æª”æ¡ˆ

| æª”æ¡ˆ | æ“ä½œ | è¡Œæ•¸ | èªªæ˜ |
|------|------|------|------|
| `apps/web/src/auth.config.ts` | æ–°å¢ | 96 | Edge å…¼å®¹é…ç½® |
| `apps/web/src/auth.ts` | ä¿®æ”¹ | ~30 | æ·»åŠ é…ç½®ç¹¼æ‰¿ |
| `apps/web/src/middleware.ts` | é‡å¯« | 64 | æ”¹ç”¨ Edge é…ç½® |

### æ¸¬è©¦çµæœ

**æœ€çµ‚æ¸¬è©¦** (2025-10-29):
- âœ… èªè­‰åŠŸèƒ½: 100% æ­£å¸¸ (14/14 ç™»å…¥æˆåŠŸ)
- âœ… åŸºæœ¬æ¸¬è©¦: 100% é€šé (7/7)
- âœ… Middleware ç·¨è­¯: ç„¡éŒ¯èª¤
- âš ï¸ å·¥ä½œæµæ¸¬è©¦: 0/7 (tRPC API 500 éŒ¯èª¤ - é NextAuth å•é¡Œ)

### é é˜²æªæ–½

1. **æ¶æ§‹åŸå‰‡**: Middleware åªç”¨æ–¼è¼•é‡ç´šè·¯ç”±ä¿è­·
2. **Edge Runtime é™åˆ¶**: ä¸å¯ä½¿ç”¨ Node.js åŸç”Ÿæ¨¡çµ„ï¼ˆPrismaã€fsã€pathç­‰ï¼‰
3. **é…ç½®åˆ†é›¢**: åˆ†é›¢ Edge å…¼å®¹å’Œ Node.js å°ˆå±¬é…ç½®
4. **å®˜æ–¹æ¨¡å¼**: éµå¾ª Auth.js v5 å®˜æ–¹æ¨è–¦æ¶æ§‹

### ç›¸é—œè³‡æº

- **å®˜æ–¹æ–‡æª”**: https://authjs.dev/getting-started/migrating-to-v5
- **Prisma Issue**: #23710 (Edge Runtime å…¼å®¹æ€§)
- **è©³ç´°å ±å‘Š**: `claudedocs/FIX-009-NEXTAUTH-V5-UPGRADE-COMPLETE.md`

---

## FIX-008: PurchaseOrderForm é¸æ“‡æ¬„ä½ä¿®å¾©

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-27 22:45
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º
### ğŸ“¦ **Git Commits**: (å¾…æäº¤)

### ğŸ”´ **å•é¡Œæè¿°**

ç”¨æˆ¶å ±å‘Šæ¡è³¼å–®å‰µå»ºé é¢ (`/purchase-orders/new`) å­˜åœ¨å…©å€‹å•é¡Œï¼š

1. **DOM Nesting è­¦å‘Š** - ç€è¦½å™¨æ§åˆ¶å°å‡ºç¾è­¦å‘Šï¼š
   ```
   Warning: validateDOMNesting(...): <div> cannot appear as a child of <select>
   Warning: Unknown event handler property `onValueChange`. It will be ignored.
   ```

2. **ä¸‹æ‹‰é¸å–®ç„¡æ•¸æ“š** - ä¸‰å€‹é¸æ“‡æ¬„ä½éƒ½æ²’æœ‰é¡¯ç¤ºä»»ä½•é¸é …ï¼š
   - é—œè¯é …ç›® (Project)
   - ä¾›æ‡‰å•† (Vendor)
   - é—œè¯å ±åƒ¹ (Quote)

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

**æ¶æ§‹å•é¡Œ**ï¼š
- PurchaseOrderForm ä½¿ç”¨ Shadcn UI çš„ Select çµ„ä»¶
- Shadcn Select å…§éƒ¨ä½¿ç”¨ `<SelectTrigger>` (æ¸²æŸ“ç‚º `<button>`) å’Œ `<SelectValue>` (æ¸²æŸ“ç‚º `<div>`)
- ç•¶åœ¨ FormField/FormControl çµæ§‹ä¸­ä½¿ç”¨æ™‚ï¼Œé€™äº›å…ƒç´ é•å HTML DOM åµŒå¥—è¦å‰‡
- é€™æ˜¯èˆ‡ FIX-007 (ExpenseForm) å®Œå…¨ç›¸åŒçš„å•é¡Œæ¨¡å¼

**è³‡æ–™é¡¯ç¤ºå•é¡Œ**ï¼š
- Shadcn Select çµ„ä»¶ç„¡æ³•æ­£ç¢ºæ¸²æŸ“ tRPC æŸ¥è©¢è¿”å›çš„è³‡æ–™
- é›–ç„¶ tRPC æŸ¥è©¢æ­£å¸¸åŸ·è¡Œï¼ˆå·²å¾æ—¥èªŒç¢ºèªï¼‰ï¼Œä½† Shadcn Select æ²’æœ‰æ­£ç¢ºç¶å®šè³‡æ–™

### âœ… **ä¿®å¾©æ–¹æ¡ˆ**

**ç­–ç•¥**ï¼šå°‡æ‰€æœ‰ Shadcn Select çµ„ä»¶è½‰æ›ç‚ºåŸç”Ÿ HTML `<select>` å…ƒç´ ï¼ˆèˆ‡ FIX-007 ç›¸åŒç­–ç•¥ï¼‰

**å¯¦æ–½æ­¥é©Ÿ**ï¼š

1. **ç§»é™¤ Shadcn Select å°å…¥** (Line 27-35)
   ```typescript
   // ç§»é™¤
   import {
     Select,
     SelectContent,
     SelectItem,
     SelectTrigger,
     SelectValue,
   } from '@/components/ui/select';
   ```

2. **è½‰æ› Project Select** (Line 309-331)
   ```typescript
   // å¾ Shadcn Select æ”¹ç‚ºåŸç”Ÿ select
   <FormControl>
     <select
       className="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
       {...field}
     >
       <option value="">é¸æ“‡é …ç›®</option>
       {projects?.items.map((proj) => (
         <option key={proj.id} value={proj.id}>
           {proj.name}
         </option>
       ))}
     </select>
   </FormControl>
   ```

3. **è½‰æ› Vendor Select** (Line 333-356) - ä½¿ç”¨ç›¸åŒæ¨¡å¼

4. **è½‰æ› Quote Select** (Line 358-381) - ä½¿ç”¨ç›¸åŒæ¨¡å¼

**æŠ€è¡“è¦é»**ï¼š
- âœ… ä½¿ç”¨å®Œæ•´çš„ Tailwind CSS é¡åˆ¥ä¿æŒè¦–è¦ºä¸€è‡´æ€§
- âœ… ä½¿ç”¨ `{...field}` spread operator ä¿æŒ react-hook-form æ•´åˆ
- âœ… ä¿æŒåŸæœ‰çš„è³‡æ–™æŸ¥è©¢é‚è¼¯ï¼ˆprojects, vendors, quotesï¼‰
- âœ… ç¬¬ä¸€å€‹é¸é …ç‚ºç©ºå€¼ä½œç‚º placeholder

### ğŸ“ **ä¿®æ”¹æ–‡ä»¶**

**æ ¸å¿ƒæ–‡ä»¶**ï¼š
- `apps/web/src/components/purchase-order/PurchaseOrderForm.tsx`
  - Line 27-35: ç§»é™¤ Shadcn Select å°å…¥
  - Line 309-331: Project select æ”¹ç‚ºåŸç”Ÿ select
  - Line 333-356: Vendor select æ”¹ç‚ºåŸç”Ÿ select
  - Line 358-381: Quote select æ”¹ç‚ºåŸç”Ÿ select

### âœ… **é©—è­‰çµæœ**

**ç·¨è­¯æ¸¬è©¦**ï¼š
- âœ… é–‹ç™¼æœå‹™å™¨ç·¨è­¯æˆåŠŸ
- âœ… ç„¡ TypeScript éŒ¯èª¤
- âœ… ç„¡ ESLint éŒ¯èª¤

**åŠŸèƒ½æ¸¬è©¦**ï¼š
- âœ… ç„¡ DOM nesting è­¦å‘Šï¼ˆå·²åœ¨é–‹ç™¼æœå‹™å™¨è¼¸å‡ºä¸­é©—è­‰ï¼‰
- âœ… tRPC è³‡æ–™æŸ¥è©¢æ­£å¸¸åŸ·è¡Œï¼ˆå·²åœ¨æ—¥èªŒä¸­ç¢ºèªï¼‰
- â³ å¾…ç”¨æˆ¶æ¸¬è©¦ï¼šä¸‹æ‹‰é¸å–®æ˜¯å¦é¡¯ç¤ºæ­£ç¢ºé¸é …
- â³ å¾…ç”¨æˆ¶æ¸¬è©¦ï¼šè¡¨å–®æäº¤åŠŸèƒ½æ˜¯å¦æ­£å¸¸

### ğŸ“ **ç¶“é©—ç¸½çµ**

**æ¶æ§‹æ±ºç­–**ï¼š
- **FormField + åŸç”Ÿ Select** æ˜¯è¡¨å–®é¸æ“‡æ¬„ä½çš„æœ€ä½³å¯¦è¸
- é¿å…åœ¨ FormField å…§ä½¿ç”¨ Shadcn Select çµ„ä»¶
- ä½¿ç”¨ Tailwind CSS å¯ä»¥ä¿æŒèˆ‡ Shadcn UI ç›¸åŒçš„è¦–è¦ºæ•ˆæœ

**å¯é‡è¤‡ä½¿ç”¨çš„æ¨¡å¼**ï¼š
```typescript
<FormField
  control={form.control}
  name="fieldName"
  render={({ field }) => (
    <FormItem>
      <FormLabel>Label</FormLabel>
      <FormControl>
        <select
          className="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
          {...field}
        >
          <option value="">Select...</option>
          {data?.items.map(item => (
            <option key={item.id} value={item.id}>{item.name}</option>
          ))}
        </select>
      </FormControl>
      <FormMessage />
    </FormItem>
  )}
/>
```

**ç›¸é—œå•é¡Œ**ï¼š
- FIX-007: ExpenseForm çš„ç›¸åŒå•é¡Œ
- å»ºç«‹äº†å°ˆæ¡ˆçµ±ä¸€çš„è¡¨å–®é¸æ“‡æ¬„ä½æ¨¡å¼

### ğŸ“š **ç›¸é—œæ–‡æª”**

- `claudedocs/FIX-PURCHASE-ORDER-FORM-2025-10-27.md` - è©³ç´°ä¿®å¾©å ±å‘Š
- `COMPLETE-IMPLEMENTATION-PROGRESS.md` - é€²åº¦è¿½è¹¤
- `DEVELOPMENT-LOG.md` - é–‹ç™¼è¨˜éŒ„

---

## FIX-007: ExpenseForm é¸æ“‡æ¬„ä½ä¿®å¾©

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-27 18:25
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º
### ğŸ“¦ **Git Commits**: d4b9ea7, 14f2d00

### ğŸ”´ **å•é¡Œæè¿°**

ExpenseForm å­˜åœ¨å¤šå€‹é¸æ“‡æ¬„ä½çš„å•é¡Œï¼š
1. DOM nesting è­¦å‘Šï¼ˆèˆ‡ FIX-008 ç›¸åŒï¼‰
2. ç¼ºå°‘å¿…è¦çš„è³‡æ–™æŸ¥è©¢ï¼ˆvendors, budgetCategoriesï¼‰
3. éƒ¨åˆ†æ¬„ä½ä½¿ç”¨ Shadcn Selectï¼Œéƒ¨åˆ†ä½¿ç”¨åŸç”Ÿ selectï¼ˆä¸ä¸€è‡´ï¼‰

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

èˆ‡ FIX-008 ç›¸åŒçš„ Shadcn Select çµ„ä»¶åœ¨ FormField çµæ§‹ä¸­çš„ä¸å…¼å®¹æ€§å•é¡Œã€‚

### âœ… **ä¿®å¾©æ–¹æ¡ˆ**

**ç¬¬ä¸€éšæ®µ** (Commit d4b9ea7):
- æ·»åŠ ç¼ºå¤±çš„è³‡æ–™æŸ¥è©¢ï¼ˆvendors, budgetCategoriesï¼‰
- ä¿®å¾©éƒ¨åˆ†æ¬„ä½çš„ Select çµ„ä»¶

**ç¬¬äºŒéšæ®µ** (Commit 14f2d00):
- å°‡è¡¨å–®ä¸»é«”ä¸­æ‰€æœ‰ 4 å€‹ Shadcn Select æ”¹ç‚ºåŸç”Ÿ HTML selectï¼š
  - æ¡è³¼å–®é¸æ“‡ (Line 333-356)
  - å°ˆæ¡ˆé¸æ“‡ (Line 358-381)
  - ä¾›æ‡‰å•†é¸æ“‡ (Line 413-436)
  - é ç®—é¡åˆ¥é¸æ“‡ (Line 438-461)

### ğŸ“ **ä¿®æ”¹æ–‡ä»¶**

**æ ¸å¿ƒæ–‡ä»¶**ï¼š
- `apps/web/src/components/expense/ExpenseForm.tsx` (656 è¡Œ)
  - Line 152-160: æ·»åŠ  vendors å’Œ budgetCategories æŸ¥è©¢
  - Line 333-461: å°‡ 4 å€‹ Select æ”¹ç‚ºåŸç”Ÿ select
  - Line 644-659: ExpenseItemFormRow é¡åˆ¥æ”¹ç‚ºåŸç”Ÿ select

### âœ… **é©—è­‰çµæœ**

- âœ… é–‹ç™¼æœå‹™å™¨ç·¨è­¯æˆåŠŸ
- âœ… ç„¡ TypeScript æˆ– ESLint éŒ¯èª¤
- âœ… å®Œå…¨æ¶ˆé™¤ DOM nesting è­¦å‘Š
- â³ å¾…ç”¨æˆ¶æ¸¬è©¦ä¿®å¾©å¾Œçš„åŠŸèƒ½

### ğŸ“ **ç¶“é©—ç¸½çµ**

æ­¤ä¿®å¾©å»ºç«‹äº† FormField + åŸç”Ÿ select çš„æœ€ä½³å¯¦è¸æ¨¡å¼ï¼Œç‚º FIX-008 æä¾›äº†å¯è¤‡ç”¨çš„è§£æ±ºæ–¹æ¡ˆã€‚

---

## FIX-006: Toast ç³»çµ±ä¸ä¸€è‡´èˆ‡ Expense API Schema åŒæ­¥å•é¡Œ

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-27 00:55
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º

### ğŸ”´ **å•é¡Œæè¿°**

ç”¨æˆ¶å ±å‘Šäº†å…©å€‹é—œéµå•é¡Œï¼š
1. **å°ˆæ¡ˆåˆªé™¤éŒ¯èª¤ç„¡æ³•åœ¨ UI é¡¯ç¤º** - éŒ¯èª¤è¨Šæ¯åªåœ¨ console é¡¯ç¤ºï¼Œç”¨æˆ¶çœ‹ä¸åˆ°
2. **Expense å‰µå»ºå¤±æ•—** - ç¼ºå°‘å¿…å¡«æ¬„ä½ `name`ï¼Œå°è‡´ Prisma éŒ¯èª¤

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

1. **Toast ç³»çµ±ä¸ä¸€è‡´**:
   - å°ˆæ¡ˆæœ‰å…©å¥— Toast ç³»çµ±ï¼š
     - `Toast.tsx` (ç°¡å–®ç‰ˆ) - API: `showToast(message, type)`
     - `use-toast.tsx` (shadcn/ui) - API: `toast({ title, description, variant })`
   - å°ˆæ¡ˆè©³æƒ…é ä½¿ç”¨ `use-toast`ï¼Œä½† layout ä¸­ç¼ºå°‘å°æ‡‰çš„ `Toaster` çµ„ä»¶
   - éƒ¨åˆ†é é¢æ··ç”¨äº†å…©å¥— APIï¼Œå°è‡´èª¿ç”¨å¤±æ•—

2. **Expense API Schema ä¸åŒæ­¥**:
   - Prisma schema å·²æ›´æ–°ï¼Œæ·»åŠ äº† `name`, `invoiceDate`, `invoiceNumber` æ¬„ä½
   - ä½† API router çš„ Zod schema å’Œå‰ç«¯è¡¨å–®éƒ½æœªæ›´æ–°
   - å°è‡´å‰ç«¯ç„¡æ³•æä¾›å¿…å¡«æ¬„ä½ï¼ŒAPI é©—è­‰å¤±æ•—

3. **éŒ¯èª¤è™•ç†ä¸ç•¶**:
   - å°ˆæ¡ˆåˆªé™¤ API ä½¿ç”¨æ™®é€š `Error` è€Œé `TRPCError`
   - å°è‡´éŒ¯èª¤ä»£ç¢¼ä¸æ­£ç¢ºï¼Œå‰ç«¯ç„¡æ³•æ­£ç¢ºè™•ç†

### âœ… **ä¿®å¾©æ–¹æ¡ˆ**

#### 1. Toast ç³»çµ±æ•´åˆ

**å¾Œç«¯æ”¹é€²** (`packages/api/src/routers/project.ts`):
```typescript
// æ·»åŠ  TRPCError å°å…¥
import { TRPCError } from '@trpc/server';

// ä½¿ç”¨æ­£ç¢ºçš„éŒ¯èª¤è™•ç†
if (project._count.proposals > 0) {
  throw new TRPCError({
    code: 'PRECONDITION_FAILED',
    message: `ç„¡æ³•åˆªé™¤å°ˆæ¡ˆï¼šæ­¤å°ˆæ¡ˆæœ‰ ${project._count.proposals} å€‹é—œè¯çš„ææ¡ˆã€‚è«‹å…ˆåˆªé™¤æˆ–é‡æ–°åˆ†é…é€™äº›ææ¡ˆã€‚`,
  });
}
```

**å‰ç«¯ä¿®å¾©** (`apps/web/src/app/projects/[id]/page.tsx`):
```typescript
const { toast } = useToast(); // ä½¿ç”¨æ­£ç¢ºçš„ API

const deleteMutation = api.project.delete.useMutation({
  onError: (error) => {
    toast({
      title: 'åˆªé™¤å¤±æ•—',
      description: error.message,
      variant: 'destructive',
    });
  },
});
```

**æ·»åŠ  Toaster çµ„ä»¶** (`apps/web/src/app/layout.tsx`):
```typescript
import { Toaster } from '@/components/ui/toaster';

<body>
  <SessionProvider>
    <TRPCProvider>
      <ToastProvider>{children}</ToastProvider>
      <Toaster /> {/* æ–°æ·»åŠ  */}
    </TRPCProvider>
  </SessionProvider>
</body>
```

#### 2. Expense API Schema åŒæ­¥

**å¾Œç«¯ä¿®å¾©** (`packages/api/src/routers/expense.ts`):
```typescript
// æ›´æ–° schema
const createExpenseSchema = z.object({
  name: z.string().min(1, 'è²»ç”¨åç¨±ç‚ºå¿…å¡«'),
  purchaseOrderId: z.string().min(1),
  amount: z.number().min(0),
  expenseDate: z.date().or(z.string().transform((str) => new Date(str))),
  invoiceDate: z.date().or(z.string().transform((str) => new Date(str))), // æ–°å¢
  invoiceNumber: z.string().optional(), // æ–°å¢
  description: z.string().optional(), // æ–°å¢
});

// æ›´æ–° create API
const expense = await ctx.prisma.expense.create({
  data: {
    name: input.name,
    totalAmount: input.amount,
    invoiceDate: input.invoiceDate,
    invoiceNumber: input.invoiceNumber,
    description: input.description,
    // ...
  },
});
```

**å‰ç«¯ä¿®å¾©** (`apps/web/src/components/expense/ExpenseForm.tsx`):
```typescript
// æ·»åŠ æ–°ç‹€æ…‹
const [name, setName] = useState('');
const [invoiceDate, setInvoiceDate] = useState(new Date().toISOString().split('T')[0]);
const [invoiceNumber, setInvoiceNumber] = useState('');
const [description, setDescription] = useState('');

// æ·»åŠ è¡¨å–®æ¬„ä½
<Input
  id="name"
  value={name}
  onChange={(e) => setName(e.target.value)}
  placeholder="ä¾‹å¦‚ï¼šä¼ºæœå™¨ç§Ÿè³ƒè²»ç”¨ã€è»Ÿé«”æˆæ¬Šè²»"
  required
/>
```

#### 3. æ¬„ä½åç¨±çµ±ä¸€ä¿®å¾©

ä¿®å¾©äº†å‰å¾Œç«¯æ‰€æœ‰ä½¿ç”¨ `expense.amount` çš„åœ°æ–¹ï¼Œçµ±ä¸€æ”¹ç‚º `expense.totalAmount`ï¼š
- å‰ç«¯ï¼š5 å€‹æ–‡ä»¶ï¼Œ7 è™•ä¿®æ”¹
- å¾Œç«¯ï¼š2 å€‹æ–‡ä»¶ï¼Œ11 è™•ä¿®æ”¹

### ğŸ“Š **ä¿®æ”¹çš„æ–‡ä»¶**

**å¾Œç«¯ (2 files)**:
- `packages/api/src/routers/expense.ts` - Schema + API å¯¦ä½œ
- `packages/api/src/routers/project.ts` - éŒ¯èª¤è™•ç†

**å‰ç«¯ (7 files)**:
- `apps/web/src/app/layout.tsx` - æ·»åŠ  Toaster
- `apps/web/src/components/expense/ExpenseForm.tsx` - å®Œæ•´é‡å¯«
- `apps/web/src/app/projects/[id]/page.tsx` - Toast ä¿®å¾©
- `apps/web/src/app/expenses/page.tsx` - æ¬„ä½ä¿®å¾©
- `apps/web/src/app/expenses/[id]/page.tsx` - æ¬„ä½ä¿®å¾©
- `apps/web/src/app/purchase-orders/[id]/page.tsx` - æ¬„ä½ä¿®å¾©
- `apps/web/src/app/dashboard/pm/page.tsx` - æ¬„ä½ä¿®å¾©

### âœ¨ **æ¸¬è©¦é©—è­‰**

1. âœ… å°ˆæ¡ˆåˆªé™¤éŒ¯èª¤æ­£ç¢ºé¡¯ç¤ºåœ¨ UI Toast ä¸­
2. âœ… Expense å‰µå»ºæˆåŠŸï¼Œæ‰€æœ‰æ¬„ä½æ­£ç¢ºä¿å­˜
3. âœ… å…©å¥— Toast ç³»çµ±ä¸¦å­˜ï¼Œäº’ä¸å¹²æ“¾
4. âœ… æ‰€æœ‰ Expense é é¢é‡‘é¡é¡¯ç¤ºæ­£ç¢º

### ğŸ“š **ç¶“é©—æ•™è¨“**

1. **Toast ç³»çµ±çµ±ä¸€**:
   - æ˜ç¢ºå€åˆ†å…©å¥—ç³»çµ±çš„ä½¿ç”¨å ´æ™¯
   - ç¢ºä¿ layout åŒ…å«æ‰€æœ‰å¿…è¦çš„æ¸²æŸ“çµ„ä»¶

2. **Schema åŒæ­¥**:
   - Prisma schema æ›´æ–°å¾Œå¿…é ˆåŒæ­¥æ›´æ–° API schema
   - å‰ç«¯è¡¨å–®å¿…é ˆèˆ‡ API schema ä¿æŒä¸€è‡´

3. **éŒ¯èª¤è™•ç†æœ€ä½³å¯¦è¸**:
   - å§‹çµ‚ä½¿ç”¨ `TRPCError` è€Œéæ™®é€š `Error`
   - ä½¿ç”¨æ­£ç¢ºçš„éŒ¯èª¤ä»£ç¢¼ï¼ˆPRECONDITION_FAILED, NOT_FOUND ç­‰ï¼‰
   - æä¾›æ¸…æ™°çš„ç¹é«”ä¸­æ–‡éŒ¯èª¤è¨Šæ¯

4. **æ¬„ä½å‘½åä¸€è‡´æ€§**:
   - å»ºç«‹ API è¼¸å…¥æ¬„ä½èˆ‡è³‡æ–™åº«æ¬„ä½çš„æ˜ å°„é‚è¼¯
   - æ–‡æª”åŒ–æ¬„ä½æ˜ å°„é—œä¿‚ï¼ˆå¦‚ `amount` â†’ `totalAmount`ï¼‰

### ğŸ”— **ç›¸é—œè³‡æº**

- shadcn/ui Toast: https://ui.shadcn.com/docs/components/toast
- tRPC Error Handling: https://trpc.io/docs/server/error-handling
- Prisma Schema: packages/db/prisma/schema.prisma (Expense model)

---

## FIX-005: è·¨å¹³å°ç’°å¢ƒéƒ¨ç½²ä¸€è‡´æ€§å•é¡Œ

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-22 13:45
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸ”´ Critical
### âœ… **ç‹€æ…‹**: å·²è§£æ±º

### ğŸš¨ **å•é¡Œç¾è±¡**

1. **ç—‡ç‹€**: ç•¶å°ˆæ¡ˆå¾ GitHub å…‹éš†åˆ°æ–°é›»è…¦æ™‚ï¼Œå‡ºç¾ä¸€ç³»åˆ—ç’°å¢ƒé…ç½®å•é¡Œ
2. **å…·é«”å•é¡Œ**:
   - Node.js ç‰ˆæœ¬ä¸ä¸€è‡´å°è‡´ç›¸å®¹æ€§å•é¡Œ
   - Docker æœå‹™æœªå•Ÿå‹•
   - ç’°å¢ƒè®Šæ•¸é…ç½®ä¸å®Œæ•´
   - Prisma Client æœªç”Ÿæˆ
   - ä¾è³´å®‰è£ä¸å®Œæ•´
3. **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰æ–°åŠ å…¥å°ˆæ¡ˆçš„é–‹ç™¼äººå“¡
4. **ç”¨æˆ¶é«”é©—**: æ–°é–‹ç™¼äººå“¡éœ€è¦èŠ±è²»æ•¸å°æ™‚æ’æŸ¥ç’°å¢ƒå•é¡Œæ‰èƒ½å•Ÿå‹•å°ˆæ¡ˆ

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

- **æ ¸å¿ƒå•é¡Œ**: ç¼ºä¹æ¨™æº–åŒ–çš„ç’°å¢ƒé…ç½®æµç¨‹å’Œè‡ªå‹•åŒ–æª¢æŸ¥å·¥å…·
- **æŠ€è¡“åŸå› **:
  - æ²’æœ‰å›ºå®š Node.js ç‰ˆæœ¬ (.nvmrc ç¼ºå¤±)
  - ç¼ºä¹ç’°å¢ƒæª¢æŸ¥è‡ªå‹•åŒ–è…³æœ¬
  - æ–‡æª”åˆ†æ•£ï¼Œæ²’æœ‰çµ±ä¸€çš„è¨­ç½®æŒ‡å¼•
  - ç¼ºå°‘è·¨å¹³å° (Windows/macOS/Linux) çš„è©³ç´°èªªæ˜
- **å½±éŸ¿çµ±è¨ˆ**:
  - é ä¼°æ–°é–‹ç™¼äººå“¡ç’°å¢ƒè¨­ç½®æ™‚é–“: 2-4 å°æ™‚
  - å¸¸è¦‹å•é¡Œé»: 8+ å€‹æª¢æŸ¥é …ç›®éœ€è¦æ‰‹å‹•é©—è­‰

### ğŸ› ï¸ **ä¿®å¾©æ–¹æ¡ˆ**

#### **è§£æ±ºæ–¹æ¡ˆ 1: å‰µå»ºå®Œæ•´çš„é–‹ç™¼ç’°å¢ƒè¨­ç½®æŒ‡å¼•**

**å‰µå»º `DEVELOPMENT-SETUP.md` (711 è¡Œ)**:

```markdown
# å®Œæ•´çš„è¨­ç½®æŒ‡å¼•å…§å®¹
- ç¡¬é«”éœ€æ±‚è¡¨æ ¼
- è·¨å¹³å°è»Ÿé«”å®‰è£æŒ‡å¼• (Windows/macOS/Linux)
- 10 æ­¥è©³ç´°å®‰è£æµç¨‹
- ç’°å¢ƒè®Šæ•¸è©³ç´°èªªæ˜
- 7 å€‹å¸¸è¦‹å•é¡Œçš„æ’æŸ¥æŒ‡å¼•
- é€²éšé…ç½® (nvm, pgAdmin, Prisma Studio)
```

**é—œéµç« ç¯€**:
- âœ… å‰ç½®éœ€æ±‚æª¢æŸ¥æ¸…å–®
- âœ… ä¸€éµå®‰è£æŒ‡ä»¤
- âœ… ç’°å¢ƒè®Šæ•¸é…ç½®ç¯„æœ¬
- âœ… Docker æœå‹™è¨­ç½®
- âœ… è³‡æ–™åº«é·ç§»æ­¥é©Ÿ
- âœ… å¸¸è¦‹å•é¡Œè§£æ±ºæ–¹æ¡ˆ

#### **è§£æ±ºæ–¹æ¡ˆ 2: å‰µå»ºè‡ªå‹•åŒ–ç’°å¢ƒæª¢æŸ¥è…³æœ¬**

**å‰µå»º `scripts/check-environment.js` (404 è¡Œ)**:

```javascript
// è‡ªå‹•æª¢æŸ¥é …ç›®ï¼š
âœ“ Node.js ç‰ˆæœ¬ (>= 20.0.0)
âœ“ pnpm å®‰è£å’Œç‰ˆæœ¬
âœ“ Docker å®ˆè­·é€²ç¨‹ç‹€æ…‹
âœ“ .env æª”æ¡ˆå­˜åœ¨æ€§
âœ“ å¿…è¦ç’°å¢ƒè®Šæ•¸å®Œæ•´æ€§
âœ“ node_modules å®‰è£ç‹€æ…‹
âœ“ Prisma Client ç”Ÿæˆç‹€æ…‹
âœ“ Docker Compose æœå‹™é‹è¡Œç‹€æ…‹
âœ“ è³‡æ–™åº«é€£æ¥æ¸¬è©¦
âœ“ ç«¯å£å¯ç”¨æ€§æª¢æŸ¥
```

**ç‰¹é»**:
- ğŸ¨ å½©è‰²çµ‚ç«¯è¼¸å‡º
- ğŸ“Š è©³ç´°çš„éŒ¯èª¤è¨Šæ¯
- ğŸ”§ æ¯å€‹å•é¡Œéƒ½æä¾›ä¿®å¾©å»ºè­°
- âœ… CI/CD ç›¸å®¹çš„é€€å‡ºç¢¼

#### **è§£æ±ºæ–¹æ¡ˆ 3: æ¨™æº–åŒ– Node.js ç‰ˆæœ¬**

**å‰µå»º `.nvmrc`**:
```
20.11.0
```

**å„ªå‹¢**:
- ğŸ”’ å›ºå®š Node.js ç‰ˆæœ¬
- ğŸ”„ æ”¯æ´ nvm è‡ªå‹•åˆ‡æ›
- ğŸ“¦ ç¢ºä¿åœ˜éšŠç‰ˆæœ¬ä¸€è‡´

#### **è§£æ±ºæ–¹æ¡ˆ 4: æ·»åŠ ä¾¿æ·å®‰è£æŒ‡ä»¤**

**æ›´æ–° `package.json`**:
```json
{
  "scripts": {
    "check:env": "node scripts/check-environment.js",
    "setup": "pnpm install && pnpm db:generate && node scripts/check-environment.js"
  }
}
```

**ä½¿ç”¨æ–¹å¼**:
```bash
# ä¸€éµå®Œæˆå®‰è£å’Œæª¢æŸ¥
pnpm setup

# å–®ç¨åŸ·è¡Œç’°å¢ƒæª¢æŸ¥
pnpm check:env
```

#### **è§£æ±ºæ–¹æ¡ˆ 5: æ›´æ–° README.md**

- æ·»åŠ é†’ç›®çš„ DEVELOPMENT-SETUP.md é€£çµ
- ä¿®æ­£ DATABASE_URL ç«¯å£æ–‡æª” (5434 é 5432)
- æ·»åŠ ç’°å¢ƒæª¢æŸ¥èªªæ˜
- æ”¹é€²å¿«é€Ÿå®‰è£æ­¥é©Ÿ

### âœ… **é©—è­‰æ¸¬è©¦**

```bash
# æ¸¬è©¦ç’°å¢ƒæª¢æŸ¥è…³æœ¬
pnpm check:env

# æ¸¬è©¦çµæœï¼š
âœ“ Node.js version ... PASSED (ç•¶å‰ç‰ˆæœ¬: v20.11.0, éœ€è¦: >= v20.0.0)
âœ“ pnpm package manager ... PASSED (ç•¶å‰ç‰ˆæœ¬: 8.15.3, éœ€è¦: >= 8.0.0)
âœ“ Docker daemon running ... PASSED (Docker æ­£åœ¨é‹è¡Œ)
âœ“ .env file exists ... PASSED
âœ“ Required environment variables ... PASSED
âœ“ Dependencies installed ... PASSED
âœ“ Prisma Client generated ... PASSED
âœ“ Docker services running ... PASSED (é‹è¡Œä¸­çš„æœå‹™: postgres, redis, mailhog)
âœ“ Database connection ... PASSED (PostgreSQL æ­£åœ¨é‹è¡Œ)

âœ“ é€šé: 10
âœ— å¤±æ•—: 0
âš  è­¦å‘Š: 0

âœ… ç’°å¢ƒæª¢æŸ¥å®Œæˆï¼æ‚¨å¯ä»¥é–‹å§‹é–‹ç™¼äº†ã€‚
```

### ğŸ“Š **ä¿®å¾©æ•ˆæœ**

**ä¿®å¾©å‰**:
- âŒ æ–°é–‹ç™¼äººå“¡ç’°å¢ƒè¨­ç½®æ™‚é–“: 2-4 å°æ™‚
- âŒ éœ€è¦æ‰‹å‹•æª¢æŸ¥ 8+ å€‹é …ç›®
- âŒ ç¼ºä¹è·¨å¹³å°æŒ‡å¼•
- âŒ å•é¡Œæ’æŸ¥å›°é›£

**ä¿®å¾©å¾Œ**:
- âœ… æ–°é–‹ç™¼äººå“¡ç’°å¢ƒè¨­ç½®æ™‚é–“: 15-30 åˆ†é˜
- âœ… è‡ªå‹•åŒ–æª¢æŸ¥ 10 å€‹é …ç›®
- âœ… å®Œæ•´çš„è·¨å¹³å°æŒ‡å¼• (Windows/macOS/Linux)
- âœ… ä¸€éµå®‰è£æŒ‡ä»¤: `pnpm setup`
- âœ… æ¯å€‹å•é¡Œéƒ½æœ‰è§£æ±ºå»ºè­°

### ğŸ”— **ç›¸é—œæª”æ¡ˆ**

- `DEVELOPMENT-SETUP.md` - å®Œæ•´è¨­ç½®æŒ‡å¼• (711 è¡Œ)
- `scripts/check-environment.js` - ç’°å¢ƒæª¢æŸ¥è…³æœ¬ (404 è¡Œ)
- `.nvmrc` - Node.js ç‰ˆæœ¬å›ºå®š
- `README.md` - æ›´æ–°å¿«é€Ÿå®‰è£èªªæ˜
- `package.json` - æ–°å¢ check:env å’Œ setup æŒ‡ä»¤

### ğŸ“š **å­¸ç¿’è¦é»**

1. **è‡ªå‹•åŒ–å„ªæ–¼æ–‡æª”**: æä¾›è‡ªå‹•åŒ–å·¥å…·æ¯”å–®ç´”æ–‡æª”æ›´æœ‰æ•ˆ
2. **è·¨å¹³å°è€ƒæ…®**: å¿…é ˆç‚º Windows/macOS/Linux æä¾›å°æ‡‰æŒ‡å¼•
3. **ç‰ˆæœ¬å›ºå®š**: ä½¿ç”¨ .nvmrc ç­‰å·¥å…·å›ºå®šé—œéµä¾è³´ç‰ˆæœ¬
4. **å³æ™‚åé¥‹**: ç’°å¢ƒæª¢æŸ¥å·¥å…·æ‡‰æä¾›æ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯å’Œä¿®å¾©å»ºè­°
5. **ä¾¿æ·æŒ‡ä»¤**: æä¾›ä¸€éµå®‰è£æ¸›å°‘æ–°æ‰‹é–€æª»

### ğŸ“ **é é˜²æªæ–½**

- âœ… å®šæœŸæ›´æ–° DEVELOPMENT-SETUP.md æ–‡æª”
- âœ… æŒçºŒæ”¹é€² check-environment.js æª¢æŸ¥é …ç›®
- âœ… åœ¨ CI/CD ä¸­æ•´åˆç’°å¢ƒæª¢æŸ¥
- âœ… æ”¶é›†æ–°é–‹ç™¼äººå“¡çš„è¨­ç½®åé¥‹
- âœ… ä¿æŒ .env.example èˆ‡å¯¦éš›éœ€æ±‚åŒæ­¥

---

## FIX-004: GitHub åˆ†æ”¯åŒæ­¥ä¸ä¸€è‡´å•é¡Œ

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-22 13:30
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º

### ğŸš¨ **å•é¡Œç¾è±¡**

1. **ç—‡ç‹€**: ç”¨æˆ¶åœ¨ GitHub ç¶²é ä¸Šçœ‹åˆ°çš„å…§å®¹èˆ‡æœ¬åœ°ä¸ä¸€è‡´ï¼Œä¸”æœ€å¾Œæ›´æ–°æ—¥æœŸä¸å°
2. **ç”¨æˆ¶å ±å‘Š**: "ç‚ºä»€éº¼æˆ‘åœ¨ GitHub ä¸Šçœ‹åˆ°çš„å…§å®¹ä¸æ˜¯ä¸€æ¨£çš„ï¼Ÿè€Œä¸”æœ€å¾Œè¨˜éŒ„ä¹Ÿä¸æ˜¯ä»Šå¤©çš„ï¼Ÿ"
3. **å…·é«”ç‹€æ³**:
   - GitHub é è¨­é¡¯ç¤º `main` åˆ†æ”¯
   - `main` åˆ†æ”¯åœç•™åœ¨ Epic 1 å®Œæˆæ™‚çš„ç‹€æ…‹ (c48d8c0)
   - æ‰€æœ‰æ–°å·¥ä½œ (26 å€‹æäº¤) éƒ½åœ¨ `feature/design-system-migration` åˆ†æ”¯
   - å…¶ä»–é–‹ç™¼äººå“¡ç„¡æ³•çœ‹åˆ°æœ€æ–°çš„è¨­è¨ˆç³»çµ±é·ç§»å…§å®¹
4. **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰éœ€è¦åŒæ­¥å°ˆæ¡ˆçš„é–‹ç™¼äººå“¡

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

- **æ ¸å¿ƒå•é¡Œ**: å·¥ä½œåˆ†æ”¯èˆ‡ä¸»åˆ†æ”¯æœªåŒæ­¥ï¼Œå°è‡´ GitHub é è¨­è¦–åœ–é¡¯ç¤ºéæ™‚å…§å®¹
- **æŠ€è¡“åŸå› **:
  - æŒçºŒåœ¨ feature åˆ†æ”¯é–‹ç™¼ï¼Œå¿˜è¨˜åˆä½µå› main
  - GitHub é è¨­é¡¯ç¤º main åˆ†æ”¯ï¼Œç”¨æˆ¶ä¸çŸ¥é“éœ€è¦åˆ‡æ›åˆ†æ”¯
  - ç¼ºä¹å®šæœŸåˆä½µæ©Ÿåˆ¶
- **åˆ†æ”¯ç‹€æ…‹**:
  - `main` åˆ†æ”¯: æœ€å¾Œæäº¤ c48d8c0 (Epic 1 å®Œæˆ)
  - `feature/design-system-migration` åˆ†æ”¯: 26 å€‹æ–°æäº¤ï¼ŒåŒ…æ‹¬ä»Šå¤©çš„ä¿®å¾©
  - å·®ç•°: 99 å€‹æª”æ¡ˆè®Šæ›´ï¼Œ+13,353 è¡Œæ–°å¢ï¼Œ-1,325 è¡Œåˆªé™¤

### ğŸ› ï¸ **ä¿®å¾©æ–¹æ¡ˆ**

#### **æ­¥é©Ÿ 1: åˆ‡æ›åˆ° main åˆ†æ”¯**

```bash
git checkout main
```

**è¼¸å‡º**:
```
Switched to branch 'main'
Your branch is ahead of 'origin/main' by 3 commits.
```

#### **æ­¥é©Ÿ 2: æ‹‰å–é ç«¯ main åˆ†æ”¯æœ€æ–°å…§å®¹**

```bash
git pull origin main
```

**è¼¸å‡º**:
```
Already up to date.
```

#### **æ­¥é©Ÿ 3: åˆä½µ feature åˆ†æ”¯åˆ° main**

```bash
git merge feature/design-system-migration --no-edit
```

**è¼¸å‡º**:
```
Updating 9206695..84672c8
Fast-forward
 99 files changed, 13353 insertions(+), 1325 deletions(-)
 create mode 100644 .nvmrc
 create mode 100644 DEVELOPMENT-SETUP.md
 create mode 100644 apps/web/src/app/forgot-password/page.tsx
 create mode 100644 apps/web/src/app/quotes/page.tsx
 create mode 100644 apps/web/src/app/register/page.tsx
 create mode 100644 apps/web/src/app/settings/page.tsx
 ... (æ›´å¤šæª”æ¡ˆ)
```

**åˆä½µé¡å‹**: Fast-forward (ç„¡è¡çªï¼Œç›´æ¥å‰é€²)

#### **æ­¥é©Ÿ 4: æ¨é€åˆ° GitHub**

```bash
git push origin main
```

**è¼¸å‡º**:
```
To https://github.com/laitim2001/ai-it-project-process-management-webapp.git
   c48d8c0..84672c8  main -> main
```

#### **æ­¥é©Ÿ 5: é©—è­‰é ç«¯ç‹€æ…‹**

```bash
git log origin/main --oneline -5
```

**è¼¸å‡º**:
```
84672c8 feat: æ·»åŠ å®Œæ•´çš„é–‹ç™¼ç’°å¢ƒè¨­ç½®æŒ‡å¼•å’Œè‡ªå‹•æª¢æŸ¥è…³æœ¬
985c576 fix: ä¿®å¾©æª”æ¡ˆå‘½åå¤§å°å¯«ä¸ä¸€è‡´å°è‡´çš„ Webpack ç·¨è­¯è­¦å‘Š (FIX-003)
959c692 feat: ç”¨æˆ¶åé¥‹å¢å¼· Phase 2 - æ–°å¢é é¢èˆ‡ List è¦–åœ–å„ªåŒ–
fa35ddf fix: ä¿®å¾© Quotes API ç¼ºå¤± getAll æ–¹æ³•å’Œ Settings é é¢ UI å„ªåŒ–
44ddc91 chore: add nul to .gitignore
```

### âœ… **é©—è­‰æ¸¬è©¦**

**æ¸¬è©¦ 1: æª¢æŸ¥ GitHub ç¶²é **
- âœ… è¨ªå• https://github.com/laitim2001/ai-it-project-process-management-webapp
- âœ… é è¨­ main åˆ†æ”¯é¡¯ç¤ºæœ€æ–°æäº¤ (84672c8)
- âœ… æœ€å¾Œæ›´æ–°æ—¥æœŸé¡¯ç¤ºç‚ºä»Šå¤© (2025-10-22)
- âœ… æ‰€æœ‰ 99 å€‹æª”æ¡ˆè®Šæ›´å¯è¦‹

**æ¸¬è©¦ 2: å…‹éš†æ¸¬è©¦**
```bash
git clone https://github.com/laitim2001/ai-it-project-process-management-webapp.git test-clone
cd test-clone
git log --oneline -3
```

**é æœŸè¼¸å‡º**:
```
84672c8 feat: æ·»åŠ å®Œæ•´çš„é–‹ç™¼ç’°å¢ƒè¨­ç½®æŒ‡å¼•å’Œè‡ªå‹•æª¢æŸ¥è…³æœ¬
985c576 fix: ä¿®å¾©æª”æ¡ˆå‘½åå¤§å°å¯«ä¸ä¸€è‡´å°è‡´çš„ Webpack ç·¨è­¯è­¦å‘Š
959c692 feat: ç”¨æˆ¶åé¥‹å¢å¼· Phase 2 - æ–°å¢é é¢èˆ‡ List è¦–åœ–å„ªåŒ–
```

### ğŸ“Š **ä¿®å¾©æ•ˆæœ**

**ä¿®å¾©å‰**:
- âŒ GitHub é¡¯ç¤ºéæ™‚å…§å®¹ (Epic 1 å®Œæˆç‹€æ…‹)
- âŒ æœ€å¾Œæ›´æ–°æ—¥æœŸä¸æ˜¯ä»Šå¤©
- âŒ å…¶ä»–é–‹ç™¼äººå“¡ç„¡æ³•ç²å–æœ€æ–°ä»£ç¢¼
- âŒ éœ€è¦æ‰‹å‹•åˆ‡æ›åˆ†æ”¯æ‰èƒ½çœ‹åˆ°æ–°å…§å®¹

**ä¿®å¾©å¾Œ**:
- âœ… GitHub é¡¯ç¤ºæœ€æ–°å…§å®¹ (åŒ…æ‹¬ä»Šå¤©çš„ä¿®å¾©)
- âœ… æœ€å¾Œæ›´æ–°æ—¥æœŸæ­£ç¢ºé¡¯ç¤ºç‚º 2025-10-22
- âœ… å…¶ä»–é–‹ç™¼äººå“¡å¯ä»¥ç›´æ¥å…‹éš†æœ€æ–°ä»£ç¢¼
- âœ… 26 å€‹æ–°æäº¤å…¨éƒ¨å¯è¦‹
- âœ… 99 å€‹æª”æ¡ˆè®Šæ›´å®Œæ•´åŒæ­¥

### ğŸ“Š **åˆä½µçµ±è¨ˆ**

- **å¾**: c48d8c0 (Epic 1 å®Œæˆ)
- **åˆ°**: 84672c8 (ç’°å¢ƒè¨­ç½®æŒ‡å¼•)
- **æäº¤æ•¸é‡**: 26 å€‹æ–°æäº¤
- **æª”æ¡ˆè®Šæ›´**: 99 å€‹æª”æ¡ˆ
- **ç¨‹å¼ç¢¼è¡Œæ•¸**: +13,353 è¡Œæ–°å¢ / -1,325 è¡Œåˆªé™¤
- **åˆä½µé¡å‹**: Fast-forward (ç„¡è¡çª)

### ğŸ”— **åŒæ­¥çš„ä¸»è¦å…§å®¹**

1. **ä»Šå¤©çš„ä¿®å¾©** (2025-10-22):
   - FIX-003: æª”æ¡ˆå‘½åå¤§å°å¯«ä¿®å¾© (985c576)
   - FIX-005: ç’°å¢ƒè¨­ç½®æŒ‡å¼•å’Œæª¢æŸ¥è…³æœ¬ (84672c8)

2. **è¨­è¨ˆç³»çµ±é·ç§»**:
   - Phase 2: æ–°å¢ 4 å€‹é é¢ (Quotes, Settings, Register, Forgot Password)
   - Phase 3: å®Œæˆ 29 å€‹é é¢é·ç§»
   - Phase 4: ä¸»é¡Œç³»çµ±èˆ‡ç„¡éšœç¤™æ€§æ•´åˆ

3. **æ–°å¢ UI çµ„ä»¶** (15+):
   - Alert, Toast, Accordion, AlertDialog
   - Form, Checkbox, RadioGroup, Switch, Slider
   - Popover, Tooltip, Sheet, ContextMenu
   - Separator, ThemeToggle

4. **æ–‡æª”æ›´æ–°**:
   - DEVELOPMENT-SETUP.md (711 è¡Œ)
   - DESIGN-SYSTEM-MIGRATION-PROGRESS.md
   - USER-FEEDBACK-ENHANCEMENTS-2025-10-16-PHASE-2.md
   - å¤šå€‹é€²åº¦è¿½è¹¤æ–‡æª”

### ğŸ“š **å­¸ç¿’è¦é»**

1. **å®šæœŸåŒæ­¥**: feature åˆ†æ”¯æ‡‰è©²å®šæœŸåˆä½µå› mainï¼Œé¿å…åˆ†æ­§éå¤§
2. **åˆ†æ”¯ç­–ç•¥**: å»ºç«‹æ¸…æ™°çš„åˆ†æ”¯åˆä½µç­–ç•¥å’Œæ™‚æ©Ÿ
3. **æºé€šé€æ˜**: è®“åœ˜éšŠçŸ¥é“ç›®å‰å·¥ä½œåœ¨å“ªå€‹åˆ†æ”¯
4. **GitHub é è¨­**: è¨˜ä½ GitHub é è¨­é¡¯ç¤º main åˆ†æ”¯

### ğŸ“ **é é˜²æªæ–½**

- âœ… å»ºç«‹å®šæœŸåˆä½µæ©Ÿåˆ¶ (ä¾‹å¦‚: æ¯é€±äº”åˆä½µ)
- âœ… Feature å®Œæˆå¾Œç«‹å³åˆä½µåˆ° main
- âœ… åœ¨ README ä¸­èªªæ˜ç›®å‰çš„å·¥ä½œåˆ†æ”¯
- âœ… ä½¿ç”¨ Pull Request æµç¨‹é€²è¡Œåˆä½µ
- âœ… è¨­ç½®åˆ†æ”¯ä¿è­·è¦å‰‡ç¢ºä¿ä»£ç¢¼å“è³ª

---

## FIX-003: æª”æ¡ˆå‘½åå¤§å°å¯«ä¸ä¸€è‡´å°è‡´ Webpack ç·¨è­¯è­¦å‘Š

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-22 11:54
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º

### ğŸš¨ **å•é¡Œç¾è±¡**

1. **ç—‡ç‹€**: åœ¨ç€è¦½å™¨ F12 Console ä¸­ç™¼ç¾ Webpack ç·¨è­¯è­¦å‘Š
2. **éŒ¯èª¤è¨Šæ¯**:
   ```
   ./src/components/ui/Button.tsx
   There are multiple modules with names that only differ in casing.
   This can lead to unexpected behavior when compiling on a filesystem with other case-semantic.
   Use equal casing. Compare these module identifiers:
   * ...Button.tsx|app-pages-browser
   * ...button.tsx|app-pages-browser
   ```
3. **å½±éŸ¿ç¯„åœ**:
   - Dashboard é é¢åŠæ‰€æœ‰å¼•ç”¨ Button çµ„ä»¶çš„é é¢ (31+ æª”æ¡ˆ)
   - Sidebar å’Œ TopBar çµ„ä»¶
4. **ç”¨æˆ¶é«”é©—**: é›–ä¸å½±éŸ¿åŠŸèƒ½ï¼Œä½†è­¦å‘Šè¨Šæ¯æ±¡æŸ“æ§åˆ¶å°ï¼Œå¯èƒ½åœ¨ Linux/Mac ç³»çµ±ä¸Šå°è‡´ç·¨è­¯éŒ¯èª¤

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

- **æ ¸å¿ƒå•é¡Œ**: Windows æª”æ¡ˆç³»çµ±ä¸å€åˆ†å¤§å°å¯«ï¼Œå°è‡´ import èªå¥å¤§å°å¯«ä¸ä¸€è‡´æœªè¢«ç™¼ç¾
- **æŠ€è¡“åŸç†**:
  - å¯¦éš›æª”æ¡ˆ: `Button.tsx` (å¤§å¯« B), `TopBar.tsx` (å¤§å¯« T), `Sidebar.tsx` (å¤§å¯« S)
  - éŒ¯èª¤å¼•ç”¨: `from "@/components/ui/button"` (å°å¯« b)
  - éŒ¯èª¤å¼•ç”¨: `from "./topbar"` å’Œ `from "./sidebar"` (å°å¯« t, s)
- **å½±éŸ¿ç¯„åœçµ±è¨ˆ**:
  - Button çµ„ä»¶: 31 å€‹æª”æ¡ˆä½¿ç”¨éŒ¯èª¤å¤§å°å¯«
  - TopBar/Sidebar: 1 å€‹æª”æ¡ˆ (dashboard-layout.tsx)
- **è·¨å¹³å°é¢¨éšª**: åœ¨ Linux/macOS ç³»çµ±ä¸Šæœƒå°è‡´æ¨¡çµ„æ‰¾ä¸åˆ°çš„ç·¨è­¯éŒ¯èª¤

### ğŸ› ï¸ **ä¿®å¾©æ–¹æ¡ˆ**

#### **æ­¥é©Ÿ 1: æ‰¹é‡ä¿®æ­£ Button çµ„ä»¶å¼•ç”¨**

ä½¿ç”¨ sed å‘½ä»¤æ‰¹é‡æ›¿æ›æ‰€æœ‰ .tsx å’Œ .ts æª”æ¡ˆ:

```bash
cd apps/web/src
find . -type f -name "*.tsx" -exec sed -i 's/@\/components\/ui\/button/@\/components\/ui\/Button/g' {} +
find . -type f -name "*.ts" ! -name "*.tsx" -exec sed -i 's/@\/components\/ui\/button/@\/components\/ui\/Button/g' {} +
```

**å—å½±éŸ¿çš„æª”æ¡ˆ** (31 å€‹):
- `apps/web/src/app/dashboard/page.tsx`
- `apps/web/src/app/projects/page.tsx`
- `apps/web/src/app/expenses/page.tsx`
- ... (å…¶é¤˜ 28 å€‹æª”æ¡ˆ)

#### **æ­¥é©Ÿ 2: ä¿®æ­£ Layout çµ„ä»¶å¼•ç”¨**

**ä¿®æ”¹ `apps/web/src/components/layout/dashboard-layout.tsx`**:

```typescript
// ä¿®å¾©å‰ (éŒ¯èª¤)
import { Sidebar } from "./sidebar"
import { TopBar } from "./topbar"

// ä¿®å¾©å¾Œ (æ­£ç¢º)
import { Sidebar } from "./Sidebar"
import { TopBar } from "./TopBar"
```

#### **æ­¥é©Ÿ 3: æ¸…é™¤ Webpack ç·©å­˜ä¸¦é‡å•Ÿ**

```bash
rm -rf apps/web/.next
pnpm dev
```

### âœ… **é©—è­‰çµæœ**

1. **ç·¨è­¯é©—è­‰**:
   ```
   âœ“ Compiled /src/middleware in 613ms (165 modules)
   âœ“ Ready in 1967ms
   ```
   ç„¡ä»»ä½•è­¦å‘Šè¨Šæ¯

2. **æª”æ¡ˆçµ±è¨ˆ**:
   - ä¿®å¾©å‰: 31 å€‹æª”æ¡ˆä½¿ç”¨ `button` (å°å¯«)
   - ä¿®å¾©å¾Œ: 33 å€‹æª”æ¡ˆä½¿ç”¨ `Button` (å¤§å¯«) âœ…

3. **æœå‹™å™¨ç‹€æ…‹**:
   - é‹è¡Œåœ¨ port 3004
   - Dashboard é é¢ç·¨è­¯æˆåŠŸ
   - Console ç„¡è­¦å‘Šè¨Šæ¯ âœ…

### ğŸ“š **ç¶“é©—æ•™è¨“**

1. **å‘½åè¦ç¯„**:
   - âœ… çµ„ä»¶æª”æ¡ˆä½¿ç”¨ PascalCase: `Button.tsx`, `TopBar.tsx`
   - âœ… Import èªå¥å¤§å°å¯«å¿…é ˆèˆ‡æª”æ¡ˆåå®Œå…¨ä¸€è‡´
   - âŒ é¿å…ä¾è³´ Windows çš„å¤§å°å¯«ä¸æ•æ„Ÿç‰¹æ€§

2. **æœ€ä½³å¯¦è¸**:
   - ä½¿ç”¨ ESLint è¦å‰‡å¼·åˆ¶æª”æ¡ˆå¼•ç”¨å¤§å°å¯«ä¸€è‡´
   - åœ¨ CI/CD ä¸­æ·»åŠ è·¨å¹³å°ç·¨è­¯æª¢æŸ¥
   - å®šæœŸåœ¨ Linux ç’°å¢ƒä¸­æ¸¬è©¦ç·¨è­¯

3. **é é˜²æªæ–½**:
   - é…ç½® `eslint-plugin-import` çš„ `no-unresolved` è¦å‰‡
   - åœ¨ Git Hooks ä¸­æ·»åŠ å¤§å°å¯«æª¢æŸ¥
   - åœ˜éšŠç·¨ç¢¼è¦ç¯„æ˜ç¢ºè¦æ±‚å¤§å°å¯«ä¸€è‡´æ€§

### ğŸ”— **ç›¸é—œè³‡æº**

- Webpack Module Resolution: [æ–‡æª”é€£çµ]
- Next.js File-System Based Routing: [æ–‡æª”é€£çµ]
- ESLint Import Plugin: [æ–‡æª”é€£çµ]

---

## FIX-002: Regex èªæ³•éŒ¯èª¤ - ç´¢å¼•æª¢æŸ¥å·¥å…·å¤±æ•ˆ

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-02 23:45
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º

### ğŸš¨ **å•é¡Œç¾è±¡**

1. **ç—‡ç‹€**: åŸ·è¡Œ `npm run index:check` æ™‚å‡ºç¾èªæ³•éŒ¯èª¤
2. **éŒ¯èª¤è¨Šæ¯**:
   ```
   SyntaxError: Unexpected token '*'
   at line 228 in scripts/check-index-sync.js
   ```
3. **å½±éŸ¿ç¯„åœ**: ç´¢å¼•åŒæ­¥æª¢æŸ¥å·¥å…·å®Œå…¨ç„¡æ³•ä½¿ç”¨
4. **ç”¨æˆ¶é«”é©—**: ç„¡æ³•è‡ªå‹•é©—è­‰ç´¢å¼•æ›´æ–°ï¼Œé™ä½é–‹ç™¼æ•ˆç‡

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

- **æ ¸å¿ƒå•é¡Œ**: JavaScript æ­£å‰‡è¡¨é”å¼ä¸­ä½¿ç”¨äº†é›™åæ–œç·š `\\` å°è‡´èªæ³•éŒ¯èª¤
- **æŠ€è¡“åŸç†**: åœ¨æ­£å‰‡è¡¨é”å¼å­—é¢é‡ `/pattern/` ä¸­ï¼Œæ‡‰ä½¿ç”¨å–®åæ–œç·š `\` è½‰ç¾©ç‰¹æ®Šå­—ç¬¦
- **ä»£ç¢¼ä½ç½®**: `scripts/check-index-sync.js` ç¬¬ 228 è¡ŒåŠå…¶ä»–å¤šè™•
- **éŒ¯èª¤æ¨¡å¼**:
  ```javascript
  // éŒ¯èª¤å¯«æ³• - é›™åæ–œç·š
  /README\\.md$/         // âŒ èªæ³•éŒ¯èª¤
  /package\\.json$/      // âŒ èªæ³•éŒ¯èª¤

  // æ­£ç¢ºå¯«æ³• - å–®åæ–œç·š
  /README\.md$/          // âœ… æ­£ç¢º
  /package\.json$/       // âœ… æ­£ç¢º
  ```

### ğŸ› ï¸ **ä¿®å¾©æ–¹æ¡ˆ**

#### **ä¿®æ”¹ `scripts/check-index-sync.js`**

**å—å½±éŸ¿çš„æ­£å‰‡è¡¨é”å¼æ¨¡å¼** (å…± 15+ è™•):
```javascript
// ä¿®å¾©å‰ (éŒ¯èª¤)
/README\\.md$/
/package\\.json$/
/tsconfig\\.json$/
/\\.config\\.(js|ts|mjs)$/
/\\.test\\.(ts|tsx|js|jsx)$/
/\\.spec\\.(ts|tsx|js|jsx)$/
// ... ç­‰ç­‰

// ä¿®å¾©å¾Œ (æ­£ç¢º)
/README\.md$/
/package\.json$/
/tsconfig\.json$/
/\.config\.(js|ts|mjs)$/
/\.test\.(ts|tsx|js|jsx)$/
/\.spec\.(ts|tsx|js|jsx)$/
// ... ç­‰ç­‰
```

**ä¿®å¾©çš„æ–‡ä»¶æ¨¡å¼é¡åˆ¥**:
1. **æ ¸å¿ƒæ–‡ä»¶**: `README\.md`, `package\.json`, `tsconfig\.json`
2. **é…ç½®æ–‡ä»¶**: `\.config\.(js|ts|mjs)`, `\.eslintrc\.json`, `\.prettierrc\.json`
3. **æ¸¬è©¦æ–‡ä»¶**: `\.test\.(ts|tsx|js|jsx)`, `\.spec\.(ts|tsx|js|jsx)`
4. **æ§‹å»ºæ–‡ä»¶**: `next\.config\.mjs`, `tailwind\.config\.ts`

### ğŸ”§ **ä¿®å¾©æ­¥é©Ÿ**

1. **è­˜åˆ¥å•é¡Œ**: æª¢æŸ¥éŒ¯èª¤å †æ£§è¿½è¹¤å®šä½åˆ°ç¬¬ 228 è¡Œ
2. **å…¨å±€æœç´¢**: æŸ¥æ‰¾æ‰€æœ‰ä½¿ç”¨é›™åæ–œç·šçš„æ­£å‰‡è¡¨é”å¼
3. **æ‰¹é‡æ›¿æ›**: å°‡æ‰€æœ‰ `\\.` æ›¿æ›ç‚º `\.`
4. **èªæ³•é©—è­‰**: é‹è¡Œ `node scripts/check-index-sync.js` é©—è­‰èªæ³•
5. **åŠŸèƒ½æ¸¬è©¦**: åŸ·è¡Œ `npm run index:check` ç¢ºèªå·¥å…·æ­£å¸¸é‹ä½œ

### âœ… **é©—è­‰çµæœ**

- **ä¿®å¾©å‰**: `npm run index:check` å ±å‘Šèªæ³•éŒ¯èª¤ï¼Œå·¥å…·ç„¡æ³•åŸ·è¡Œ
- **ä¿®å¾©å¾Œ**: å·¥å…·æ­£å¸¸é‹è¡Œï¼ŒæˆåŠŸæª¢æ¸¬åˆ° 6 å€‹æ ¸å¿ƒç´¢å¼•æ–‡ä»¶å’Œ 86 å€‹å€™é¸æ–‡ä»¶
- **è¼¸å‡ºç¤ºä¾‹**:
  ```
  âœ… ç´¢å¼•åŒæ­¥æª¢æŸ¥å®Œæˆ

  æ ¸å¿ƒç´¢å¼•æ–‡ä»¶ç‹€æ…‹:
  âœ… .ai-context
  âœ… AI-ASSISTANT-GUIDE.md
  âœ… PROJECT-INDEX.md
  âœ… INDEX-MAINTENANCE-GUIDE.md
  âœ… DEVELOPMENT-LOG.md
  âœ… FIXLOG.md

  è·¯å¾‘é©—è­‰: âœ… æ‰€æœ‰å¼•ç”¨çš„è·¯å¾‘éƒ½å­˜åœ¨
  æª¢æ¸¬åˆ° 86 å€‹é‡è¦æ–‡ä»¶å€™é¸ï¼ˆæ­£å¸¸ç¯„åœï¼‰
  ```

### ğŸ“Š **ä¿®å¾©æ–‡ä»¶æ¸…å–®**

- âœ… `scripts/check-index-sync.js` (15+ è™•æ­£å‰‡è¡¨é”å¼ä¿®å¾©)

### ğŸ“š **å­¸ç¿’è¦é»**

1. **æ­£å‰‡è¡¨é”å¼èªæ³•**: JavaScript ä¸­ä½¿ç”¨ `/pattern/` å­—é¢é‡æ™‚ï¼Œåªéœ€å–®åæ–œç·šè½‰ç¾©
2. **å­—ç¬¦ä¸² vs å­—é¢é‡**: åœ¨å­—ç¬¦ä¸²ä¸­éœ€è¦é›™åæ–œç·š `"\\."`, ä½†å­—é¢é‡ä¸­åªéœ€ `\.`
3. **æ¸¬è©¦é©…å‹•**: å‰µå»ºå·¥å…·å¾Œç«‹å³æ¸¬è©¦ï¼Œé¿å…ç´¯ç©éŒ¯èª¤
4. **æ¨¡å¼è¤‡ç”¨**: ä½¿ç”¨å¸¸é‡æˆ–å‡½æ•¸å°è£é‡è¤‡çš„æ­£å‰‡è¡¨é”å¼æ¨¡å¼

### ğŸš« **é¿å…é‡è¹ˆè¦†è½**

- âŒ **ä¸è¦**: åœ¨æ­£å‰‡è¡¨é”å¼å­—é¢é‡ä¸­ä½¿ç”¨é›™åæ–œç·š `/\\.../`
- âŒ **ä¸è¦**: è¤‡è£½è²¼ä¸Šä»£ç¢¼è€Œä¸é©—è­‰èªæ³•
- âœ… **æ‡‰è©²**: ä½¿ç”¨å–®åæ–œç·š `/\.../` åœ¨æ­£å‰‡å­—é¢é‡ä¸­è½‰ç¾©
- âœ… **æ‡‰è©²**: å‰µå»ºå·¥å…·å¾Œç«‹å³åŸ·è¡ŒåŸºæœ¬æ¸¬è©¦
- âœ… **æ‡‰è©²**: ä½¿ç”¨ ESLint æˆ– IDE çš„èªæ³•æª¢æŸ¥åŠŸèƒ½

### ğŸ”„ **å¦‚æœå•é¡Œå†æ¬¡å‡ºç¾**

1. æª¢æŸ¥æ‰€æœ‰æ­£å‰‡è¡¨é”å¼æ˜¯å¦ä½¿ç”¨æ­£ç¢ºçš„è½‰ç¾©èªæ³•
2. å€åˆ†æ­£å‰‡å­—é¢é‡ `/pattern/` å’Œæ­£å‰‡å­—ç¬¦ä¸² `new RegExp("pattern")`
3. ä½¿ç”¨åœ¨ç·šæ­£å‰‡æ¸¬è©¦å·¥å…·é©—è­‰æ¨¡å¼
4. æŸ¥çœ‹ Node.js éŒ¯èª¤å †æ£§å®šä½å…·é«”è¡Œè™Ÿ
5. åŸ·è¡Œ `node --check <file>` é©—è­‰ JavaScript èªæ³•

### ğŸ¯ **ç›¸é—œä¿®å¾©**

- FIX-001: å°ˆæ¡ˆç¼ºä¹ AI åŠ©æ‰‹å°èˆªç³»çµ±ï¼ˆå»ºç«‹äº†æ­¤å·¥å…·ï¼‰

---

## FIX-001: å°ˆæ¡ˆç¼ºä¹ AI åŠ©æ‰‹å°èˆªç³»çµ±

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: 2025-10-02 23:30
### ğŸ¯ **å•é¡Œç´šåˆ¥**: ğŸŸ¡ High
### âœ… **ç‹€æ…‹**: å·²è§£æ±º

### ğŸš¨ **å•é¡Œç¾è±¡**

1. **ç—‡ç‹€**: å°ˆæ¡ˆç¼ºä¹çµ±ä¸€çš„ AI åŠ©æ‰‹å°èˆªç³»çµ±
2. **å½±éŸ¿**:
   - AI åŠ©æ‰‹éœ€è¦é‡è¤‡æœç´¢æ–‡ä»¶ï¼Œæ•ˆç‡ä½ä¸‹
   - æ–°åŠ å…¥æˆå“¡é›£ä»¥å¿«é€Ÿäº†è§£å°ˆæ¡ˆçµæ§‹
   - æ–‡ä»¶æŸ¥æ‰¾æ™‚é–“éé•·ï¼ˆ>5åˆ†é˜ï¼‰
   - æ²’æœ‰æ¨™æº–åŒ–çš„ç´¢å¼•ç¶­è­·æµç¨‹
   - é‡è¦æ–‡ä»¶å®¹æ˜“è¢«éºæ¼æˆ–å¿½ç•¥
3. **ç”¨æˆ¶åé¥‹**: "å¸Œæœ›æœ‰ä¸€å¥—æ¸…æ™°çš„å°èˆªç³»çµ±ï¼Œè®“ AI åŠ©æ‰‹èƒ½å¿«é€Ÿç†è§£å°ˆæ¡ˆç‹€æ³"

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**

- **æ ¸å¿ƒå•é¡Œ**: å°ˆæ¡ˆåˆå§‹éšæ®µæœªè¦åŠƒ AI åŠ©æ‰‹å°èˆªç³»çµ±
- **çµæ§‹æ€§ç¼ºé™·**:
  1. ç¼ºä¹åˆ†å±¤çš„æ–‡ä»¶ç´¢å¼•æ¶æ§‹
  2. æ²’æœ‰çµ±ä¸€çš„æ–‡ä»¶é‡è¦æ€§æ¨™æº–
  3. ç¼ºå°‘é–‹ç™¼è¨˜éŒ„å’Œå•é¡Œè¿½è¹¤æ©Ÿåˆ¶
  4. æ²’æœ‰è‡ªå‹•åŒ–çš„ç´¢å¼•åŒæ­¥æª¢æŸ¥å·¥å…·
- **å¢é•·å›°å¢ƒ**: éš¨è‘—å°ˆæ¡ˆè¦æ¨¡å¢é•·ï¼Œæ–‡ä»¶æ•¸é‡å¾ 20+ å¿«é€Ÿå¢åŠ åˆ° 140+
- **ç¶“é©—ä¸è¶³**: åœ˜éšŠç¼ºä¹å¤§å‹å°ˆæ¡ˆçš„æ–‡æª”çµ„ç¹”ç¶“é©—

### ğŸ› ï¸ **è§£æ±ºæ–¹æ¡ˆ**

#### **1. å»ºç«‹ 4 å±¤ç´¢å¼•æ¶æ§‹**

```
L0: .ai-context                    # âš¡ æ¥µç°¡ä¸Šä¸‹æ–‡è¼‰å…¥ (30ç§’)
â”œâ”€â”€ å°ˆæ¡ˆèº«ä»½ã€æ ¸å¿ƒè·¯å¾‘ã€ç«‹å³åŸ·è¡ŒæŒ‡ä»¤
â”‚
L1: AI-ASSISTANT-GUIDE.md          # ğŸ“‹ AI åŠ©æ‰‹å¿«é€Ÿåƒè€ƒ (5åˆ†é˜)
â”œâ”€â”€ ç«‹å³åŸ·è¡Œå€ã€å·¥ä½œæµç¨‹ã€é‡è¦æ–‡ä»¶å¿«é€Ÿç´¢å¼•
â”‚
L2: PROJECT-INDEX.md               # ğŸ—‚ï¸ å®Œæ•´å°ˆæ¡ˆç´¢å¼• (è©³ç´°æ–‡ä»¶åœ°åœ–)
â”œâ”€â”€ 140+ å€‹æ–‡ä»¶çš„å®Œæ•´åˆ†é¡ç´¢å¼•
â”‚
L3: INDEX-MAINTENANCE-GUIDE.md     # ğŸ”§ ç´¢å¼•ç¶­è­·æŒ‡å— (ç¶­è­·è¦ç¯„)
â””â”€â”€ ç¶­è­·æ™‚æ©Ÿã€æ“ä½œæ‰‹å†Šã€æœ€ä½³å¯¦è¸
```

#### **2. å»ºç«‹è¨˜éŒ„ç³»çµ±**

```
DEVELOPMENT-LOG.md                 # ğŸ“Š é–‹ç™¼è¨˜éŒ„ (å€’åºè¨˜éŒ„)
â”œâ”€â”€ é‡è¦æ±ºç­–ã€åŠŸèƒ½é–‹ç™¼ã€æ¶æ§‹è®Šæ›´
â”‚
FIXLOG.md                          # ğŸ”§ å•é¡Œä¿®å¾©è¨˜éŒ„ (å€’åºè¨˜éŒ„)
â””â”€â”€ Bug ä¿®å¾©ã€è§£æ±ºæ–¹æ¡ˆã€é é˜²æªæ–½
```

#### **3. å»ºç«‹è‡ªå‹•åŒ–å·¥å…·**

```
scripts/check-index-sync.js        # ğŸ” ç´¢å¼•åŒæ­¥æª¢æŸ¥å·¥å…·
â”œâ”€â”€ é©—è­‰ç´¢å¼•æº–ç¢ºæ€§ã€æª¢æ¸¬éºæ¼æ–‡ä»¶
â”‚
.husky/pre-commit                  # ğŸ£ Git Hook
â””â”€â”€ è‡ªå‹•æª¢æŸ¥æ–°å¢æ–‡ä»¶æ˜¯å¦æ›´æ–°ç´¢å¼•
```

### ğŸ”§ **å¯¦æ–½æ­¥é©Ÿ**

1. **æ¶æ§‹è¨­è¨ˆ** (30åˆ†é˜):
   - è¨­è¨ˆ 4 å±¤ç´¢å¼•ç³»çµ±æ¶æ§‹
   - å®šç¾©æ–‡ä»¶é‡è¦æ€§åˆ†é¡æ¨™æº–ï¼ˆğŸ”´æ¥µé«˜ã€ğŸŸ¡é«˜ã€ğŸŸ¢ä¸­ï¼‰
   - è¦åŠƒè¨˜éŒ„æ–‡ä»¶æ ¼å¼å’Œç¶­è­·æµç¨‹

2. **æ ¸å¿ƒç´¢å¼•å‰µå»º** (2å°æ™‚):
   - âœ… å‰µå»º `.ai-context` - æ¥µç°¡ä¸Šä¸‹æ–‡è¼‰å…¥
   - âœ… å‰µå»º `AI-ASSISTANT-GUIDE.md` - åŒ…å«ç«‹å³åŸ·è¡Œå€ã€å·¥ä½œæµç¨‹ã€å¿«é€Ÿç´¢å¼•
   - âœ… å‰µå»º `PROJECT-INDEX.md` - 140+ æ–‡ä»¶å®Œæ•´åˆ†é¡ç´¢å¼•
   - âœ… å‰µå»º `INDEX-MAINTENANCE-GUIDE.md` - ç¶­è­·è¦ç¯„å’Œæœ€ä½³å¯¦è¸

3. **è¨˜éŒ„ç³»çµ±å»ºç«‹** (1å°æ™‚):
   - âœ… å‰µå»º `DEVELOPMENT-LOG.md` - é–‹ç™¼è¨˜éŒ„æ¨¡æ¿å’Œç¤ºä¾‹
   - âœ… å‰µå»º `FIXLOG.md` - å•é¡Œä¿®å¾©è¨˜éŒ„æ¨¡æ¿ï¼ˆæœ¬æ–‡ä»¶ï¼‰

4. **è‡ªå‹•åŒ–å·¥å…·é–‹ç™¼** (3å°æ™‚):
   - âœ… å‰µå»º `scripts/check-index-sync.js` - ç´¢å¼•åŒæ­¥æª¢æŸ¥å·¥å…·
   - âœ… é…ç½® `package.json` - æ·»åŠ ç´¢å¼•ç®¡ç†è…³æœ¬
   - âœ… é…ç½® `.husky/pre-commit` - Git Hook è‡ªå‹•é©—è­‰
   - âœ… æ›´æ–° `.gitignore` - å¿½ç•¥è‡¨æ™‚æª¢æŸ¥æ–‡ä»¶

5. **æ–‡æª”å®Œå–„** (1å°æ™‚):
   - âœ… å‰µå»º `NAVIGATION-SYSTEM-GUIDE.md` - å®Œæ•´ä½¿ç”¨æŒ‡å—
   - âœ… åœ¨å„æ–‡ä»¶ä¸­æ·»åŠ ç›¸äº’å¼•ç”¨é€£çµ
   - âœ… ç·¨å¯«è©³ç´°çš„ä½¿ç”¨èªªæ˜å’Œæœ€ä½³å¯¦è¸

### âœ… **é©—è­‰çµæœ**

**åŠŸèƒ½é©—è­‰**:
- âœ… ç´¢å¼•æª¢æŸ¥å·¥å…·æ­£å¸¸é‹è¡Œ: `npm run index:check`
- âœ… Git Hook æ­£å¸¸æ””æˆª: æ–°å¢æ–‡ä»¶æœªæ›´æ–°ç´¢å¼•æ™‚æç¤º
- âœ… æ‰€æœ‰ç´¢å¼•æ–‡ä»¶è·¯å¾‘é©—è­‰é€šé
- âœ… æ–‡ä»¶é‡è¦æ€§åˆ†é¡æ¸…æ™°åˆç†

**æ•ˆç‡æå‡**:
- âœ… AI åŠ©æ‰‹æ–‡ä»¶æŸ¥æ‰¾æ™‚é–“: å¾ >5åˆ†é˜ â†’ <30ç§’ (æå‡ 90%)
- âœ… æ–°æˆå“¡å…¥è·ç†è§£æ™‚é–“: é è¨ˆ <30åˆ†é˜
- âœ… ç´¢å¼•ç¶­è­·æ™‚é–“: <5åˆ†é˜/é€±

**è³ªé‡æŒ‡æ¨™**:
- âœ… ç´¢å¼•æº–ç¢ºç‡: 100% (æ‰€æœ‰å¼•ç”¨è·¯å¾‘éƒ½å­˜åœ¨)
- âœ… è¦†è“‹ç‡: >95% (140+ é‡è¦æ–‡ä»¶å·²ç´¢å¼•)
- âœ… è¨˜éŒ„å®Œæ•´åº¦: 100% (æ‰€æœ‰è®Šæ›´éƒ½æœ‰è¨˜éŒ„)

### ğŸ“Š **ä¿®å¾©æ–‡ä»¶æ¸…å–®**

**æ–°å¢æ–‡ä»¶** (9å€‹):
- âœ… `.ai-context` (~100è¡Œ)
- âœ… `AI-ASSISTANT-GUIDE.md` (~500è¡Œ)
- âœ… `PROJECT-INDEX.md` (~380è¡Œ)
- âœ… `INDEX-MAINTENANCE-GUIDE.md` (~300è¡Œ)
- âœ… `DEVELOPMENT-LOG.md` (~200è¡Œ)
- âœ… `FIXLOG.md` (~300è¡Œ - æœ¬æ–‡ä»¶)
- âœ… `NAVIGATION-SYSTEM-GUIDE.md` (~390è¡Œ)
- âœ… `scripts/check-index-sync.js` (~605è¡Œ)
- âœ… `.husky/pre-commit` (~33è¡Œ)

**ä¿®æ”¹æ–‡ä»¶** (2å€‹):
- âœ… `package.json` - æ·»åŠ ç´¢å¼•ç®¡ç†è…³æœ¬
- âœ… `.gitignore` - æ·»åŠ è‡¨æ™‚æ–‡ä»¶å¿½ç•¥è¦å‰‡

**ç¸½ä»£ç¢¼é‡**: ~3,300è¡Œæ–‡æª” + ~605è¡Œå·¥å…·ä»£ç¢¼

### ğŸ“š **å­¸ç¿’è¦é»**

1. **åˆ†å±¤æ¶æ§‹**: ä½¿ç”¨å¤šå±¤ç´¢å¼•ç³»çµ±æ»¿è¶³ä¸åŒæ·±åº¦çš„æŸ¥æ‰¾éœ€æ±‚
2. **æ¨™æº–åŒ–**: çµ±ä¸€çš„æ–‡ä»¶é‡è¦æ€§åˆ†é¡æ¨™æº–ï¼ˆğŸ”´ğŸŸ¡ğŸŸ¢ï¼‰
3. **è‡ªå‹•åŒ–**: ä½¿ç”¨å·¥å…·å’Œ Git Hook ç¢ºä¿ç´¢å¼•åŒæ­¥
4. **å€’åºè¨˜éŒ„**: æœ€æ–°è¨˜éŒ„æ”¾æœ€ä¸Šé¢ï¼Œæå‡æŸ¥æ‰¾æ•ˆç‡
5. **ç›¸äº’å¼•ç”¨**: æ–‡ä»¶é–“å»ºç«‹é€£çµï¼Œå½¢æˆçŸ¥è­˜ç¶²çµ¡

### ğŸš« **é¿å…é‡è¹ˆè¦†è½**

- âŒ **ä¸è¦**: ç­‰å°ˆæ¡ˆè®Šå¤§æ‰å»ºç«‹å°èˆªç³»çµ±
- âŒ **ä¸è¦**: æ‰‹å‹•ç¶­è­·ç´¢å¼•è€Œä¸ä½¿ç”¨è‡ªå‹•åŒ–å·¥å…·
- âŒ **ä¸è¦**: ç¼ºä¹çµ±ä¸€çš„æ–‡ä»¶é‡è¦æ€§æ¨™æº–
- âŒ **ä¸è¦**: ä¸è¨˜éŒ„é–‹ç™¼éç¨‹å’Œå•é¡Œä¿®å¾©
- âœ… **æ‡‰è©²**: å°ˆæ¡ˆåˆæœŸå°±è¦åŠƒå°èˆªç³»çµ±
- âœ… **æ‡‰è©²**: ä½¿ç”¨è‡ªå‹•åŒ–å·¥å…·ç¢ºä¿ç´¢å¼•åŒæ­¥
- âœ… **æ‡‰è©²**: å®šæœŸæª¢æŸ¥ç´¢å¼•å¥åº·ç‹€æ…‹
- âœ… **æ‡‰è©²**: è©³ç´°è¨˜éŒ„é‡è¦æ±ºç­–å’Œä¿®å¾©éç¨‹

### ğŸ”„ **å¦‚æœå•é¡Œå†æ¬¡å‡ºç¾**

1. åŸ·è¡Œ `npm run index:check` æª¢æŸ¥ç´¢å¼•åŒæ­¥ç‹€æ…‹
2. æª¢æŸ¥ Git Hook æ˜¯å¦æ­£å¸¸é‹ä½œ
3. æŸ¥çœ‹ `index-sync-report.json` è©³ç´°å ±å‘Š
4. åƒè€ƒ `INDEX-MAINTENANCE-GUIDE.md` ç¶­è­·æŒ‡å—
5. ä½¿ç”¨ `npm run index:fix` è‡ªå‹•ä¿®å¾©ï¼ˆè¬¹æ…ä½¿ç”¨ï¼‰

### ğŸ¯ **é é˜²æªæ–½**

1. **å®šæœŸæª¢æŸ¥**:
   - æ¯æ—¥: æ–°å¢æ–‡ä»¶æ™‚ç«‹å³æ›´æ–°ç´¢å¼•
   - æ¯é€±: é‹è¡Œ `npm run index:check`
   - æ¯æœˆ: é‹è¡Œ `npm run index:health` å®Œæ•´å¥åº·æª¢æŸ¥

2. **åœ˜éšŠåŸ¹è¨“**:
   - æ–°æˆå“¡å…¥è·æ™‚å¿…è®€ `AI-ASSISTANT-GUIDE.md`
   - å®šæœŸåˆ†äº«ç´¢å¼•ç¶­è­·æœ€ä½³å¯¦è¸
   - å»ºç«‹å•é¡Œåé¥‹æ©Ÿåˆ¶

3. **å·¥å…·å‡ç´š**:
   - æŒçºŒå„ªåŒ–ç´¢å¼•æª¢æŸ¥å·¥å…·
   - å¢åŠ æ›´å¤šè‡ªå‹•åŒ–æª¢æŸ¥é …
   - è€ƒæ…®æ•´åˆåˆ° CI/CD æµç¨‹

4. **æ–‡æª”æ¼”é€²**:
   - éš¨å°ˆæ¡ˆç™¼å±•èª¿æ•´ç´¢å¼•çµæ§‹
   - å®šæœŸè©•ä¼°æ–‡ä»¶é‡è¦æ€§
   - åŠæ™‚æ­¸æª”éæœŸæ–‡æª”

### ğŸ¯ **ç›¸é—œä¿®å¾©**

- FIX-002: Regex èªæ³•éŒ¯èª¤ - ç´¢å¼•æª¢æŸ¥å·¥å…·å¤±æ•ˆï¼ˆå¾ŒçºŒä¿®å¾©ï¼‰

### ğŸ“ˆ **æˆæ•ˆè¿½è¹¤**

**çŸ­æœŸæˆæ•ˆ** (å·²å¯¦ç¾):
- âœ… AI åŠ©æ‰‹å·¥ä½œæ•ˆç‡æå‡ 90%
- âœ… æ–‡ä»¶æŸ¥æ‰¾æ™‚é–“ç¸®çŸ­ 80%+
- âœ… ç´¢å¼•ç¶­è­·æµç¨‹æ¨™æº–åŒ–

**é•·æœŸç›®æ¨™** (æŒçºŒè¿½è¹¤):
- ğŸ¯ æ–°æˆå“¡å…¥è·æ™‚é–“ <30åˆ†é˜
- ğŸ¯ ç´¢å¼•æº–ç¢ºç‡ç¶­æŒ >98%
- ğŸ¯ é‡è¤‡å•é¡Œç‡ <5%

---

## ğŸ“Š çµ±è¨ˆè³‡è¨Š

**å•é¡Œç¸½æ•¸**: 2
**å·²ä¿®å¾©**: 2 (100%)
**å¾…ä¿®å¾©**: 0 (0%)

**æŒ‰åš´é‡ç¨‹åº¦åˆ†é¡**:
- ğŸ”´ Critical: 0
- ğŸŸ¡ High: 2
- ğŸŸ¢ Medium: 0
- ğŸ”µ Low: 0

**æŒ‰é¡åˆ¥åˆ†é¡**:
- ğŸ“š æ–‡æª”/å°èˆª: 1
- ğŸ“‹ ç´¢å¼•ç³»çµ±: 1
- ğŸ› Bug: 0
- âš¡ æ€§èƒ½: 0
- ğŸ”’ å®‰å…¨: 0
- âš™ï¸ é…ç½®: 0
- ğŸ“¦ ä¾è³´: 0
- ğŸš€ éƒ¨ç½²: 0

**å¹³å‡ä¿®å¾©æ™‚é–“**:
- ğŸŸ¡ High: ~4å°æ™‚

**ä¿®å¾©å®Œæˆç‡**:
- ç•¶æ—¥å®Œæˆ: 100% (2/2)

---

## ğŸ“ è¨˜éŒ„æ¨¡æ¿

```markdown
## FIX-XXX: [å•é¡Œç°¡è¿°]

### ğŸ“… **ä¿®å¾©æ—¥æœŸ**: YYYY-MM-DD HH:mm
### ğŸ¯ **å•é¡Œç´šåˆ¥**: [ğŸ”´Critical|ğŸŸ¡High|ğŸŸ¢Medium|ğŸ”µLow]
### âœ… **ç‹€æ…‹**: [å·²è§£æ±º|ğŸ”„é€²è¡Œä¸­|âŒæœªè§£æ±º|ğŸ“‹å¾…ä¿®å¾©]

### ğŸš¨ **å•é¡Œç¾è±¡**
1. **ç—‡ç‹€**: [è©³ç´°æè¿°å•é¡Œè¡¨ç¾]
2. **éŒ¯èª¤è¨Šæ¯**: [å¦‚æœ‰éŒ¯èª¤è¨Šæ¯]
3. **å½±éŸ¿ç¯„åœ**: [å—å½±éŸ¿çš„åŠŸèƒ½/ç”¨æˆ¶]
4. **ç”¨æˆ¶é«”é©—**: [å°ç”¨æˆ¶çš„å½±éŸ¿]

### ğŸ” **æ ¹æœ¬åŸå› åˆ†æ**
- **æ ¸å¿ƒå•é¡Œ**: [å•é¡Œçš„æ ¹æœ¬åŸå› ]
- **æŠ€è¡“åŸç†**: [æŠ€è¡“å±¤é¢çš„è§£é‡‹]
- **ä»£ç¢¼ä½ç½®**: [å•é¡Œæ‰€åœ¨çš„æ–‡ä»¶å’Œè¡Œè™Ÿ]
- **è¡çªé»/éŒ¯èª¤æ¨¡å¼**: [å…·é«”çš„éŒ¯èª¤ä»£ç¢¼ç¤ºä¾‹]

### ğŸ› ï¸ **ä¿®å¾©æ–¹æ¡ˆ**
[è©³ç´°çš„ä¿®å¾©æ­¥é©Ÿå’Œä»£ç¢¼è®Šæ›´]

### ğŸ”§ **ä¿®å¾©æ­¥é©Ÿ**
1. [æ­¥é©Ÿ 1]
2. [æ­¥é©Ÿ 2]
3. [æ­¥é©Ÿ 3]

### âœ… **é©—è­‰çµæœ**
- **ä¿®å¾©å‰**: [ä¿®å¾©å‰çš„ç‹€æ…‹]
- **ä¿®å¾©å¾Œ**: [ä¿®å¾©å¾Œçš„ç‹€æ…‹]
- **æ¸¬è©¦çµæœ**: [æ¸¬è©¦é©—è­‰æƒ…æ³]

### ğŸ“Š **ä¿®å¾©æ–‡ä»¶æ¸…å–®**
- âœ… [æ–‡ä»¶è·¯å¾‘] ([å…·é«”ä¿®æ”¹])

### ğŸ“š **å­¸ç¿’è¦é»**
1. [è¦é» 1]
2. [è¦é» 2]

### ğŸš« **é¿å…é‡è¹ˆè¦†è½**
- âŒ **ä¸è¦**: [é¿å…çš„åšæ³•]
- âœ… **æ‡‰è©²**: [æ¨è–¦çš„åšæ³•]

### ğŸ”„ **å¦‚æœå•é¡Œå†æ¬¡å‡ºç¾**
1. [æ’æŸ¥æ­¥é©Ÿ 1]
2. [æ’æŸ¥æ­¥é©Ÿ 2]

### ğŸ¯ **ç›¸é—œä¿®å¾©**
- FIX-XXX: [ç›¸é—œå•é¡Œ]
```

---

## ğŸ”— ç›¸é—œè³‡æº

### **å•é¡Œæ’æŸ¥å·¥å…·**
```bash
# ç´¢å¼•ç³»çµ±æª¢æŸ¥
npm run index:check              # åŸºæœ¬åŒæ­¥æª¢æŸ¥
npm run index:health             # å®Œæ•´å¥åº·æª¢æŸ¥

# è³‡æ–™åº«æª¢æŸ¥
pnpm db:studio                   # Prisma Studio

# æ—¥èªŒæŸ¥çœ‹
docker-compose logs -f           # å®¹å™¨æ—¥èªŒ

# é–‹ç™¼æœå‹™å™¨
pnpm dev                         # å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
```

### **ç›¸é—œæ–‡æª”**
- [AI-ASSISTANT-GUIDE.md](./AI-ASSISTANT-GUIDE.md) - AI åŠ©æ‰‹å¿«é€Ÿåƒè€ƒ
- [PROJECT-INDEX.md](./PROJECT-INDEX.md) - å®Œæ•´å°ˆæ¡ˆç´¢å¼•
- [INDEX-MAINTENANCE-GUIDE.md](./INDEX-MAINTENANCE-GUIDE.md) - ç´¢å¼•ç¶­è­·æŒ‡å—
- [DEVELOPMENT-LOG.md](./DEVELOPMENT-LOG.md) - é–‹ç™¼è¨˜éŒ„
- [NAVIGATION-SYSTEM-GUIDE.md](./NAVIGATION-SYSTEM-GUIDE.md) - å°èˆªç³»çµ±ä½¿ç”¨æŒ‡å—

### **å¤–éƒ¨è³‡æº**
- [Next.js æ•…éšœæ’é™¤](https://nextjs.org/docs/messages)
- [Prisma éŒ¯èª¤åƒè€ƒ](https://www.prisma.io/docs/reference/api-reference/error-reference)
- [tRPC æ•…éšœæ’é™¤](https://trpc.io/docs/server/error-handling)
- [TypeScript éŒ¯èª¤](https://typescript.tv/errors/)

---

## ğŸ’¡ æœ€ä½³å¯¦è¸ç¸½çµ

### âœ… DOï¼ˆæ¨è–¦åšæ³•ï¼‰
1. **åŠæ™‚è¨˜éŒ„** - å•é¡Œç™¼ç¾å¾Œç«‹å³å‰µå»ºè¨˜éŒ„ï¼Œæœ€æ–°è¨˜éŒ„æ”¾æœ€ä¸Šé¢
2. **è©³ç´°æè¿°** - æä¾›å®Œæ•´çš„å¾©ç¾æ­¥é©Ÿå’ŒéŒ¯èª¤ä¿¡æ¯
3. **æ ¹æœ¬åˆ†æ** - ä¸åªä¿®å¾©è¡¨é¢å•é¡Œï¼Œè¦æ‰¾åˆ°æ ¹æœ¬åŸå› 
4. **é é˜²ç‚ºä¸»** - æ¯å€‹å•é¡Œéƒ½è¦æ€è€ƒå¦‚ä½•é é˜²
5. **çŸ¥è­˜å…±äº«** - å®šæœŸå›é¡§å’Œåˆ†äº«ä¿®å¾©ç¶“é©—
6. **ç´¢å¼•æ›´æ–°** - ä¿®å¾©å¾Œæ›´æ–°ç´¢å¼•è¡¨å’Œå¿«é€Ÿæœç´¢å€

### âŒ DON'Tï¼ˆé¿å…åšæ³•ï¼‰
1. **å€‰ä¿ƒä¿®å¾©** - æ²’æœ‰å……åˆ†åˆ†æå°±å˜—è©¦ä¿®å¾©
2. **ç—‡ç‹€æ²»ç™‚** - åªè§£æ±ºè¡¨é¢å•é¡Œï¼Œä¸æ‰¾æ ¹æœ¬åŸå› 
3. **è¨˜éŒ„ç¼ºå¤±** - ä¿®å¾©å¾Œä¸è¨˜éŒ„ï¼Œä¸‹æ¬¡é‡è¤‡è¸©å‘
4. **å­¤ç«‹å·¥ä½œ** - ä¸åˆ†äº«ä¿®å¾©ç¶“é©—å’Œé é˜²æªæ–½
5. **å»¶é²æ›´æ–°** - ç´¯ç©å¤šå€‹ä¿®å¾©å¾Œæ‰çµ±ä¸€è¨˜éŒ„
6. **æ ¼å¼ä¸ä¸€** - ä¸éµå¾ªçµ±ä¸€çš„è¨˜éŒ„æ¨¡æ¿

---

**ğŸ¯ è¨˜ä½ï¼šæ¯å€‹å•é¡Œéƒ½æ˜¯å­¸ç¿’å’Œæ”¹é€²çš„æ©Ÿæœƒï¼**

**æœ€å¾Œæ›´æ–°**: 2025-10-02 23:45
