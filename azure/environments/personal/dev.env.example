# ============================================================================
# Azure Development Environment Configuration
# ============================================================================
# 此文件為開發環境的環境變數範例
# 實際值應存儲在公司 Azure Key Vault 中，通過 @Microsoft.KeyVault() 引用
#
# 使用方式:
#   az webapp config appsettings set \
#     --name app-itpm-dev-001 \
#     --resource-group rg-itpm-dev \
#     --settings @.azure/environments/dev.env.example
# ============================================================================

# ----------------------------------------------------------------------------
# 基礎配置
# ----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000
NEXT_TELEMETRY_DISABLED=1

# ----------------------------------------------------------------------------
# 應用 URL (使用 Key Vault 引用)
# ----------------------------------------------------------------------------
NEXTAUTH_URL=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-NEXTAUTH-URL)
# 實際值範例: https://app-itpm-dev-001.azurewebsites.net

# ----------------------------------------------------------------------------
# NextAuth 認證配置 (使用 Key Vault 引用)
# ----------------------------------------------------------------------------
NEXTAUTH_SECRET=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-NEXTAUTH-SECRET)
# 實際值生成: openssl rand -base64 32

NEXTAUTH_SESSION_MAX_AGE=86400

# ----------------------------------------------------------------------------
# 數據庫配置 (使用 Key Vault 引用)
# ----------------------------------------------------------------------------
DATABASE_URL=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-DATABASE-URL)
# 實際值範例: postgresql://itpmadmin:PASSWORD@psql-itpm-dev-001.postgres.database.azure.com:5432/itpm_dev?sslmode=require

# ----------------------------------------------------------------------------
# Azure AD B2C 認證 (使用 Key Vault 引用)
# ----------------------------------------------------------------------------
AZURE_AD_B2C_TENANT_NAME=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-AD-B2C-TENANT-NAME)
AZURE_AD_B2C_TENANT_ID=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-AD-B2C-TENANT-ID)
AZURE_AD_B2C_CLIENT_ID=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-AD-B2C-CLIENT-ID)
AZURE_AD_B2C_CLIENT_SECRET=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-AD-B2C-CLIENT-SECRET)
AZURE_AD_B2C_PRIMARY_USER_FLOW=B2C_1_signupsignin
AZURE_AD_B2C_SCOPE=openid profile email offline_access

# 啟用 Azure AD B2C (前端可見)
NEXT_PUBLIC_AZURE_AD_B2C_ENABLED=true

# ----------------------------------------------------------------------------
# Azure Blob Storage (使用 Key Vault 引用)
# ----------------------------------------------------------------------------
AZURE_STORAGE_ACCOUNT_NAME=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-STORAGE-ACCOUNT-NAME)
AZURE_STORAGE_ACCOUNT_KEY=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-STORAGE-ACCOUNT-KEY)
AZURE_STORAGE_CONNECTION_STRING=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-AZURE-STORAGE-CONNECTION-STRING)

# Blob Storage Containers (明文，非敏感)
AZURE_STORAGE_CONTAINER_QUOTES=quotes
AZURE_STORAGE_CONTAINER_INVOICES=invoices
AZURE_STORAGE_CONTAINER_PROPOSALS=proposals

# ----------------------------------------------------------------------------
# SendGrid Email 服務 (使用 Key Vault 引用)
# ----------------------------------------------------------------------------
SENDGRID_API_KEY=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-SENDGRID-API-KEY)
SENDGRID_FROM_EMAIL=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-SENDGRID-FROM-EMAIL)
SENDGRID_FROM_NAME=IT Project Management (Dev)

# ----------------------------------------------------------------------------
# Azure Cache for Redis (可選)
# ----------------------------------------------------------------------------
# REDIS_URL=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-REDIS-URL)
# 實際值範例: rediss://:PASSWORD@itpm-dev-redis.redis.cache.windows.net:6380

# ----------------------------------------------------------------------------
# Azure Application Insights (監控)
# ----------------------------------------------------------------------------
# APPLICATIONINSIGHTS_CONNECTION_STRING=@Microsoft.KeyVault(VaultName=YOUR_COMPANY_KV;SecretName=ITPM-DEV-APPINSIGHTS-CONNECTION-STRING)

# ----------------------------------------------------------------------------
# Feature Flags (明文，非敏感)
# ----------------------------------------------------------------------------
NEXT_PUBLIC_FEATURE_AI_ASSISTANT=false
NEXT_PUBLIC_FEATURE_EXTERNAL_INTEGRATION=false

# ============================================================================
# 注意事項
# ============================================================================
# 1. 將 YOUR_COMPANY_KV 替換為公司實際的 Key Vault 名稱
# 2. 所有 SecretName 需要由 Azure Infra Admin 在 Key Vault 中創建
# 3. App Service 需要啟用 Managed Identity 並授予 Key Vault 訪問權限
# 4. 完整密鑰列表請參考: docs/deployment/key-vault-secrets-list.md
# ============================================================================
