# Story 4.3: 主管在審批中要求更多資訊

## User Story

**身為** 部門主管,
**我想要** 在審核提案時有一個「要求更多資訊」的選項,
**以便** 我能在做出最終決定前，要求具體的澄清說明。

## 背景說明
審批過程並非總是線性的「是」或「否」。此功能引入了一個中間狀態，允許主管將提案退回給專案經理進行修改，從而實現了更靈活、更具互動性的審批流程，避免了因資訊不足而直接拒絕提案的情況。

## 技術規格 (初步建議)
*   **前端:**
    *   在提案詳情頁增加「需要更多資訊」按鈕。
    *   點擊後，應彈出一個對話框或表單，讓主管輸入評論/問題。
    *   一旦提案狀態變為 `More Information Required`，專案經理的視圖中，該提案的編輯功能應被重新啟用。
*   **後端:**
    *   需要一個 API 端點 (e.g., `PATCH /api/proposals/:id/request-info`)。
    *   該 API 需要接收主管的評論，並將其與提案關聯。
*   **資料庫:**
    *   `BudgetProposal` 狀態更新為 `More Information Required`。
    *   需要一個新的表 (e.g., `ProposalComments`) 來儲存溝通記錄，包含 `proposalId`, `userId`, `comment`, `timestamp`。

## 驗收標準
1.  假定我正在審核一個提案，我應該能看到一個「要求更多資訊」的按鈕，與「批准」和「拒絕」並存。
2.  當我點擊此按鈕時，提案的狀態應變為「需要更多資訊」。
3.  系統應提示我在一個文字欄位中輸入我的問題或評論，這些內容將被加到提案的溝通歷史中。
4.  必須向專案經理發送一個通知，其中包含我的評論，告知他們需要採取行動。
5.  一旦狀態變為「需要更多資訊」，專案經理應能再次編輯提案並重新提交以供審批。

## 技術債務考量
*   **暫不包含：** @提及 (mention) 功能或富文本 (rich text) 評論。評論將是純文本。
