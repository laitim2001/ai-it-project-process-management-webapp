# Story 5.3: 選擇最終供應商並記錄採購決策

## User Story

**身為** 專案經理,
**我想要** 從已上傳的報價單中，正式選擇一家最終合作的供應商，並在系統中記錄下這個決策,
**以便** 形成清晰的採購決策記錄。

## 背景說明
選擇最終供應商是採購流程中的一個關鍵決策點。此功能將該決策過程正式化、電子化。透過在系統中明確標記所選的供應商和報價，我們確保了採購決策的可追溯性，這對於後續的審計和費用管理至關重要。

## 技術規格 (初步建議)
*   **前端:** 在專案的報價單列表中，每個報價單旁邊應該有一個「選擇此供應商」的按鈕。
*   **後端:** 需要一個 API 端點 (e.g., `PATCH /api/projects/:id/select-vendor`)，該端點需要接收所選的 `quoteId` 或 `vendorId`。
*   **資料庫:** `projects` 表中需要一個欄位 (e.g., `selected_vendor_id` 或 `selected_quote_id`) 來記錄最終選擇。專案的狀態也可能需要更新（例如，從 `Approved` 更新為 `Procurement`）。

## 驗收標準
1.  假定我正在查看一個專案的報價單列表，列表中有多個來自不同供應商的報價。
2.  我應該能在每個報價單旁邊看到一個「選擇」或類似的按鈕。
3.  當我點擊某個報價單的「選擇」按鈕時，系統應提示我確認此選擇。
4.  確認後，該專案的狀態應更新，並明確標記出哪家供應商被選中。
5.  一旦供應商被選定，其他報價單的「選擇」按鈕應被禁用，以防止重複選擇。

## 技術債務考量
*   **暫不包含：** 複雜的決策理由記錄表單。MVP 階段僅記錄選擇結果。
*   **未來考慮：** 增加一個欄位讓使用者填寫選擇該供應商的具體原因。
