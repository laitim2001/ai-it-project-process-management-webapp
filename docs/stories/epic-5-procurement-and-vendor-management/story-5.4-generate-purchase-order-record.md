# Story 5.4: 生成採購單 (Purchase Order) 記錄

## User Story

**身為** 專案經理,
**當最終供應商被選定後，我希望** 系統能基於所選的報價和專案資訊，自動生成一個正式的「採購單」記錄,
**以便** 我能據此進行後續的採購執行和費用追蹤。

## 背景說明
採購單 (PO) 是採購流程的正式產物。此功能將取代手動創建 PO 文件或記錄的做法。透過在系統內生成一個結構化的 PO 記錄，我們不僅標準化了格式，也為後續的費用報銷 (Expense) 和財務對接 (Charge Out) 流程提供了直接的數據關聯，打通了從決策到執行的數據鏈路。

## 技術規格 (初步建議)
*   **前端:** 當供應商被選定後，專案頁面應顯示一個「生成採購單」的按鈕，或自動跳轉到一個 PO 預覽頁面。
*   **後端:** 需要一個 API 端點 (e.g., `POST /api/projects/:id/purchase-orders`) 來創建 PO 記錄。後端邏輯需要從關聯的專案、報價、供應商資訊中提取數據來填充 PO。
*   **資料庫:** 需要一個新的 `purchase_orders` 表，包含 `id`, `projectId`, `vendorId`, `po_number`, `date`, `items`, `total_amount` 等欄位。

## 驗收標準
1.  假定一個專案已經選定了最終供應商。
2.  我應該能觸發一個「生成採購單」的操作。
3.  系統應自動創建一個新的採購單記錄，其中應包含專案名稱、選定的供應商資訊、以及從報價單中帶來的金額等資訊。
4.  每個生成的採購單都應該有一個唯一的、可追蹤的編號。
5.  我應該能夠在專案詳情頁查看到已生成的採購單記錄。

## 技術債務考量
*   **暫不包含：** 生成可列印的、格式精美的 PDF 採購單文件。MVP 階段只關注在系統內創建結構化的數據記錄。
*   **未來考慮：** 整合 PDF 生成服務，提供標準格式的採購單文件下載功能。
