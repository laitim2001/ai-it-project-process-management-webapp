# Story 8.1: 設置電子郵件通知服務

## User Story

**身為** 開發團隊,
**我想要** 整合一個可靠的電子郵件發送服務，並建立一個通用的郵件發送模組,
**以便** 平台能在各種需要通知的場景下，穩定、高效地自動發送電子郵件。

## 背景說明
自動化通知是確保工作流程順暢流轉的關鍵。如果沒有自動提醒，使用者就需要手動檢查狀態或依賴線下溝通，這會大大降低平台的效率。此故事旨在建立整個通知系統的技術基礎。我們需要選擇一個外部郵件服務提供商，並在後端程式碼中封裝一個可重用的服務，讓其他模組（如審批、費用管理）可以輕易地調用它來發送郵件。

## 技術規格 (初步建議)
*   **後端:**
    *   需要選擇並註冊一個第三方郵件發送服務 (e.g., SendGrid, Amazon SES, Mailgun)。
    *   在後端應用中建立一個 `NotificationService` 或 `EmailService`。
    *   該服務應封裝與第三方服務 API 的所有互動。
    *   需要一個方法，例如 `sendEmail(to, subject, body)`，供其他服務調用。
    *   API 金鑰等敏感憑證必須透過環境變數進行管理，絕不能硬編碼。
*   **設計:** 需要設計幾個基礎的郵件範本（例如，通用通知範本）。

## 驗收標準
1.  開發環境中已配置好郵件服務的 API 金鑰（可使用測試金鑰）。
2.  後端程式碼中存在一個可重用的 `EmailService`。
3.  能夠透過一個內部 API 或腳本，成功觸發郵件服務並向指定信箱發送一封測試郵件。
4.  發送的郵件內容和格式應與預設的範本一致。
5.  郵件發送失敗時，系統應能捕捉到錯誤並記錄日誌，而不會導致主應用程式崩潰。

## 技術債務考量
*   **暫不包含：** 複雜的郵件範本系統、使用者自訂通知偏好設定、站內信通知。MVP 階段只關注核心的、基於事件觸發的電子郵件通知。
*   **未來考慮：** 建立一個完整的通知中心，讓使用者可以管理他們的通知設定（例如，選擇接收哪些通知，或合併每日摘要郵件）。
