# Story 9.1: 在提案階段提供智慧建議

## User Story

**身為** 專案經理,
**我想要** 在撰寫「預算提案」時，系統能基於歷史數據，提供智慧建議,
**以便** 我能更快地寫出更高品質、更有說服力的提案。

## 背景說明
提案撰寫是專案的起點，但往往耗時且依賴個人經驗。此功能旨在將整個組織的隱性知識轉化為顯性建議，賦能每一位專案經理。AI 助理將扮演一個「資深顧問」的角色，透過分析過去成功的專案，為主動提供數據支持的建議，從而提高提案的一次性通過率，並縮短整個審批週期。

## 技術規格 (初步建議)
*   **前端:** 在「預算提案」的撰寫表單中，關鍵欄位（如 ROI、預算金額、供應商）旁邊應有圖標或提示，點擊後可觸發 AI 建議。建議內容可以以非侵入式的方式（如 tooltip 或側邊欄）顯示。
*   **後端:**
    *   需要一個新的 API 端點 (e.g., `POST /api/proposals/suggestions`)，接收當前提案的部分內容。
    *   後端需要一個 `SuggestionService`，該服務會查詢歷史專案數據，並透過一個大型語言模型 (LLM) API (如 OpenAI GPT系列) 來生成建議。
    *   Prompt Engineering 將是此功能的關鍵，需要設計結構化的 prompt 以獲取穩定、相關的建議。
*   **資料庫:** 需要對 `projects` 和 `budget_proposals` 表進行讀取和分析。

## 驗收標準
1.  假定我正在填寫一個新的預算提案表單。
2.  當我填寫「專案描述」後，系統應能提供關於預估 ROI 的建議範圍。
3.  當我需要選擇供應商時，系統應能根據專案類型，推薦 2-3 個歷史合作記錄良好的供應商。
4.  所有 AI 生成的建議都必須被明確標記為「AI 建議」，並允許使用者選擇採納或忽略。
5.  AI 建議的生成過程不應阻塞使用者介面，應以異步方式在背景加載。

## 技術債務考量
*   **暫不包含：** AI 模型微調 (Fine-tuning)。MVP 階段將依賴通用的 LLM 和精心設計的 prompt。
*   **未來考慮：** 收集使用者對建議的採納率數據，用於未來對模型進行微調，以提高建議的準確性。
