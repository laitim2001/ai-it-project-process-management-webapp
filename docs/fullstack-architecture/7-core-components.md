# 7. 核心元件 (Core Components)

本節定義了構成應用的主要邏輯和功能區塊。

### 7.1. 後端元件 (`packages/`)

*   **`api` (tRPC API):**
    *   **職責:** 處理所有傳入的 API 請求，執行業務邏輯，並與數據庫互動。這是應用的「大腦」。
*   **`db` (Prisma):**
    *   **職責:** 定義數據庫 schema，提供類型安全的資料庫客戶端。這是數據的「單一事實來源」。
*   **`auth` (Authentication):**
    *   **職責:** 封裝所有與 **Azure AD B2C** 的互動，包括使用者登入、登出、會話管理。

### 7.2. 前端元件 (`apps/web/`)

*   **`components/` (UI 元件):**
    *   **職責:** 包含可重用的、無狀態的 UI 元件（如 Button, Card, Input）。這些元件將構成我們應用的視覺基礎。
*   **`features/` (功能元件):**
    *   **職責:** 包含與特定業務功能相關的、更複雜的元件。例如，`ProjectForm` 元件將包含創建一個新專案的完整表單邏輯。
*   **`hooks/` (自訂 Hooks):**
    *   **職責:** 包含可重用的前端邏輯，例如 `useCurrentUser()` 用於獲取當前使用者資訊。
*   **`lib/` (函式庫功能):**
    *   **職責:** 包含前端的輔助函式，最重要的是 tRPC 客戶端的設定 (`lib/trpc.ts`)。
*   **`app/` (頁面與路由):**
    *   **職責:** 遵循 Next.js App Router 的規範，定義應用的所有頁面和路由結構。每個頁面都會組合 `components/` 和 `features/` 中的元件來構建 UI。
