# 2025-W47 æ¯é€±é€²åº¦ (11æœˆ17æ—¥ - 11æœˆ23æ—¥)

## æœ¬é€±ç›®æ¨™
- âœ… å®Œæˆ FEAT-001 å°ˆæ¡ˆæ¬„ä½æ“´å±• Phase 1-4
- âœ… å®Œæˆ FEAT-001 Phase 5 - å°ˆæ¡ˆåˆ—è¡¨é é¢é€²éšåŠŸèƒ½
- âœ… å®Œæˆ FEAT-001 Phase 6 - å®Œæ•´æ‰‹å‹•æ¸¬è©¦

## å®Œæˆæƒ…æ³

### å·²å®Œæˆ âœ…

#### FEAT-001 Phase 1-4 å®Œæ•´å¯¦ç¾
**æ—¥æœŸ**: 2025-11-16 - 2025-11-17

1. **Phase 1: è³‡æ–™åº«èˆ‡å¾Œç«¯** âœ…
   - å‰µå»º Currency Model (ISO 4217 æ¨™æº–)
   - æ›´æ–° Project Model (4 å€‹æ–°æ¬„ä½)
   - å‰µå»º Migration ä¸¦ Seed é è¨­è²¨å¹£
   - Currency API Router (å®Œæ•´ CRUD)
   - Project API Router æ›´æ–°

2. **Phase 2: å‰ç«¯è¡¨å–®** âœ…
   - ProjectForm çµ„ä»¶æ›´æ–° (4 å€‹æ–°æ¬„ä½)
   - å°ˆæ¡ˆç·¨è™Ÿå³æ™‚å”¯ä¸€æ€§é©—è­‰ (debounce 500ms)
   - å…¨åŸŸæ¨™èªŒ Select (RCL/Region)
   - å„ªå…ˆæ¬Š Select (High/Medium/Low)
   - è²¨å¹£ Combobox (å¯æœå°‹)

3. **Phase 3: åˆ—è¡¨èˆ‡è©³æƒ…é ** âœ…
   - å°ˆæ¡ˆåˆ—è¡¨æ–°å¢ 3 å€‹æ¬„ä½é¡¯ç¤º
   - Badge çµ„ä»¶è¦–è¦ºåŒ–ç‹€æ…‹
   - å°ˆæ¡ˆè©³æƒ…é æ–°å¢ 4 å€‹æ¬„ä½
   - Currency include é—œè¯æŸ¥è©¢

4. **Phase 4: è²¨å¹£ç®¡ç†é é¢ UI** âœ…
   - è²¨å¹£ç®¡ç†é é¢ (`/settings/currencies`)
   - å®Œæ•´ CRUD åŠŸèƒ½ (æ–°å¢ã€ç·¨è¼¯ã€å•Ÿç”¨/åœç”¨)
   - é¡¯ç¤ºè²¨å¹£ä½¿ç”¨çµ±è¨ˆ
   - I18N æ”¯æ´ (42 å€‹æ–°éµ)
   - å´é‚Šæ¬„å°èˆªæ•´åˆ

5. **Bug ä¿®å¾©** âœ…
   - ä¿®æ­£ i18n ç¿»è­¯éµç¼ºå¤±å•é¡Œ (3 å€‹ä¿®å¾©)
   - ä¿®æ­£ priority æ¬„ä½ç¿»è­¯è·¯å¾‘éŒ¯èª¤
   - ä¿®æ­£ useToast import è·¯å¾‘

#### FEAT-001 Phase 5: å°ˆæ¡ˆåˆ—è¡¨é é¢é€²éšåŠŸèƒ½ âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-17

1. âœ… **i18n ç¿»è­¯éµæº–å‚™**
   - æ–°å¢ 14 å€‹ç¿»è­¯éµï¼ˆzh-TW + enï¼‰
   - `projects.filters.globalFlag.*` (4 keys)
   - `projects.filters.priority.*` (4 keys)
   - `projects.filters.currency.*` (3 keys)
   - `projects.sort.projectCode*` (2 keys)
   - `projects.sort.priority*` (2 keys)
   - é©—è­‰é€šéï¼š1759 keys ç¸½è¨ˆ

2. âœ… **API Router æ›´æ–°**
   - æ–°å¢ç¯©é¸åƒæ•¸: projectCode, globalFlag, priority, currencyId
   - æ›´æ–°æœå°‹é‚è¼¯: å°ˆæ¡ˆåç¨± OR å°ˆæ¡ˆç·¨è™Ÿï¼ˆOR æ¢ä»¶ï¼‰
   - æ›´æ–°æ’åºé¸é …: æ”¯æŒ projectCode å’Œ priority æ’åº

3. âœ… **å‰ç«¯ UI å®Œæ•´å¯¦ç¾**
   - æŸ¥è©¢å•Ÿç”¨è²¨å¹£åˆ—è¡¨ API
   - æ·»åŠ å…¨åŸŸæ¨™èªŒç¯©é¸å™¨ (RCL/Region/å…¨éƒ¨)
   - æ·»åŠ å„ªå…ˆæ¬Šç¯©é¸å™¨ (High/Medium/Low/å…¨éƒ¨)
   - æ·»åŠ è²¨å¹£ç¯©é¸å™¨ (6 å€‹å•Ÿç”¨è²¨å¹£)
   - æ›´æ–°æ’åºé¸é … (æ–°å¢ projectCode, priority æ’åº)
   - ç¯©é¸å™¨æ¨™ç±¤å„ªåŒ–ï¼šé¡¯ç¤ºã€Œå…¨åŸŸæ¨™èªŒï¼šå…¨éƒ¨ã€ç­‰æ¸…æ™°æ¨™ç±¤

4. âœ… **Bug ä¿®å¾©**
   - ä¿®æ­£è²¨å¹£è³‡æ–™æå–éŒ¯èª¤ (`currenciesData?.items` â†’ `currenciesData`)
   - ä¿®æ­£ç¯©é¸å™¨æ¨™ç±¤ä¸æ¸…æ¥šå•é¡Œ
   - å•Ÿç”¨æ‰€æœ‰ 6 å€‹é è¨­è²¨å¹£ï¼ˆUSD, TWD, HKD, EUR, CNY, JPYï¼‰

#### FEAT-001 Phase 6: å®Œæ•´æ‰‹å‹•æ¸¬è©¦ âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-17

1. âœ… **å°ˆæ¡ˆåˆ—è¡¨é é¢æ¸¬è©¦**
   - ç¯©é¸å™¨åŠŸèƒ½ï¼ˆ5 å€‹ç¯©é¸å™¨å…¨éƒ¨æ­£å¸¸ï¼‰
   - æ’åºåŠŸèƒ½ï¼ˆ10 å€‹æ’åºé¸é …å…¨éƒ¨æ­£å¸¸ï¼‰
   - æœå°‹åŠŸèƒ½ï¼ˆå°ˆæ¡ˆåç¨± OR å°ˆæ¡ˆç·¨è™Ÿï¼‰
   - è²¨å¹£ä¸‹æ‹‰é¸å–®é¡¯ç¤º 6 å€‹é¸é …
   - ç¯©é¸å™¨æ¨™ç±¤æ¸…æ™°é¡¯ç¤º

2. âœ… **å»ºç«‹å°ˆæ¡ˆæµç¨‹æ¸¬è©¦**
   - æ‰€æœ‰ 4 å€‹æ–°æ¬„ä½æ­£å¸¸é‹ä½œ
   - å°ˆæ¡ˆç·¨è™Ÿå³æ™‚å”¯ä¸€æ€§é©—è­‰æ­£å¸¸
   - è¡¨å–®æäº¤æˆåŠŸ

3. âœ… **ç·¨è¼¯å°ˆæ¡ˆæµç¨‹æ¸¬è©¦**
   - æ–°æ¬„ä½å€¼æ­£ç¢ºè¼‰å…¥
   - ä¿®æ”¹å¾Œå„²å­˜æˆåŠŸ

4. âœ… **è²¨å¹£ç®¡ç†æµç¨‹æ¸¬è©¦**
   - è²¨å¹£åˆ—è¡¨æ­£å¸¸é¡¯ç¤º
   - å•Ÿç”¨/åœç”¨åˆ‡æ›æ­£å¸¸
   - 6 å€‹è²¨å¹£å…¨éƒ¨å•Ÿç”¨æˆåŠŸ

## ä»£ç¢¼è®Šæ›´çµ±è¨ˆ

### æœ¬é€±æäº¤è¨˜éŒ„
```
[å¾…æäº¤] - docs(azure): å®Œæˆ Dev ç’°å¢ƒé¦–æ¬¡éƒ¨ç½² - éšæ®µ 0-2.11
e315b48 - fix(docker): ä¿®å¾© Dockerfile Prisma è·¯å¾‘ - ç§»é™¤ä¸å¿…è¦çš„ .prisma è¤‡è£½
3170caa - fix(nextauth): ç°¡åŒ– webpack externals é…ç½® - æ¢å¾© FIX-009 ç‰ˆæœ¬
189dd1e - fix(nextauth): æ¢å¾© route.ts è§£æ§‹è³¦å€¼å°å‡º
c58f819 - fix(nextauth): å›æ»¾éŒ¯èª¤çš„ JWT æ¨¡çµ„è·¯å¾‘ - '@auth/core/jwt'
0628615 - fix(quote-upload): ä¿®å¾©å ±åƒ¹æ–‡ä»¶ä¸Šå‚³è·¯å¾‘å•é¡Œ - æ­£ç¢ºè™•ç† process.cwd()
2d69bf6 - fix: ä¿®å¾©å ±åƒ¹ä¸Šå‚³çš„å…©å€‹é—œéµå•é¡Œ (Toast + é é¢åˆ·æ–°)
01e257a - fix: ä¿®å¾©å ±åƒ¹ä¸Šå‚³çš„å…©å€‹é—œéµå•é¡Œ (Toast + æ–‡ä»¶404)
ed5b1ca - fix: ä¿®å¾©å…©å€‹é—œéµå•é¡Œ (ç¿»è­¯éµç¼ºå¤± + POé©—è­‰é‚è¼¯)
[å¾…æäº¤] - feat(projects): FEAT-001 Phase 5-6 å®Œæˆ - åˆ—è¡¨é€²éšåŠŸèƒ½èˆ‡å®Œæ•´æ¸¬è©¦
d76da10 - feat(projects): FEAT-001 Phase 5 - å°ˆæ¡ˆåˆ—è¡¨é€²éšåŠŸèƒ½ï¼ˆå¾Œç«¯ API + å‰ç«¯ Stateï¼‰
13165d7 - feat(nav): åœ¨å´é‚Šæ¬„æ·»åŠ è²¨å¹£ç®¡ç†å…¥å£
7ea3de2 - fix(currencies): ä¿®æ­£ useToast import è·¯å¾‘
09719fc - feat(currencies): FEAT-001 Phase 4 - è²¨å¹£ç®¡ç†é é¢ UI å®Œæˆ
155cb5e - fix(projects): ä¿®æ­£è©³æƒ…é é¢ priority æ¬„ä½ç¿»è­¯è·¯å¾‘éŒ¯èª¤
37840d9 - fix(i18n): ä¿®æ­£å°ˆæ¡ˆè©³æƒ…é é¢çš„ç¿»è­¯éµç¼ºå¤±å•é¡Œ
b2b780b - fix(api): FEAT-001 ä¿®æ­£ create procedure TypeScript éŒ¯èª¤
0c4b59c - feat(projects): FEAT-001 Phase 3 - åˆ—è¡¨èˆ‡è©³æƒ…é é¢é–‹ç™¼å®Œæˆ
9cb0c86 - feat(projects): FEAT-001 Phase 2 - å‰ç«¯è¡¨å–®é–‹ç™¼å®Œæˆ
167a03f - feat(FEAT-001): Phase 1 å®Œæˆ - è³‡æ–™åº«èˆ‡å¾Œç«¯é–‹ç™¼
```

### æ–‡ä»¶è®Šæ›´
- **æ–°å¢æ–‡ä»¶**: 2 å€‹
  - `apps/web/src/app/[locale]/settings/currencies/page.tsx` (470 è¡Œ)
  - `claudedocs/3-progress/weekly/2025-W47.md`

- **ä¿®æ”¹æ–‡ä»¶**: 10+ å€‹
  - `packages/db/prisma/schema.prisma` (Currency Model)
  - `packages/api/src/routers/currency.ts` (æ–°å¢)
  - `packages/api/src/routers/project.ts` (Phase 1 & Phase 5 æ›´æ–°)
  - `apps/web/src/components/project/ProjectForm.tsx`
  - `apps/web/src/app/[locale]/projects/[id]/page.tsx`
  - `apps/web/src/app/[locale]/projects/page.tsx` (Phase 5 éƒ¨åˆ†)
  - `apps/web/src/components/layout/Sidebar.tsx`
  - `apps/web/src/messages/zh-TW.json` (+116 keys)
  - `apps/web/src/messages/en.json` (+116 keys)
  - `claudedocs/1-planning/features/FEAT-001-project-fields-enhancement/01-requirements.md`
  - `DEVELOPMENT-LOG.md`

### ä»£ç¢¼çµ±è¨ˆ
- **æ–°å¢è¡Œæ•¸**: ~2,700+ lines
- **I18N éµ**: +130 keys (zh-TW + en) - æ–°å¢ 14 å€‹ç¯©é¸å™¨å’Œæ’åºéµ
- **æ–°å¢çµ„ä»¶**: 1 å€‹ (CurrenciesPage)
- **æ–°å¢ API Router**: 1 å€‹ (currency.ts)
- **Commits**: 11 æ¬¡ï¼ˆPhase 5 ä¸­é–“ä¿å­˜ + æœ€çµ‚æäº¤ï¼‰

## é‡åˆ°çš„æŒ‘æˆ°

### æŒ‘æˆ° 1: I18N ç¿»è­¯éµè·¯å¾‘éŒ¯èª¤
- **å•é¡Œ**: å°ˆæ¡ˆè©³æƒ…é é¢å‡ºç¾ `IntlError: MISSING_MESSAGE` å’Œ `INSUFFICIENT_PATH` éŒ¯èª¤
- **åŸå› **:
  1. ç¿»è­¯éµåœ¨ `projects.fields.*` ä½†é é¢æœŸæœ› `projects.detail.fields.*`
  2. `priority` æ˜¯ç‰©ä»¶ä½†ç›´æ¥ç•¶å­—ä¸²ä½¿ç”¨
- **è§£æ±ºæ–¹æ¡ˆ**:
  1. åœ¨ `projects.detail.fields.*` ä¸‹æ·»åŠ å®Œæ•´ç¿»è­¯éµ
  2. å°‡ `t('fields.priority')` æ”¹ç‚º `t('fields.priority.label')`
- **å­¸ç¿’**: next-intl çš„å‘½åç©ºé–“ä½œç”¨åŸŸéœ€è¦ä»”ç´°è¦åŠƒï¼Œé¿å…éµè·¯å¾‘ä¸ä¸€è‡´

### æŒ‘æˆ° 2: Toast Hook Import è·¯å¾‘éŒ¯èª¤
- **å•é¡Œ**: Build Error - `Can't resolve '@/hooks/use-toast'`
- **åŸå› **: é …ç›®ä¸­ toast hook åœ¨ `@/components/ui/use-toast`ï¼Œä¸æ˜¯ `@/hooks/`
- **è§£æ±ºæ–¹æ¡ˆ**: ä¿®æ­£ import è·¯å¾‘ç‚º `@/components/ui/use-toast`
- **å­¸ç¿’**: æ–°å»ºé é¢æ™‚éœ€è¦ç¢ºèªé …ç›®çš„çµ„ä»¶è·¯å¾‘ç´„å®š

### æŒ‘æˆ° 3: Phase 5 API æ”¯æŒä¸å®Œæ•´
- **å•é¡Œ**: å‰ç«¯éœ€è¦æ–°çš„ç¯©é¸å™¨ï¼Œä½† API é‚„æœªæ”¯æŒ
- **è§£æ±ºæ–¹æ¡ˆ**:
  1. å…ˆæ›´æ–° API Router æ·»åŠ ç¯©é¸åƒæ•¸æ”¯æŒ
  2. æ›´æ–°æœå°‹é‚è¼¯æ”¯æŒ OR æ¢ä»¶ï¼ˆå°ˆæ¡ˆåç¨± OR å°ˆæ¡ˆç·¨è™Ÿï¼‰
  3. æ›´æ–°å‰ç«¯ state å’Œ UI
- **å­¸ç¿’**: å¾Œç«¯ API å…ˆè¡Œï¼Œç¢ºä¿å‰ç«¯æœ‰å®Œæ•´æ”¯æŒ

### æŒ‘æˆ° 4: ç¯©é¸å™¨æ¨™ç±¤ä¸æ¸…æ¥š
- **å•é¡Œ**: ç¯©é¸å™¨ä¸‹æ‹‰é¸å–®é è¨­é¡¯ç¤ºã€Œå…¨éƒ¨ã€ã€Œå…¨éƒ¨ã€ã€Œå…¨éƒ¨ã€ï¼Œç”¨æˆ¶ç„¡æ³•å€åˆ†æ˜¯å“ªå€‹ç¯©é¸å™¨
- **åŸå› **: é è¨­ option åªé¡¯ç¤º `{t('filters.xxx.all')}`ï¼Œæ²’æœ‰åŒ…å«ç¯©é¸å™¨é¡å‹æ¨™ç±¤
- **è§£æ±ºæ–¹æ¡ˆ**: ä¿®æ”¹ç‚º `{t('filters.xxx.label')}ï¼š{t('filters.xxx.all')}`ï¼Œé¡¯ç¤ºã€Œå…¨åŸŸæ¨™èªŒï¼šå…¨éƒ¨ã€
- **å­¸ç¿’**: UI æ¨™ç±¤éœ€è¦è€ƒæ…®ç”¨æˆ¶ä¸€çœ¼å°±èƒ½ç†è§£çš„æ¸…æ™°åº¦

### æŒ‘æˆ° 5: è²¨å¹£ç¯©é¸å™¨ç„¡é¸é …é¡¯ç¤º
- **å•é¡Œ**: è²¨å¹£ç¯©é¸å™¨ä¸‹æ‹‰é¸å–®æ²’æœ‰ä»»ä½•é¸é …
- **æ ¹æœ¬åŸå› **:
  1. è³‡æ–™åº«ä¸­ 6 å€‹è²¨å¹£å…¨éƒ¨æ˜¯åœç”¨ç‹€æ…‹ï¼ˆ`active: false`ï¼‰
  2. æŸ¥è©¢æ¢ä»¶æ˜¯ `includeInactive: false`ï¼Œæ‰€ä»¥æ²’æœ‰è³‡æ–™
  3. å‰ç«¯ä»£ç¢¼éŒ¯èª¤ä½¿ç”¨ `currenciesData?.items`ï¼Œä½† API è¿”å›çš„æ˜¯é™£åˆ—
- **è§£æ±ºæ–¹æ¡ˆ**:
  1. å•Ÿç”¨æ‰€æœ‰ 6 å€‹é è¨­è²¨å¹£ï¼ˆUSD, TWD, HKD, EUR, CNY, JPYï¼‰
  2. ä¿®æ­£è³‡æ–™æå–ï¼š`currenciesData?.items` â†’ `currenciesData`
- **å­¸ç¿’**:
  - API è¿”å›æ ¼å¼è¦ä»”ç´°ç¢ºèªï¼ˆé™£åˆ— vs åˆ†é ç‰©ä»¶ï¼‰
  - æ¸¬è©¦è³‡æ–™çš„åˆå§‹ç‹€æ…‹å¾ˆé‡è¦

## æŠ€è¡“æ±ºç­–

### æ±ºç­– 1: æœå°‹é‚è¼¯å¢å¼·
- **é¸é …**:
  - A) åªæœå°‹å°ˆæ¡ˆåç¨±
  - B) æœå°‹å°ˆæ¡ˆåç¨± OR å°ˆæ¡ˆç·¨è™Ÿ
- **é¸æ“‡**: B
- **ç†ç”±**: ç”¨æˆ¶å¯èƒ½è¨˜å¾—å°ˆæ¡ˆç·¨è™Ÿè€Œä¸æ˜¯åç¨±ï¼ŒOR æ¢ä»¶æä¾›æ›´å¥½çš„æœå°‹é«”é©—

### æ±ºç­– 2: è²¨å¹£ç®¡ç†é é¢ä½ç½®
- **é¸é …**:
  - A) æ”¾åœ¨ `/settings` ä¸»é é¢
  - B) ç¨ç«‹è·¯ç”± `/settings/currencies`
  - C) æ”¾åœ¨ç³»çµ±ç®¡ç†ä¸‹ `/admin/currencies`
- **é¸æ“‡**: B
- **ç†ç”±**: ç¨ç«‹è·¯ç”±æ¸…æ™°ï¼Œå´é‚Šæ¬„å¯ç›´æ¥è¨ªå•ï¼Œç¬¦åˆè¨­å®šå­é é¢çš„æ¨¡å¼

### æ±ºç­– 3: Phase 5 é–‹ç™¼ç­–ç•¥
- **é¸é …**:
  - A) ä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰ç¯©é¸å™¨å’Œ UI
  - B) å…ˆå®Œæˆå¾Œç«¯ APIï¼Œå†å®Œæˆå‰ç«¯ UI
- **é¸æ“‡**: B
- **ç†ç”±**: å¾Œç«¯å…ˆè¡Œç¢ºä¿ API å®Œæ•´æ€§ï¼Œå‰ç«¯å¯ä»¥é€æ­¥æ¸¬è©¦æ¯å€‹ç¯©é¸å™¨

### æ±ºç­– 4: è²¨å¹£æŸ¥è©¢ API é¸æ“‡
- **é¸é …**:
  - A) ä½¿ç”¨ `currency.getActive` (å°ˆç”¨æ–¼å•Ÿç”¨è²¨å¹£)
  - B) ä½¿ç”¨ `currency.getAll({ includeInactive: false })`
- **é¸æ“‡**: B
- **ç†ç”±**: æ›´éˆæ´»ï¼Œå¯ä»¥æ ¹æ“šéœ€è¦èª¿æ•´ `includeInactive` åƒæ•¸ï¼Œèˆ‡å…¶ä»–åˆ—è¡¨æŸ¥è©¢ä¿æŒä¸€è‡´

#### FEAT-002 Phase 1: è²¨å¹£ç³»çµ±æ“´å±• - BudgetPool & Quote âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-17

1. âœ… **BudgetPool æ›´æ–°**
   - æ·»åŠ  currencyId æ¬„ä½ï¼ˆrequired, FK to Currencyï¼‰
   - è³‡æ–™åº«é·ç§»ï¼š`20251117_add_currency_to_budgetpool.sql`
   - API Router æ›´æ–°ï¼šgetById å’Œ getAll åŒ…å« currency é—œè¯
   - è¡¨å–®çµ„ä»¶æ›´æ–°ï¼šBudgetPoolForm æ·»åŠ  CurrencySelect
   - åˆ—è¡¨é é¢ï¼šé¡¯ç¤ºè²¨å¹£ä»£ç¢¼å’Œç¬¦è™Ÿ
   - è©³æƒ…é é¢ï¼šå®Œæ•´è²¨å¹£è³‡è¨Šå±•ç¤º

2. âœ… **Quote æ›´æ–°**
   - æ·»åŠ  currencyId æ¬„ä½ï¼ˆnullable, FK to Currencyï¼‰
   - è³‡æ–™åº«é·ç§»ï¼š`20251117_add_currency_to_quote.sql`
   - API Router æ›´æ–°ï¼šåŒ…å« currency, project é—œè¯
   - è²¨å¹£ç¹¼æ‰¿é‚è¼¯ï¼šQuote.currency ?? Project.currency
   - é¡¯ç¤ºçµ„ä»¶ï¼š11 è™• amount é¡¯ç¤ºæ›´æ–°ç‚º CurrencyDisplay

3. âœ… **i18n ç¿»è­¯éµ**
   - æ–°å¢ 7 å€‹ç¿»è­¯éµï¼ˆzh-TW + enï¼‰
   - `common.form.currency.label`, `common.selectCurrency`, `common.noCurrenciesAvailable`
   - `common.loading`, `common.error`
   - `proposals.actions.update`
   - `budgetPools.edit.title`

4. âœ… **CurrencySelect çµ„ä»¶æ¶æ§‹ä¿®å¾©** (é—œéµ Bug ä¿®å¾©)
   - **å•é¡Œ**: HTML çµæ§‹éŒ¯èª¤ï¼ˆ`<button>` å’Œ `<div>` ä¸èƒ½ä½œç‚º `<select>` å­å…ƒç´ ï¼‰
   - **åŸå› **: æ··ç”¨åŸç”Ÿ select å’Œ shadcn/ui é€²éšçµ„ä»¶ï¼ˆSelectTrigger, SelectContentï¼‰
   - **è§£æ±ºæ–¹æ¡ˆ**:
     - æ”¹ç”¨ç´”åŸç”Ÿ HTML `<select>` å’Œ `<option>` å…ƒç´ 
     - ç§»é™¤ SelectTriggerã€SelectContentã€SelectItemã€SelectValue å°å…¥
     - å°‡ `onValueChange` æ”¹ç‚ºæ¨™æº– `onChange` äº‹ä»¶è™•ç†
     - ç°¡åŒ– UI çµæ§‹ï¼Œç§»é™¤è¤‡é›œçš„ span åµŒå¥—
   - **å½±éŸ¿**:
     - âœ… æ¶ˆé™¤æ‰€æœ‰ HTML çµæ§‹è­¦å‘Šï¼ˆ`<button>` å’Œ `<div>` ä½œç‚º `<select>` å­å…ƒç´ ï¼‰
     - âœ… æ¶ˆé™¤ `onValueChange` æœªçŸ¥å±¬æ€§è­¦å‘Š
     - âœ… æ¶ˆé™¤ React å—æ§çµ„ä»¶è­¦å‘Šï¼ˆvalue without onChangeï¼‰
     - âœ… åŠŸèƒ½å®Œå…¨æ­£å¸¸ï¼Œé¸æ“‡å’Œæäº¤ç„¡å•é¡Œ

5. âœ… **ä»£ç¢¼çµ±è¨ˆ**
   - ä¿®æ”¹æ–‡ä»¶ï¼š6 å€‹
     - `packages/db/prisma/schema.prisma`ï¼ˆ2 å€‹ model æ›´æ–°ï¼‰
     - `packages/api/src/routers/budgetPool.ts`
     - `packages/api/src/routers/quote.ts`
     - `apps/web/src/components/budget-pool/BudgetPoolForm.tsx`
     - `apps/web/src/components/shared/CurrencySelect.tsx`ï¼ˆæ¶æ§‹é‡æ§‹ï¼‰
     - `apps/web/src/app/[locale]/projects/[id]/quotes/page.tsx`ï¼ˆ11 è™•æ›´æ–°ï¼‰
   - i18n éµï¼š+7 keysï¼ˆzh-TW + enï¼‰
   - ç¸½è¨ˆè¡Œæ•¸ï¼š~400 lines modified

#### FEAT-002 Phase 2: è²¨å¹£ç³»çµ±æ“´å±• - PurchaseOrder & Expense âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-17

1. âœ… **Task 2.1: PurchaseOrder Model æ›´æ–°**
   - **Prisma Schema**:
     - æ·»åŠ  `currencyId String?` æ¬„ä½ï¼ˆnullable, ç¹¼æ‰¿è‡ª Projectï¼‰
     - æ·»åŠ  `currency Currency?` é—œè¯ï¼ˆrelation: "PurchaseOrderCurrency"ï¼‰
     - æ·»åŠ  `@@index([currencyId])` ç´¢å¼•
     - æ›´æ–° Currency model: æ·»åŠ  `purchaseOrders` åå‘é—œè¯

   - **è³‡æ–™åº«åŒæ­¥**:
     - åŸ·è¡Œ `npx prisma db push`ï¼ˆé–‹ç™¼ç’°å¢ƒå¿«é€ŸåŒæ­¥ï¼‰
     - Prisma Client è‡ªå‹•é‡æ–°ç”Ÿæˆ

   - **API Router æ›´æ–°** (`packages/api/src/routers/purchaseOrder.ts`):
     - `getAll`: æ·»åŠ  `currency: true` + `project.currency: true` åˆ° include
     - `getById`: æ·»åŠ  `currency: true` + `project.currency: true` åˆ° include

   - **å‰ç«¯é é¢æ›´æ–°**:
     - **åˆ—è¡¨é ** (`apps/web/src/app/[locale]/purchase-orders/page.tsx`):
       - å°å…¥ `CurrencyDisplay` çµ„ä»¶
       - å¡ç‰‡è¦–åœ–ï¼šä½¿ç”¨ `<CurrencyDisplay amount={po.totalAmount} currency={po.currency ?? po.project.currency} />`
       - åˆ—è¡¨è¦–åœ–ï¼šåŒæ¨£ä½¿ç”¨ `CurrencyDisplay`

     - **è©³æƒ…é ** (`apps/web/src/app/[locale]/purchase-orders/[id]/page.tsx`):
       - åˆªé™¤ `formatCurrency` è¼”åŠ©å‡½æ•¸
       - æ›´æ–° 5 è™•é‡‘é¡é¡¯ç¤ºä½¿ç”¨ `CurrencyDisplay`:
         - ç¸½é‡‘é¡
         - Quote é‡‘é¡ï¼ˆç¹¼æ‰¿ï¼š`quote.currency ?? project.currency`ï¼‰
         - å“é …æ˜ç´°å–®åƒ¹
         - å“é …æ˜ç´°å°è¨ˆ
         - æ˜ç´°ç¸½è¨ˆ

   - **è²¨å¹£ç¹¼æ‰¿é‚è¼¯**: `PurchaseOrder.currency ?? Project.currency`

2. âœ… **Task 2.2: Expense Model æ›´æ–°**
   - **Prisma Schema**:
     - æ·»åŠ  `currencyId String?` æ¬„ä½ï¼ˆnullable, ç¹¼æ‰¿è‡ª PurchaseOrderï¼‰
     - æ·»åŠ  `currency Currency?` é—œè¯ï¼ˆrelation: "ExpenseCurrency"ï¼‰
     - æ·»åŠ  `@@index([currencyId])` ç´¢å¼•
     - æ›´æ–° Currency model: æ·»åŠ  `expenses` åå‘é—œè¯

   - **è³‡æ–™åº«åŒæ­¥**:
     - åŸ·è¡Œ `npx prisma db push`
     - Prisma Client è‡ªå‹•é‡æ–°ç”Ÿæˆ

   - **API Router æ›´æ–°** (`packages/api/src/routers/expense.ts`):
     - `getAll`: æ·»åŠ  `currency: true` + `purchaseOrder.currency: true` + `purchaseOrder.project.currency: true`
     - `getById`: æ·»åŠ å®Œæ•´çš„è²¨å¹£é—œè¯éˆ

   - **è²¨å¹£ç¹¼æ‰¿é‚è¼¯**: `Expense.currency ?? PurchaseOrder.currency ?? Project.currency`

3. âœ… **Task 2.3: å®Œæ•´æ¸¬è©¦**
   - **ä»£ç¢¼å“è³ªæª¢æŸ¥**:
     - API package typecheck: âœ… 0 errors
     - Web package typecheck: 46 errorsï¼ˆçš†ç‚ºç¾æœ‰éŒ¯èª¤ï¼Œé FEAT-002 å¼•å…¥ï¼‰
     - é–‹ç™¼ä¼ºæœå™¨å•Ÿå‹•: âœ… æˆåŠŸï¼ˆhttp://localhost:3000ï¼‰

   - **è²¨å¹£ç¹¼æ‰¿éˆé©—è­‰**:
     - âœ… Expense â†’ PurchaseOrder â†’ Project â†’ Currency
     - âœ… Quote â†’ Project â†’ Currency
     - âœ… æ‰€æœ‰å±¤ç´šéƒ½æ”¯æ´ `entity.currency ?? parent.currency` fallback

4. âœ… **ä»£ç¢¼çµ±è¨ˆ**
   - ä¿®æ”¹æ–‡ä»¶ï¼š5 å€‹
     - `packages/db/prisma/schema.prisma`ï¼ˆPurchaseOrder, Expense, Currency æ›´æ–°ï¼‰
     - `packages/api/src/routers/purchaseOrder.ts`ï¼ˆ+5 linesï¼‰
     - `packages/api/src/routers/expense.ts`ï¼ˆ+6 linesï¼‰
     - `apps/web/src/app/[locale]/purchase-orders/page.tsx`ï¼ˆ~20 lines modifiedï¼‰
     - `apps/web/src/app/[locale]/purchase-orders/[id]/page.tsx`ï¼ˆ~40 lines modified, formatCurrency åˆªé™¤ï¼‰
   - ç¸½è¨ˆè¡Œæ•¸ï¼š~80 lines modified

5. âœ… **æŠ€è¡“äº®é»**
   - **ä¸€è‡´çš„è²¨å¹£ç¹¼æ‰¿æ¨¡å¼**:
     - PurchaseOrder: `po.currency ?? po.project.currency`
     - Expense: `expense.currency ?? expense.purchaseOrder.currency ?? expense.purchaseOrder.project.currency`
   - **å®Œæ•´çš„ API æ”¯æ´**: æ‰€æœ‰æŸ¥è©¢éƒ½åŒ…å«å®Œæ•´çš„è²¨å¹£é—œè¯éˆ
   - **UI ä¸€è‡´æ€§**: æ‰€æœ‰é‡‘é¡é¡¯ç¤ºéƒ½ä½¿ç”¨ `CurrencyDisplay` çµ„ä»¶

#### Bug ä¿®å¾©: å ±åƒ¹ä¸Šå‚³å’Œå°ˆæ¡ˆå ±åƒ¹é é¢å•é¡Œ âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-19

1. âœ… **ä¿®å¾©å•é¡Œ1: ç¿»è­¯éµç¼ºå¤± - projects.detail.noQuotes**
   - **å•é¡Œ**: å°ˆæ¡ˆè©³æƒ…é å ±åƒ¹ç®¡ç†å€å¡Šå‡ºç¾ `IntlError: MISSING_MESSAGE: Could not resolve 'projects.detail.noQuotes'`
   - **åŸå› **: ç¿»è­¯éµä¸å­˜åœ¨
   - **è§£æ±ºæ–¹æ¡ˆ**: åœ¨ `zh-TW.json` å’Œ `en.json` çš„ `projects.detail` å‘½åç©ºé–“æ·»åŠ  `noQuotes` éµ
   - **Commit**: `ed5b1ca`

2. âœ… **ä¿®å¾©å•é¡Œ2: PO é©—è­‰é‚è¼¯èª¤å ±**
   - **å•é¡Œ**: é¸æ“‡ä¾›æ‡‰å•†æ™‚å‡ºç¾"è©²å°ˆæ¡ˆå·²ç¶“é¸æ“‡äº†å ±åƒ¹å–®"éŒ¯èª¤ï¼Œä½†å°ˆæ¡ˆæ˜æ˜æ²’æœ‰é¸æ“‡ä»»ä½•ä¾›æ‡‰å•†
   - **æ ¹æœ¬åŸå› **: é©—è­‰é‚è¼¯æ²’æœ‰æ’é™¤ç•¶å‰æ­£åœ¨è™•ç†çš„å ±åƒ¹ï¼Œå°è‡´ç„¡æ³•é‡æ–°é¸æ“‡åŒä¸€ä»½å ±åƒ¹
   - **è§£æ±ºæ–¹æ¡ˆ**: åœ¨ `purchaseOrder.ts` æ·»åŠ  `{ quoteId: { not: input.quoteId } }` æ¢ä»¶
   - **å½±éŸ¿**: ç”¨æˆ¶ç¾åœ¨å¯ä»¥é‡æ–°é¸æ“‡åŒä¸€ä»½å ±åƒ¹
   - **Commit**: `ed5b1ca`

3. âœ… **ä¿®å¾©å•é¡Œ3: Toast ç¿»è­¯éµéŒ¯èª¤**
   - **å•é¡Œ**: ä¸Šå‚³å ±åƒ¹å–®æ™‚å‡ºç¾ `IntlError: INSUFFICIENT_PATH: Message at 'toast.success' resolved to an object`
   - **åŸå› **: `tToast('success')` è©¦åœ–è¨ªå•ä¸€å€‹ç‰©ä»¶ï¼Œä½† next-intl è¦æ±‚å­—ä¸²
   - **è§£æ±ºæ–¹æ¡ˆ**: å°‡ `tToast('success')` æ”¹ç‚º `tToast('success.title')`
   - **Commit**: `01e257a`

4. âœ… **ä¿®å¾©å•é¡Œ4: å ±åƒ¹ä¸Šå‚³å¾Œé é¢ä¸è‡ªå‹•åˆ·æ–°**
   - **å•é¡Œ**: ä¸Šå‚³å ±åƒ¹å–®å¾Œï¼Œé é¢æ²’æœ‰æ›´æ–°ï¼Œéœ€è¦æ‰‹å‹•åˆ·æ–°
   - **æ ¹æœ¬åŸå› **: `onSuccess` åªèª¿ç”¨ `router.refresh()`ï¼Œä¸æœƒåˆ·æ–° tRPC/React Query çš„å®¢æˆ¶ç«¯æŸ¥è©¢å¿«å–
   - **è§£æ±ºæ–¹æ¡ˆ**:
     - æ·»åŠ  `const utils = api.useUtils()`
     - åœ¨ `onSuccess` ä¸­èª¿ç”¨ `utils.quote.getByProject.invalidate({ projectId })`
     - åŒæ™‚ invalidate `utils.quote.compare.invalidate({ projectId })`
   - **Commit**: `2d69bf6`

5. âœ… **ä¿®å¾©å•é¡Œ5: å ±åƒ¹æ–‡ä»¶ 404ï¼ˆé—œéµå•é¡Œï¼‰**
   - **å•é¡Œ**: é»æ“Šå ±åƒ¹æ–‡ä»¶é€£çµé¡¯ç¤º 404
   - **æ ¹æœ¬åŸå› **:
     - `process.cwd()` åœ¨ Next.js é–‹ç™¼æ¨¡å¼ä¸‹è¿”å› `apps/web` ç›®éŒ„
     - åŸä»£ç¢¼å‡è¨­ cwd ç‚º monorepo æ ¹ç›®éŒ„
     - å°è‡´å¯¦éš›è·¯å¾‘è®Šæˆ `apps/web/apps/web/public/uploads/quotes/`ï¼ˆé‡è¤‡ï¼‰
     - æ–‡ä»¶è¢«ä¿å­˜åœ¨éŒ¯èª¤ä½ç½®ï¼ŒNext.js ç„¡æ³•æœå‹™é€™äº›éœæ…‹æ–‡ä»¶
   - **ç™¼ç¾éç¨‹**:
     - æ·»åŠ èª¿è©¦æ—¥èªŒåˆ° `route.ts`
     - åˆ†æé–‹ç™¼æœå‹™å™¨æ—¥èªŒ
     - ç™¼ç¾è·¯å¾‘ä¸­æœ‰å…©å€‹ `apps\web`
   - **è§£æ±ºæ–¹æ¡ˆ**:
     - æ·»åŠ è·¯å¾‘æª¢æ¸¬é‚è¼¯ï¼šæª¢æ¸¬ cwd æ˜¯å¦å·²åœ¨ `apps/web` ç›®éŒ„
     - æ ¹æ“šæª¢æ¸¬çµæœä½¿ç”¨æ­£ç¢ºçš„è·¯å¾‘æ‹¼æ¥æ–¹å¼
     - é·ç§» 9 å€‹èˆŠæ–‡ä»¶åˆ°æ­£ç¢ºä½ç½® `apps/web/public/uploads/quotes/`
     - æ¸…ç†éŒ¯èª¤ç›®éŒ„çµæ§‹ `apps/web/apps/web/`
   - **å½±éŸ¿**:
     - âœ… æ‰€æœ‰æ–°ä¸Šå‚³çš„æ–‡ä»¶éƒ½æœƒä¿å­˜åœ¨æ­£ç¢ºä½ç½®
     - âœ… 9 å€‹èˆŠæ–‡ä»¶å·²é·ç§»ï¼Œç”¨æˆ¶ç¾åœ¨å¯ä»¥æ­£å¸¸è¨ªå•æ‰€æœ‰å ±åƒ¹æ–‡ä»¶
   - **Commit**: `0628615`

6. âœ… **æŠ€è¡“äº®é»**
   - **ç³»çµ±æ€§èª¿è©¦**: ä½¿ç”¨èª¿è©¦æ—¥èªŒå’Œæœå‹™å™¨è¼¸å‡ºåˆ†æå•é¡Œ
   - **å®Œæ•´ä¿®å¾©**: ä¸åƒ…ä¿®å¾©æ–°æ–‡ä»¶ï¼Œé‚„é·ç§»äº†èˆŠæ–‡ä»¶
   - **è·¯å¾‘é©é…**: æ™ºèƒ½æª¢æ¸¬ `process.cwd()` è¿”å›å€¼ï¼Œé©é…ä¸åŒç’°å¢ƒ
   - **React Query Invalidation**: æ­£ç¢ºä½¿ç”¨ tRPC utils åˆ·æ–°å®¢æˆ¶ç«¯æŸ¥è©¢å¿«å–

#### Azure Dev ç’°å¢ƒé¦–æ¬¡éƒ¨ç½² âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-20 20:00 - 23:50
**åŸ·è¡Œéšæ®µ**: éšæ®µ 0-2.11 å…¨éƒ¨å®Œæˆ

1. âœ… **Docker å»ºç½®ä¿®å¾©ï¼ˆ8 æ¬¡å˜—è©¦ï¼‰**
   - **å•é¡Œ**: NextAuth.js v5 é…ç½®éŒ¯èª¤å°è‡´å»ºç½®å¤±æ•—
   - **æ ¹æœ¬åŸå› **: Post-MVP ç‰ˆæœ¬èˆ‡ FIX-009 æˆåŠŸç‰ˆæœ¬ä¸ä¸€è‡´
   - **é—œéµä¿®å¾©** (4 å€‹ commits):
     - `c58f819`: å›æ»¾éŒ¯èª¤çš„ JWT æ¨¡çµ„è·¯å¾‘ (`'next-auth/jwt'` â†’ `'@auth/core/jwt'`)
     - `189dd1e`: æ¢å¾© route.ts è§£æ§‹è³¦å€¼å°å‡º (`export const { GET, POST } = handlers;`)
     - `3170caa`: ç°¡åŒ– webpack externals é…ç½®ï¼ˆç§»é™¤éåº¦æ¿€é€²çš„é…ç½®ï¼‰
     - `e315b48`: ä¿®å¾© Dockerfile Prisma è·¯å¾‘ï¼ˆç§»é™¤ä¸å¿…è¦çš„ `.prisma` è¤‡è£½ï¼‰
   - **Build å˜—è©¦è¨˜éŒ„**:
     - Build 1-6 å¤±æ•—: NextAuth SyntaxError (`Unexpected identifier 'as'`)
     - Build 7 å¤±æ•—: Dockerfile è·¯å¾‘éŒ¯èª¤ (`"/app/node_modules/.prisma": not found`)
     - Build 8 æˆåŠŸ: å®Œæ•´ 67 å€‹è·¯ç”±ç”Ÿæˆï¼Œæ˜ åƒå¤§å° 856 MB (ID: b871c1)

2. âœ… **Azure Container Registry éƒ¨ç½²**
   - ç™»å…¥ ACR: `az acr login --name acritpmdev` âœ…
   - æ¨é€æ˜ åƒ: `docker push acritpmdev.azurecr.io/itpm-web:latest` (856 MB) âœ…
   - æ˜ åƒæ¨™ç±¤: `latest` (åŸºæ–¼ commit e315b48)

3. âœ… **PostgreSQL é˜²ç«ç‰†è¦å‰‡é…ç½®**
   - é…ç½® 20 å€‹ App Service å‡ºç«™ IP åœ°å€
   - å…è¨±ç¯„åœ: 20.255.186.2 ~ 20.247.53.135
   - æ–¹æ³•: Azure CLI æ‰¹æ¬¡å‰µå»º

4. âœ… **App Service é‡å•Ÿèˆ‡é·ç§»**
   - é‡å•Ÿæœå‹™æ‹‰å–æ–°æ˜ åƒ: `az webapp restart` âœ…
   - è³‡æ–™åº«é·ç§»æˆåŠŸ (3 å€‹ migrations):
     - `20251002162554_add_user_password` âœ…
     - `20251116221241_feat_001_add_project_fields_and_currency` âœ…
     - `20251117162014_feat_002_add_currency_to_budget_pool` âœ…

5. âœ… **éƒ¨ç½²å¾Œé©—è­‰ï¼ˆéšæ®µ 2.11ï¼‰**
   - æ‡‰ç”¨ç¨‹å¼è¨ªå•: https://app-itpm-dev-001.azurewebsites.net âœ…
   - App Service ç‹€æ…‹: Running âœ…
   - éŒ¯èª¤æ—¥èªŒæª¢æŸ¥: ç„¡ NextAuth éŒ¯èª¤ âœ…
   - è³‡æ–™åº«é€£æ¥: æˆåŠŸ âœ…

6. âœ… **Azure è³‡æºæ¸…å–®**
   - App Service: `app-itpm-dev-001` (East Asia)
   - PostgreSQL: `psql-itpm-dev-001` (East Asia, Flexible Server)
   - Container Registry: `acritpmdev` (East Asia)
   - Storage Account: `stgitpmdev001`
   - Key Vault: `kv-itpm-dev` (12 å€‹ secrets)

7. âœ… **æŠ€è¡“äº®é»**
   - **ç³»çµ±æ€§å•é¡Œåˆ†æ**: æ·±å…¥å°æ¯” Git æ­·å²ï¼Œæ‰¾åˆ° FIX-009 æˆåŠŸç‰ˆæœ¬ä½œç‚ºåŸºæº–
   - **4 å€‹ç²¾æº–ä¿®å¾©**: æ¯å€‹ä¿®å¾©éƒ½é‡å°å…·é«”å•é¡Œï¼Œç„¡å‰¯ä½œç”¨
   - **å®Œæ•´é©—è­‰**: å»ºç½®ã€éƒ¨ç½²ã€é·ç§»ã€ç…™éœ§æ¸¬è©¦å…¨éƒ¨é€šé
   - **æ–‡æª”å®Œæ•´æ€§**: æ‰€æœ‰éç¨‹è¨˜éŒ„åœ¨ `AZURE-DEPLOY-PREP/06-deployment-execution-log.md`

## ä¸‹é€±è¨ˆåŠƒ

### å¾…å®Œæˆä»»å‹™
- [x] âœ… **FEAT-001 çµæ¡ˆå·¥ä½œ** - å·²å®Œæˆ 100%
- [x] âœ… **FEAT-002 Phase 1: BudgetPool & Quote** - å·²å®Œæˆ 100%
- [x] âœ… **FEAT-002 Phase 2: PurchaseOrder & Expense** - å·²å®Œæˆ 100%
  - [x] Task 2.1: PurchaseOrder è²¨å¹£æ¬„ä½æ›´æ–° âœ…
  - [x] Task 2.2: Expense è²¨å¹£æ¬„ä½æ›´æ–° âœ…
  - [x] Task 2.3: å…¨é¢æ¸¬è©¦ï¼ˆå»ºç«‹æµç¨‹ + é¡¯ç¤ºï¼‰âœ…
- [x] âœ… **Bug ä¿®å¾©: å ±åƒ¹ä¸Šå‚³å’Œå°ˆæ¡ˆå ±åƒ¹é é¢å•é¡Œ** - å·²å®Œæˆ 100%
- [x] âœ… **Azure Dev ç’°å¢ƒé¦–æ¬¡éƒ¨ç½²** - å·²å®Œæˆ 100%

- [ ] **FEAT-002 Phase 3: Quote é¡¯ç¤ºå±¤é¢æ›´æ–°ï¼ˆå¯é¸ï¼‰**
  - [ ] æ›´æ–° Quote åˆ—è¡¨å’Œè©³æƒ…é é¢ä½¿ç”¨ CurrencyDisplay
  - [ ] é è¨ˆæ™‚é–“ï¼š1-2 å°æ™‚

- [ ] **é–‹å§‹ä¸‹ä¸€å€‹åŠŸèƒ½/Epic**
  - [ ] è¦åŠƒ Epic 9: AI åŠ©æ‰‹åŠŸèƒ½
  - [ ] æˆ–é€²è¡Œæ—¢å­˜å•é¡Œä¿®å¾©ï¼ˆESLint, TypeScript è­¦å‘Šï¼‰

- [ ] **æŠ€è¡“å‚µå‹™è™•ç†ï¼ˆå¯é¸ï¼‰**
  - [ ] ä¿®å¾© packages/auth ESLint è­¦å‘Šï¼ˆ58 å€‹å•é¡Œï¼‰
  - [ ] ä¿®å¾© packages/web TypeScript éŒ¯èª¤ï¼ˆ10+ è™•ï¼‰
  - [ ] Prettier æ ¼å¼åŒ–æ•´å€‹é …ç›®

## é¢¨éšªæç¤º
- âœ… **Phase 5 UI è¤‡é›œåº¦** - å·²è§£æ±ºï¼Œæ‰€æœ‰ç¯©é¸å™¨æ¸¬è©¦é€šé
- âœ… **I18N éµæ•¸é‡** - 1759 keys é©—è­‰é€šéï¼Œ100% ä¸€è‡´
- âš ï¸ **API æ€§èƒ½** - å¤šå€‹ç¯©é¸å™¨çµ„åˆå¯èƒ½å½±éŸ¿æŸ¥è©¢æ€§èƒ½
  - **ç‹€æ…‹**: å°šæœªé€²è¡Œå£“åŠ›æ¸¬è©¦
  - **å»ºè­°**: æœªä¾†åœ¨ç”Ÿç”¢ç’°å¢ƒç›£æ§ `project.getAll` æŸ¥è©¢æ•ˆèƒ½
  - **ç·©è§£æªæ–½**: ç¢ºä¿è³‡æ–™åº«ç´¢å¼•å·²å»ºç«‹ï¼ˆprojectCode, globalFlag, priority, currencyIdï¼‰

## çµ±è¨ˆæ•¸æ“š
- **ä»£ç¢¼è¡Œæ•¸**: +2,700 / -50
- **æ–‡ä»¶è®Šæ›´**: 13 å€‹æ–°å¢/ä¿®æ”¹
- **Commits**: 16 æ¬¡ï¼ˆå« Azure éƒ¨ç½²ä¿®å¾©ï¼‰
- **å·¥ä½œæ™‚é–“**: ~12 å°æ™‚ï¼ˆå« Azure éƒ¨ç½² 4 å°æ™‚ï¼‰
- **å®Œæˆåº¦**: FEAT-001 **100%** âœ… | FEAT-002 Phase 1-2 **100%** âœ… | Azure Dev éƒ¨ç½² **100%** âœ…

#### ç”¨æˆ¶è¨»å†Šç³»çµ±å¯¦ç¾ âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-21

1. âœ… **å•é¡Œç™¼ç¾èˆ‡ä¿®å¾©**
   - **å•é¡Œ1**: Login é é¢ Register é€£çµç¼ºå°‘ i18n è·¯ç”±
     - ä½¿ç”¨ `<a href="/register">` å°è‡´è·³è½‰è‡³ `/register` è€Œé `/zh-TW/register`
     - ä¿®å¾©ï¼šæ”¹ç”¨ `<Link>` çµ„ä»¶å¾ `@/i18n/routing`

   - **å•é¡Œ2**: Register é é¢åƒ…æœ‰ mock å¯¦ç¾
     - è¨»å†Šè¡¨å–®é¡¯ç¤ºæˆåŠŸä½†æœªå‰µå»ºè³‡æ–™åº«è¨˜éŒ„
     - ç„¡å¯†ç¢¼åŠ å¯†
     - ç„¡é‡è¤‡å¸³è™Ÿæª¢æŸ¥

2. âœ… **å®Œæ•´å¯¦ç¾ç”¨æˆ¶è¨»å†Šç³»çµ±**
   - **æ–°å¢æª”æ¡ˆ**: `apps/web/src/app/api/auth/register/route.ts` (229 è¡Œ)
     - POST API endpoint å®Œæ•´å¯¦ç¾
     - Zod schema è¼¸å…¥é©—è­‰ï¼ˆname, email, passwordï¼‰
     - bcrypt å¯†ç¢¼åŠ å¯†ï¼ˆ10 salt roundsï¼‰
     - é‡è¤‡ email æª¢æŸ¥ï¼ˆPrisma unique constraintï¼‰
     - é è¨­ roleId = 1 (ProjectManager)
     - å®Œæ•´éŒ¯èª¤è™•ç†ï¼ˆ400/500 ç‹€æ…‹ç¢¼ï¼‰

   - **ä¿®æ”¹æª”æ¡ˆ**:
     - `apps/web/src/app/[locale]/login/page.tsx` (Line 61, 277-282)
       - æ·»åŠ  Link import
       - å°‡ `<a>` æ”¹ç‚º `<Link>` çµ„ä»¶

     - `apps/web/src/app/[locale]/register/page.tsx` (Lines 98-124)
       - æ›¿æ› mock setTimeout ç‚ºå¯¦éš› API èª¿ç”¨
       - Fetch `/api/auth/register` endpoint
       - å®Œæ•´éŒ¯èª¤è™•ç†å’ŒæˆåŠŸç‹€æ…‹ç®¡ç†

     - `apps/web/src/messages/zh-TW.json` (Lines 252-257)
       - æ–°å¢ `emailAlreadyExists` éŒ¯èª¤è¨Šæ¯

     - `apps/web/src/messages/en.json` (Lines 227-263)
       - å®Œæ•´é‡æ§‹ register å‘½åç©ºé–“çµæ§‹
       - åŒ¹é… zh-TW.json åµŒå¥—çµæ§‹
       - æ–°å¢æ‰€æœ‰ç¼ºå¤±çš„ç¿»è­¯éµ

3. âœ… **ä¾è³´å®‰è£**
   - å®‰è£ bcrypt: `pnpm add bcrypt @types/bcrypt --filter=web`
   - ä¿®æ­£ monorepo workspace å®‰è£æ–¹å¼

4. âœ… **éŒ¯èª¤ä¿®å¾©éç¨‹**
   - **éŒ¯èª¤1**: `ReferenceError: Link is not defined`
     - åŸå› ï¼šå¿˜è¨˜ import Link
     - ä¿®å¾©ï¼šåœ¨ Line 61 æ·»åŠ  Link import

   - **éŒ¯èª¤2**: `Module not found: Can't resolve 'bcrypt'`
     - åŸå› ï¼šbcrypt æœªå®‰è£
     - ä¿®å¾©ï¼šä½¿ç”¨ `--filter=web` å®‰è£åˆ°æ­£ç¢º workspace

5. âœ… **æ¸¬è©¦é©—è­‰**
   - âœ… i18n è·¯ç”±æ­£å¸¸ï¼š`/zh-TW/login` â†’ `/zh-TW/register`
   - âœ… è¨»å†ŠåŠŸèƒ½æ­£å¸¸ï¼šå‰µå»º User è¨˜éŒ„åˆ°è³‡æ–™åº«
   - âœ… å¯†ç¢¼åŠ å¯†ï¼šbcrypt hash å„²å­˜
   - âœ… é‡è¤‡æª¢æŸ¥ï¼šç›¸åŒ email é¡¯ç¤ºéŒ¯èª¤
   - âœ… ç™»å…¥åŠŸèƒ½ï¼šå¯ä½¿ç”¨æ–°è¨»å†Šå¸³è™Ÿç™»å…¥
   - **ç”¨æˆ¶ç¢ºèª**: "ç¶“éæ¸¬è©¦ä¹‹å¾Œ, ç¾åœ¨å¯ä»¥æ­£å¸¸æ³¨å†Šå’Œç™»éŒ„äº†"

6. âœ… **ä»£ç¢¼çµ±è¨ˆ**
   - æ–°å¢æª”æ¡ˆï¼š1 å€‹ (229 è¡Œ)
   - ä¿®æ”¹æª”æ¡ˆï¼š5 å€‹
   - æ–°å¢ä¾è³´ï¼š2 å€‹ (bcrypt + @types/bcrypt)
   - ä¿®æ”¹è¡Œæ•¸ï¼š~100 lines
   - æ–°å¢ç¿»è­¯éµï¼š2 å€‹ (emailAlreadyExists ä¸­è‹±æ–‡)

7. âœ… **æŠ€è¡“äº®é»**
   - **å®Œæ•´çš„è¨»å†Šæµç¨‹**: è¼¸å…¥é©—è­‰ â†’ é‡è¤‡æª¢æŸ¥ â†’ å¯†ç¢¼åŠ å¯† â†’ ç”¨æˆ¶å‰µå»º
   - **å®‰å…¨æ€§**: bcrypt 10 rounds, å¯†ç¢¼ä¸æ˜æ–‡å„²å­˜
   - **i18n è·¯ç”±**: æ­£ç¢ºä½¿ç”¨ next-intl Link çµ„ä»¶
   - **éŒ¯èª¤è™•ç†**: å€åˆ†é©—è­‰éŒ¯èª¤ã€é‡è¤‡å¸³è™Ÿã€ç³»çµ±éŒ¯èª¤
   - **ç”¨æˆ¶é«”é©—**: æ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯å’ŒæˆåŠŸæç¤º

#### Azure è¨»å†Š API 500 éŒ¯èª¤è¨ºæ–·èˆ‡ä¿®å¾© âœ…
**ç‹€æ…‹**: å®Œæˆ (100%)
**å®Œæˆæ™‚é–“**: 2025-11-22

1. âœ… **å•é¡ŒèƒŒæ™¯**
   - Azure Dev ç’°å¢ƒè¨»å†Š API è¿”å› HTTP 500 éŒ¯èª¤
   - æœ¬åœ°é–‹ç™¼ç’°å¢ƒå®Œå…¨æ­£å¸¸
   - ç¶“é 6 æ¬¡éƒ¨ç½²å˜—è©¦ï¼ˆv2-register è‡³ v6-nodejs-resolutionï¼‰å•é¡ŒæŒçºŒå­˜åœ¨

2. âœ… **ç³»çµ±æ€§è¨ºæ–·éç¨‹**
   - **Option B: Prisma Client è·¯å¾‘èª¿æŸ¥**
     - ç™¼ç¾ Dockerfile è¤‡è£½è·¯å¾‘éŒ¯èª¤ï¼ˆ`@prisma` vs `@prisma/client`ï¼‰
     - ä¿®å¾© v5 å’Œ v6 Dockerfileï¼Œç¢ºä¿æ­£ç¢º Node.js æ¨¡çµ„è§£æ
     - çµæœï¼šå»ºç½®æˆåŠŸä½† 500 éŒ¯èª¤æŒçºŒ

   - **Option C: ç¶œåˆå•é¡Œæª¢æŸ¥**ï¼ˆé—œéµçªç ´ï¼‰
     - æŸ¥çœ‹ v6 é‹è¡Œæ™‚æ—¥èªŒï¼šç™¼ç¾ P2003 å¤–éµç´„æŸéŒ¯èª¤
     - æª¢æŸ¥ Azure è³‡æ–™åº«ï¼šRole è¡¨å®Œå…¨ç©ºçš„ï¼ˆç„¡ seed dataï¼‰
     - è­˜åˆ¥æ ¹å› ï¼šMigration åŸ·è¡Œä½† Seed æœªåŸ·è¡Œ

3. âœ… **è§£æ±ºæ–¹æ¡ˆå¯¦æ–½**
   - ç›´æ¥æ’å…¥ Role è¨˜éŒ„åˆ° Azure è³‡æ–™åº«ï¼š
     ```sql
     INSERT INTO "Role" (id, name) VALUES
       (1, 'ProjectManager'),
       (2, 'Supervisor'),
       (3, 'Admin');
     ```

4. âœ… **é©—è­‰çµæœ**
   - è¨»å†Š API è¿”å› HTTP 201 Created âœ…
   - æˆåŠŸå‰µå»ºç”¨æˆ¶è¨˜éŒ„
   - Response time: 1.3 ç§’
   - å®Œå…¨æ­£å¸¸é‹ä½œ

5. âœ… **æŠ€è¡“äº®é»**
   - **ç³»çµ±æ€§è¨ºæ–·**: çµæ§‹åŒ–æ–¹æ³•ï¼ˆOption B â†’ Option Cï¼‰
   - **è©³ç´°æ—¥èªŒåˆ†æ**: v4 å¢å¼·æ—¥èªŒå¿«é€Ÿå®šä½ P2003 éŒ¯èª¤
   - **ç’°å¢ƒå·®ç•°è­˜åˆ¥**: æ­£ç¢ºè­˜åˆ¥æœ¬åœ° vs Azure çš„é—œéµå·®ç•°
   - **Dockerfile æ”¹é€²**: v6 è·¯å¾‘ä¿®å¾©ç¢ºä¿æ­£ç¢ºæ¶æ§‹

6. âœ… **å­¸åˆ°çš„æ•™è¨“**
   - Migration â‰  Seedï¼šéƒ¨ç½²æª¢æŸ¥æ¸…å–®éœ€åŒ…å« seed data
   - è©³ç´°æ—¥èªŒçš„é‡è¦æ€§ï¼šç«‹å³å®šä½å•é¡Œ
   - ç³»çµ±æ€§è¨ºæ–·å‹éç›²ç›®å˜—è©¦

7. âœ… **æ–°å¢æ–‡æª”**
   - `claudedocs/1-planning/features/AZURE-DEPLOY-PREP/deployment-log.md`
   - `claudedocs/1-planning/features/AZURE-DEPLOY-PREP/issue-analysis.md`
   - `claudedocs/1-planning/features/AZURE-DEPLOY-PREP/migration-checklist.md`
   - `claudedocs/1-planning/features/AZURE-DEPLOY-PREP/multi-environment-strategy.md`

## æœ¬é€±äº®é»
1. âœ¨ **FEAT-001 å®Œæ•´äº¤ä»˜** - Phase 1-6 å…¨éƒ¨å®Œæˆï¼Œ100% é€šéæ¸¬è©¦
2. âœ¨ **å®Œæ•´å¯¦ç¾è²¨å¹£ç®¡ç†ç³»çµ±** - ISO 4217 æ¨™æº–ï¼Œ6 å€‹é è¨­è²¨å¹£
3. âœ¨ **å°ˆæ¡ˆåˆ—è¡¨é€²éšåŠŸèƒ½** - 5 å€‹ç¯©é¸å™¨ + 10 å€‹æ’åºé¸é … + OR æœå°‹
4. âœ¨ **å°ˆæ¡ˆç·¨è™Ÿå³æ™‚å”¯ä¸€æ€§é©—è­‰** - debounce 500msï¼ŒUX é«”é©—è‰¯å¥½
5. âœ¨ **I18N æ”¯æ´å®Œå–„** - 1759 keysï¼Œzh-TW + en 100% ä¸€è‡´
6. âœ¨ **5 å€‹ bug å¿«é€Ÿä¿®å¾©** - i18n è·¯å¾‘ã€import è·¯å¾‘ã€è³‡æ–™æå–ã€æ¨™ç±¤æ¸…æ™°åº¦
7. ğŸš€ **Azure Dev ç’°å¢ƒé¦–æ¬¡æˆåŠŸéƒ¨ç½²** - Docker å»ºç½®ä¿®å¾©ã€ACR æ¨é€ã€PostgreSQL é…ç½®ã€è³‡æ–™åº«é·ç§»å…¨éƒ¨æˆåŠŸ
8. ğŸ” **ç”¨æˆ¶è¨»å†Šç³»çµ±å®Œæ•´å¯¦ç¾** - å®‰å…¨å¯†ç¢¼åŠ å¯†ã€é‡è¤‡å¸³è™Ÿæª¢æŸ¥ã€å®Œæ•´ i18n æ”¯æ´
9. ğŸš¨ **Azure éƒ¨ç½²å•é¡Œç³»çµ±æ€§è¨ºæ–·** - æˆåŠŸè§£æ±ºè¨»å†Š API 500 éŒ¯èª¤ï¼Œè­˜åˆ¥ seed data ç¼ºå¤±å•é¡Œ
